(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{5:function(e,t,n){e.exports=n("zUnb")},crnI:function(e,t){var n,o,r,i,a,s,l,u,c;window.CKEDITOR&&window.CKEDITOR.dom||(window.CKEDITOR||(window.CKEDITOR=function(){var e=/(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,t={timestamp:"I3I8",version:"4.9.2 (Standard)",revision:"95e5d83ee",rnd:Math.floor(900*Math.random())+100,_:{pending:[],basePathSrcPattern:e},status:"unloaded",basePath:function(){var t=window.CKEDITOR_BASEPATH||"";if(!t)for(var n=document.getElementsByTagName("script"),o=0;o<n.length;o++){var r=n[o].src.match(e);if(r){t=r[1];break}}if(-1==t.indexOf(":/")&&"//"!=t.slice(0,2)&&(t=0===t.indexOf("/")?location.href.match(/^.*?:\/\/[^\/]*/)[0]+t:location.href.match(/^[^\?]*\/(?:)/)[0]+t),!t)throw'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';return t}(),getUrl:function(e){return-1==e.indexOf(":/")&&0!==e.indexOf("/")&&(e=this.basePath+e),this.timestamp&&"/"!=e.charAt(e.length-1)&&!/[&?]t=/.test(e)&&(e+=(0<=e.indexOf("?")?"&":"?")+"t="+this.timestamp),e},domReady:function(){function e(){try{document.addEventListener?(document.removeEventListener("DOMContentLoaded",e,!1),t()):document.attachEvent&&"complete"===document.readyState&&(document.detachEvent("onreadystatechange",e),t())}catch(e){}}function t(){for(var e;e=n.shift();)e()}var n=[];return function(t){if(n.push(t),"complete"===document.readyState&&setTimeout(e,1),1==n.length)if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",e),window.attachEvent("onload",e),t=!1;try{t=!window.frameElement}catch(e){}document.documentElement.doScroll&&t&&function t(){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(t,1)}e()}()}}}()},n=window.CKEDITOR_GETURL;if(n){var o=t.getUrl;t.getUrl=function(e){return n.call(t,e)||o.call(t,e)}}return t}()),CKEDITOR.event||(CKEDITOR.event=function(){},CKEDITOR.event.implementOn=function(e){var t,n=CKEDITOR.event.prototype;for(t in n)null==e[t]&&(e[t]=n[t])},CKEDITOR.event.prototype=function(){function e(e){var o=t(this);return o[e]||(o[e]=new n(e))}var t=function(e){return(e=e.getPrivate&&e.getPrivate()||e._||(e._={})).events||(e.events={})},n=function(e){this.name=e,this.listeners=[]};return n.prototype={getListenerIndex:function(e){for(var t=0,n=this.listeners;t<n.length;t++)if(n[t].fn==e)return t;return-1}},{define:function(t,n){var o=e.call(this,t);CKEDITOR.tools.extend(o,n,!0)},on:function(t,n,o,r,i){function a(e,i,a,l){return!1!==n.call(o,e={name:t,sender:this,editor:e,data:i,listenerData:r,stop:a,cancel:l,removeListener:s})&&e.data}function s(){u.removeListener(t,n)}var l=e.call(this,t);if(0>l.getListenerIndex(n)){l=l.listeners,o||(o=this),isNaN(i)&&(i=10);var u=this;a.fn=n,a.priority=i;for(var c=l.length-1;0<=c;c--)if(l[c].priority<=i)return l.splice(c+1,0,a),{removeListener:s};l.unshift(a)}return{removeListener:s}},once:function(){var e=Array.prototype.slice.call(arguments),t=e[1];return e[1]=function(e){return e.removeListener(),t.apply(this,arguments)},this.on.apply(this,e)},capture:function(){CKEDITOR.event.useCapture=1;var e=this.on.apply(this,arguments);return CKEDITOR.event.useCapture=0,e},fire:function(){var e=0,n=function(){e=1},o=0,r=function(){o=1};return function(i,a,s){var l=t(this)[i];i=e;var u=o;if(e=o=0,l&&(d=l.listeners).length)for(var c,d=d.slice(0),h=0;h<d.length;h++){if(l.errorProof)try{c=d[h].call(this,s,a,n,r)}catch(e){}else c=d[h].call(this,s,a,n,r);if(!1===c?o=1:void 0!==c&&(a=c),e||o)break}return a=!o&&(void 0===a||a),e=i,o=u,a}}(),fireOnce:function(e,n,o){return n=this.fire(e,n,o),delete t(this)[e],n},removeListener:function(e,n){var o=t(this)[e];if(o){var r=o.getListenerIndex(n);0<=r&&o.listeners.splice(r,1)}},removeAllListeners:function(){var e,n=t(this);for(e in n)delete n[e]},hasListeners:function(e){return(e=t(this)[e])&&0<e.listeners.length}}}()),CKEDITOR.editor||(CKEDITOR.editor=function(){CKEDITOR._.pending.push([this,arguments]),CKEDITOR.event.call(this)},CKEDITOR.editor.prototype.fire=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fire.call(this,e,t,this)},CKEDITOR.editor.prototype.fireOnce=function(e,t){return e in{instanceReady:1,loaded:1}&&(this[e]=!0),CKEDITOR.event.prototype.fireOnce.call(this,e,t,this)},CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)),CKEDITOR.env||(CKEDITOR.env=function(){var e=navigator.userAgent.toLowerCase(),t=e.match(/edge[ \/](\d+.?\d*)/),n=-1<e.indexOf("trident/");(n={ie:n=!(!t&&!n),edge:!!t,webkit:!n&&-1<e.indexOf(" applewebkit/"),air:-1<e.indexOf(" adobeair/"),mac:-1<e.indexOf("macintosh"),quirks:"BackCompat"==document.compatMode&&(!document.documentMode||10>document.documentMode),mobile:-1<e.indexOf("mobile"),iOS:/(ipad|iphone|ipod)/.test(e),isCustomDomain:function(){if(!this.ie)return!1;var e=document.domain,t=window.location.hostname;return e!=t&&e!="["+t+"]"},secure:"https:"==location.protocol}).gecko="Gecko"==navigator.product&&!n.webkit&&!n.ie,n.webkit&&(-1<e.indexOf("chrome")?n.chrome=!0:n.safari=!0);var o=0;return n.ie&&(o=t?parseFloat(t[1]):n.quirks||!document.documentMode?parseFloat(e.match(/msie (\d+)/)[1]):document.documentMode,n.ie9Compat=9==o,n.ie8Compat=8==o,n.ie7Compat=7==o,n.ie6Compat=7>o||n.quirks),n.gecko&&(t=e.match(/rv:([\d\.]+)/))&&(o=1e4*(t=t[1].split("."))[0]+100*(t[1]||0)+1*(t[2]||0)),n.air&&(o=parseFloat(e.match(/ adobeair\/(\d+)/)[1])),n.webkit&&(o=parseFloat(e.match(/ applewebkit\/(\d+)/)[1])),n.version=o,n.isCompatible=!(n.ie&&7>o||n.gecko&&4e4>o||n.webkit&&534>o),n.hidpi=2<=window.devicePixelRatio,n.needsBrFiller=n.gecko||n.webkit||n.ie&&10<o,n.needsNbspFiller=n.ie&&11>o,n.cssClass="cke_browser_"+(n.ie?"ie":n.gecko?"gecko":n.webkit?"webkit":"unknown"),n.quirks&&(n.cssClass+=" cke_browser_quirks"),n.ie&&(n.cssClass+=" cke_browser_ie"+(n.quirks?"6 cke_browser_iequirks":n.version)),n.air&&(n.cssClass+=" cke_browser_air"),n.iOS&&(n.cssClass+=" cke_browser_ios"),n.hidpi&&(n.cssClass+=" cke_hidpi"),n}()),"unloaded"==CKEDITOR.status&&(CKEDITOR.event.implementOn(CKEDITOR),CKEDITOR.loadFullCore=function(){if("basic_ready"!=CKEDITOR.status)CKEDITOR.loadFullCore._load=1;else{delete CKEDITOR.loadFullCore;var e=document.createElement("script");e.type="text/javascript",e.src=CKEDITOR.basePath+"ckeditor.js",document.getElementsByTagName("head")[0].appendChild(e)}},CKEDITOR.loadFullCoreTimeout=0,CKEDITOR.add=function(e){(this._.pending||(this._.pending=[])).push(e)},CKEDITOR.domReady(function(){var e=CKEDITOR.loadFullCore,t=CKEDITOR.loadFullCoreTimeout;e&&(CKEDITOR.status="basic_ready",e&&e._load?e():t&&setTimeout(function(){CKEDITOR.loadFullCore&&CKEDITOR.loadFullCore()},1e3*t))}),CKEDITOR.status="basic_loaded"),CKEDITOR.VERBOSITY_WARN=1,CKEDITOR.VERBOSITY_ERROR=2,CKEDITOR.verbosity=CKEDITOR.VERBOSITY_WARN|CKEDITOR.VERBOSITY_ERROR,CKEDITOR.warn=function(e,t){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_WARN&&CKEDITOR.fire("log",{type:"warn",errorCode:e,additionalData:t})},CKEDITOR.error=function(e,t){CKEDITOR.verbosity&CKEDITOR.VERBOSITY_ERROR&&CKEDITOR.fire("log",{type:"error",errorCode:e,additionalData:t})},CKEDITOR.on("log",function(e){if(window.console&&window.console.log){var t=console[e.data.type]?e.data.type:"log",n=e.data.errorCode;(e=e.data.additionalData)?console[t]("[CKEDITOR] Error code: "+n+".",e):console[t]("[CKEDITOR] Error code: "+n+"."),console[t]("[CKEDITOR] For more information about this error go to https://docs.ckeditor.com/ckeditor4/docs/#!/guide/dev_errors-section-"+n)}},null,null,999),CKEDITOR.dom={},n=[],o=CKEDITOR.env.gecko?"-moz-":CKEDITOR.env.webkit?"-webkit-":CKEDITOR.env.ie?"-ms-":"",r=/&/g,i=/>/g,a=/</g,s=/"/g,l=/&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,u={lt:"<",gt:">",amp:"&",quot:'"',nbsp:"\xa0",shy:"\xad"},c=function(e,t){return"#"==t[0]?String.fromCharCode(parseInt(t.slice(1),10)):u[t]},CKEDITOR.on("reset",function(){n=[]}),CKEDITOR.tools={arrayCompare:function(e,t){if(!e&&!t)return!0;if(!e||!t||e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0},getIndex:function(e,t){for(var n=0;n<e.length;++n)if(t(e[n]))return n;return-1},clone:function(e){var t;if(e&&e instanceof Array){t=[];for(var n=0;n<e.length;n++)t[n]=CKEDITOR.tools.clone(e[n]);return t}if(null===e||"object"!=typeof e||e instanceof String||e instanceof Number||e instanceof Boolean||e instanceof Date||e instanceof RegExp||e.nodeType||e.window===e)return e;for(n in t=new e.constructor,e)t[n]=CKEDITOR.tools.clone(e[n]);return t},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},extend:function(e){var t,n,o=arguments.length;"boolean"==typeof(t=arguments[o-1])?o--:"boolean"==typeof(t=arguments[o-2])&&(n=arguments[o-1],o-=2);for(var r=1;r<o;r++){var i,a=arguments[r];for(i in a)!0!==t&&null!=e[i]||(!n||i in n)&&(e[i]=a[i])}return e},prototypedCopy:function(e){var t=function(){};return t.prototype=e,new t},copy:function(e){var t,n={};for(t in e)n[t]=e[t];return n},isArray:function(e){return"[object Array]"==Object.prototype.toString.call(e)},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},cssVendorPrefix:function(e,t,n){return n?o+e+":"+t+";"+e+":"+t:((n={})[e]=t,n[o+e]=t,n)},cssStyleToDomStyle:function(){var e=document.createElement("div").style,t=void 0!==e.cssFloat?"cssFloat":void 0!==e.styleFloat?"styleFloat":"float";return function(e){return"float"==e?t:e.replace(/-./g,function(e){return e.substr(1).toUpperCase()})}}(),buildStyleHtml:function(e){e=[].concat(e);for(var t,n=[],o=0;o<e.length;o++)(t=e[o])&&(/@import|[{}]/.test(t)?n.push("<style>"+t+"</style>"):n.push('<link type="text/css" rel=stylesheet href="'+t+'">'));return n.join("")},htmlEncode:function(e){return void 0===e||null===e?"":String(e).replace(r,"&amp;").replace(i,"&gt;").replace(a,"&lt;")},htmlDecode:function(e){return e.replace(l,c)},htmlEncodeAttr:function(e){return CKEDITOR.tools.htmlEncode(e).replace(s,"&quot;")},htmlDecodeAttr:function(e){return CKEDITOR.tools.htmlDecode(e)},transformPlainTextToHtml:function(e,t){var n=t==CKEDITOR.ENTER_BR,o=(o=this.htmlEncode(e.replace(/\r\n/g,"\n"))).replace(/\t/g,"&nbsp;&nbsp; &nbsp;"),r=t==CKEDITOR.ENTER_P?"p":"div";if(!n){var i=/\n{2}/g;if(i.test(o)){var a="<"+r+">",s="</"+r+">";o=a+o.replace(i,function(){return s+a})+s}}return o=o.replace(/\n/g,"<br>"),n||(o=o.replace(new RegExp("<br>(?=</"+r+">)"),function(e){return CKEDITOR.tools.repeat(e,2)})),(o=o.replace(/^ | $/g,"&nbsp;")).replace(/(>|\s) /g,function(e,t){return t+"&nbsp;"}).replace(/ (?=<)/g,"&nbsp;")},getNextNumber:function(){var e=0;return function(){return++e}}(),getNextId:function(){return"cke_"+this.getNextNumber()},getUniqueId:function(){for(var e="e",t=0;8>t;t++)e+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e},override:function(e,t){var n=t(e);return n.prototype=e.prototype,n},setTimeout:function(e,t,n,o,r){return r||(r=window),n||(n=r),r.setTimeout(function(){o?e.apply(n,[].concat(o)):e.apply(n)},t||0)},trim:function(){var e=/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;return function(t){return t.replace(e,"")}}(),ltrim:function(){var e=/^[ \t\n\r]+/g;return function(t){return t.replace(e,"")}}(),rtrim:function(){var e=/[ \t\n\r]+$/g;return function(t){return t.replace(e,"")}}(),indexOf:function(e,t){if("function"==typeof t){for(var n=0,o=e.length;n<o;n++)if(t(e[n]))return n}else{if(e.indexOf)return e.indexOf(t);for(n=0,o=e.length;n<o;n++)if(e[n]===t)return n}return-1},search:function(e,t){var n=CKEDITOR.tools.indexOf(e,t);return 0<=n?e[n]:null},bind:function(e,t){return function(){return e.apply(t,arguments)}},createClass:function(e){var t=e.$,n=e.base,o=e.privates||e._,r=e.proto;if(e=e.statics,!t&&(t=function(){n&&this.base.apply(this,arguments)}),o){var i=t;t=function(){var e,t=this._||(this._={});for(e in o){var n=o[e];t[e]="function"==typeof n?CKEDITOR.tools.bind(n,this):n}i.apply(this,arguments)}}return n&&(t.prototype=this.prototypedCopy(n.prototype),t.prototype.constructor=t,t.base=n,t.baseProto=n.prototype,t.prototype.base=function(){this.base=n.prototype.base,n.apply(this,arguments),this.base=arguments.callee}),r&&this.extend(t.prototype,r,!0),e&&this.extend(t,e,!0),t},addFunction:function(e,t){return n.push(function(){return e.apply(t||this,arguments)})-1},removeFunction:function(e){n[e]=null},callFunction:function(e){var t=n[e];return t&&t.apply(window,Array.prototype.slice.call(arguments,1))},cssLength:function(){var e,t=/^-?\d+\.?\d*px$/;return function(n){return e=CKEDITOR.tools.trim(n+"")+"px",t.test(e)?e:n||""}}(),convertToPx:function(){var e;return function(t){return e||(e=CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>',CKEDITOR.document),CKEDITOR.document.getBody().append(e)),/%$/.test(t)?t:(e.setStyle("width",t),e.$.clientWidth)}}(),repeat:function(e,t){return Array(t+1).join(e)},tryThese:function(){for(var e,t=0,n=arguments.length;t<n;t++){var o=arguments[t];try{e=o();break}catch(e){}}return e},genKey:function(){return Array.prototype.slice.call(arguments).join("-")},defer:function(e){return function(){var t=arguments,n=this;window.setTimeout(function(){e.apply(n,t)},0)}},normalizeCssText:function(e,t){var n,o=[],r=CKEDITOR.tools.parseCssText(e,!0,t);for(n in r)o.push(n+":"+r[n]);return o.sort(),o.length?o.join(";")+";":""},convertRgbToHex:function(e){return e.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi,function(e,t,n,o){for(e=[t,n,o],t=0;3>t;t++)e[t]=("0"+parseInt(e[t],10).toString(16)).slice(-2);return"#"+e.join("")})},normalizeHex:function(e){return e.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi,function(e,t,n,o){return 3==(e=t.toLowerCase()).length&&(e=[(e=e.split(""))[0],e[0],e[1],e[1],e[2],e[2]].join("")),"#"+e+o})},parseCssText:function(e,t,n){var o={};return n&&(e=new CKEDITOR.dom.element("span").setAttribute("style",e).getAttribute("style")||""),e&&(e=CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(e))),e&&";"!=e?(e.replace(/&quot;/g,'"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,n,r){t&&("font-family"==(n=n.toLowerCase())&&(r=r.replace(/\s*,\s*/g,",")),r=CKEDITOR.tools.trim(r)),o[n]=r}),o):o},writeCssText:function(e,t){var n,o=[];for(n in e)o.push(n+":"+e[n]);return t&&o.sort(),o.join("; ")},objectCompare:function(e,t,n){var o;if(!e&&!t)return!0;if(!e||!t)return!1;for(o in e)if(e[o]!=t[o])return!1;if(!n)for(o in t)if(e[o]!=t[o])return!1;return!0},objectKeys:function(e){var t,n=[];for(t in e)n.push(t);return n},convertArrayToObject:function(e,t){var n={};1==arguments.length&&(t=!0);for(var o=0,r=e.length;o<r;++o)n[e[o]]=t;return n},fixDomain:function(){for(var e;;)try{e=window.parent.document.domain;break}catch(t){if(!(e=e?e.replace(/.+?(?:\.|$)/,""):document.domain))break;document.domain=e}return!!e},eventsBuffer:function(e,t,n){function o(){i=(new Date).getTime(),r=!1,n?t.call(n):t()}var r,i=0;return{input:function(){if(!r){var t=(new Date).getTime()-i;t<e?r=setTimeout(o,e-t):o()}},reset:function(){r&&clearTimeout(r),r=i=0}}},enableHtml5Elements:function(e,t){for(var n,o="abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "),r=o.length;r--;)n=e.createElement(o[r]),t&&e.appendChild(n)},checkIfAnyArrayItemMatches:function(e,t){for(var n=0,o=e.length;n<o;++n)if(e[n].match(t))return!0;return!1},checkIfAnyObjectPropertyMatches:function(e,t){for(var n in e)if(n.match(t))return!0;return!1},keystrokeToString:function(e,t){var n=this.keystrokeToArray(e,t);return n.display=n.display.join("+"),n.aria=n.aria.join("+"),n},keystrokeToArray:function(e,t){var n=16711680&t,o=65535&t,r=CKEDITOR.env.mac,i=[],a=[];return n&CKEDITOR.CTRL&&(i.push(r?"\u2318":e[17]),a.push(r?e[224]:e[17])),n&CKEDITOR.ALT&&(i.push(r?"\u2325":e[18]),a.push(e[18])),n&CKEDITOR.SHIFT&&(i.push(r?"\u21e7":e[16]),a.push(e[16])),o&&(e[o]?(i.push(e[o]),a.push(e[o])):(i.push(String.fromCharCode(o)),a.push(String.fromCharCode(o)))),{display:i,aria:a}},transparentImageData:"data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",getCookie:function(e){e=e.toLowerCase();for(var t,n=document.cookie.split(";"),o=0;o<n.length;o++)if(t=n[o].split("="),decodeURIComponent(CKEDITOR.tools.trim(t[0]).toLowerCase())===e)return decodeURIComponent(1<t.length?t[1]:"");return null},setCookie:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/"},getCsrfToken:function(){if(!(e=CKEDITOR.tools.getCookie("ckCsrfToken"))||40!=e.length){var e=[],t="";if(window.crypto&&window.crypto.getRandomValues)e=new Uint8Array(40),window.crypto.getRandomValues(e);else for(var n=0;40>n;n++)e.push(Math.floor(256*Math.random()));for(n=0;n<e.length;n++){var o="abcdefghijklmnopqrstuvwxyz0123456789".charAt(e[n]%36);t+=.5<Math.random()?o.toUpperCase():o}e=t,CKEDITOR.tools.setCookie("ckCsrfToken",e)}return e},escapeCss:function(e){return e?window.CSS&&CSS.escape?CSS.escape(e):isNaN(parseInt(e.charAt(0),10))?e:"\\3"+e.charAt(0)+" "+e.substring(1,e.length):""},getMouseButton:function(e){var t=(e=e.data)&&e.$;return!(!e||!t)&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?4===t.button?CKEDITOR.MOUSE_BUTTON_MIDDLE:1===t.button?CKEDITOR.MOUSE_BUTTON_LEFT:CKEDITOR.MOUSE_BUTTON_RIGHT:t.button)},convertHexStringToBytes:function(e){var t,n=[],o=e.length/2;for(t=0;t<o;t++)n.push(parseInt(e.substr(2*t,2),16));return n},convertBytesToBase64:function(e){var t,n="",o=e.length;for(t=0;t<o;t+=3){var r,i=e.slice(t,t+3),a=i.length,s=[];if(3>a)for(r=a;3>r;r++)i[r]=0;for(s[0]=(252&i[0])>>2,s[1]=(3&i[0])<<4|i[1]>>4,s[2]=(15&i[1])<<2|(192&i[2])>>6,s[3]=63&i[2],r=0;4>r;r++)n=r<=a?n+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(s[r]):n+"="}return n},style:{parse:{_colors:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkgrey:"#A9A9A9",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",grey:"#808080",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgreen:"#90EE90",lightgrey:"#D3D3D3",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},_borderStyle:"none hidden dotted dashed solid double groove ridge inset outset".split(" "),_widthRegExp:/^(thin|medium|thick|[\+-]?\d+(\.\d+)?[a-z%]+|[\+-]?0+(\.0+)?|\.\d+[a-z%]+)$/,_rgbaRegExp:/rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,_hslaRegExp:/hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,background:function(e){var t={},n=this._findColor(e);return n.length&&(t.color=n[0],CKEDITOR.tools.array.forEach(n,function(t){e=e.replace(t,"")})),(e=CKEDITOR.tools.trim(e))&&(t.unprocessed=e),t},margin:function(e){function t(e){n.top=o[e[0]],n.right=o[e[1]],n.bottom=o[e[2]],n.left=o[e[3]]}var n={},o=e.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset)/g)||["0px"];switch(o.length){case 1:t([0,0,0,0]);break;case 2:t([0,1,0,1]);break;case 3:t([0,1,2,1]);break;case 4:t([0,1,2,3])}return n},border:function(e){var t={},n=e.split(/\s+/g);return(e=CKEDITOR.tools.style.parse._findColor(e)).length&&(t.color=e[0]),CKEDITOR.tools.array.forEach(n,function(e){t.style||-1===CKEDITOR.tools.indexOf(CKEDITOR.tools.style.parse._borderStyle,e)?!t.width&&CKEDITOR.tools.style.parse._widthRegExp.test(e)&&(t.width=e):t.style=e}),t},_findColor:function(e){var t=[],n=CKEDITOR.tools.array;return(t=(t=t.concat(e.match(this._rgbaRegExp)||[])).concat(e.match(this._hslaRegExp)||[])).concat(n.filter(e.split(/\s+/),function(e){return!!e.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi)||e.toLowerCase()in CKEDITOR.tools.style.parse._colors}))}}},array:{filter:function(e,t,n){var o=[];return this.forEach(e,function(r,i){t.call(n,r,i,e)&&o.push(r)}),o},forEach:function(e,t,n){var o,r=e.length;for(o=0;o<r;o++)t.call(n,e[o],o,e)},map:function(e,t,n){for(var o=[],r=0;r<e.length;r++)o.push(t.call(n,e[r],r,e));return o},reduce:function(e,t,n,o){for(var r=0;r<e.length;r++)n=t.call(o,n,e[r],r,e);return n},every:function(e,t,n){return!e.length||(t=this.filter(e,t,n),e.length===t.length)}},object:{findKey:function(e,t){if("object"!=typeof e)return null;for(var n in e)if(e[n]===t)return n;return null},merge:function(e,t){var n=CKEDITOR.tools,o=n.clone(e),r=n.clone(t);return n.array.forEach(n.objectKeys(r),function(e){o[e]="object"==typeof r[e]&&"object"==typeof o[e]?n.object.merge(o[e],r[e]):r[e]}),o}}},CKEDITOR.tools.array.indexOf=CKEDITOR.tools.indexOf,CKEDITOR.tools.array.isArray=CKEDITOR.tools.isArray,CKEDITOR.MOUSE_BUTTON_LEFT=0,CKEDITOR.MOUSE_BUTTON_MIDDLE=1,CKEDITOR.MOUSE_BUTTON_RIGHT=2,CKEDITOR.dtd=function(){var e=CKEDITOR.tools.extend,t=function(e,t){for(var n=CKEDITOR.tools.clone(e),o=1;o<arguments.length;o++)for(var r in arguments[o])delete n[r];return n},n={},o={},r={address:1,article:1,aside:1,blockquote:1,details:1,div:1,dl:1,fieldset:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,menu:1,nav:1,ol:1,p:1,pre:1,section:1,table:1,ul:1},i={command:1,link:1,meta:1,noscript:1,script:1,style:1},a={},s={"#":1},l={center:1,dir:1,noframes:1};return e(n,{a:1,abbr:1,area:1,audio:1,b:1,bdi:1,bdo:1,br:1,button:1,canvas:1,cite:1,code:1,command:1,datalist:1,del:1,dfn:1,em:1,embed:1,i:1,iframe:1,img:1,input:1,ins:1,kbd:1,keygen:1,label:1,map:1,mark:1,meter:1,noscript:1,object:1,output:1,progress:1,q:1,ruby:1,s:1,samp:1,script:1,select:1,small:1,span:1,strong:1,sub:1,sup:1,textarea:1,time:1,u:1,var:1,video:1,wbr:1},s,{acronym:1,applet:1,basefont:1,big:1,font:1,isindex:1,strike:1,style:1,tt:1}),e(o,r,n,l),e(t={a:t(n,{a:1,button:1}),abbr:n,address:o,area:a,article:o,aside:o,audio:e({source:1,track:1},o),b:n,base:a,bdi:n,bdo:n,blockquote:o,body:o,br:a,button:t(n,{a:1,button:1}),canvas:n,caption:o,cite:n,code:n,col:a,colgroup:{col:1},command:a,datalist:e({option:1},n),dd:o,del:n,details:e({summary:1},o),dfn:n,div:o,dl:{dt:1,dd:1},dt:o,em:n,embed:a,fieldset:e({legend:1},o),figcaption:o,figure:e({figcaption:1},o),footer:o,form:o,h1:n,h2:n,h3:n,h4:n,h5:n,h6:n,head:e({title:1,base:1},i),header:o,hgroup:{h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},hr:a,html:e({head:1,body:1},o,i),i:n,iframe:s,img:a,input:a,ins:n,kbd:n,keygen:a,label:n,legend:n,li:o,link:a,main:o,map:o,mark:n,menu:e({li:1},o),meta:a,meter:t(n,{meter:1}),nav:o,noscript:e({link:1,meta:1,style:1},n),object:e({param:1},n),ol:{li:1},optgroup:{option:1},option:s,output:n,p:n,param:a,pre:n,progress:t(n,{progress:1}),q:n,rp:n,rt:n,ruby:e({rp:1,rt:1},n),s:n,samp:n,script:s,section:o,select:{optgroup:1,option:1},small:n,source:a,span:n,strong:n,style:s,sub:n,summary:e({h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},n),sup:n,table:{caption:1,colgroup:1,thead:1,tfoot:1,tbody:1,tr:1},tbody:{tr:1},td:o,textarea:s,tfoot:{tr:1},th:o,thead:{tr:1},time:t(n,{time:1}),title:s,tr:{th:1,td:1},track:a,u:n,ul:{li:1},var:n,video:e({source:1,track:1},o),wbr:a,acronym:n,applet:e({param:1},o),basefont:a,big:n,center:o,dialog:a,dir:{li:1},font:n,isindex:a,noframes:o,strike:n,tt:n},{$block:e({audio:1,dd:1,dt:1,figcaption:1,li:1,video:1},r,l),$blockLimit:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1},$cdata:{script:1,style:1},$editable:{address:1,article:1,aside:1,blockquote:1,body:1,details:1,div:1,fieldset:1,figcaption:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,main:1,nav:1,p:1,pre:1,section:1},$empty:{area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1},$inline:n,$list:{dl:1,ol:1,ul:1},$listItem:{dd:1,dt:1,li:1},$nonBodyContent:e({body:1,head:1,html:1},t.head),$nonEditable:{applet:1,audio:1,button:1,embed:1,iframe:1,map:1,object:1,option:1,param:1,script:1,textarea:1,video:1},$object:{applet:1,audio:1,button:1,hr:1,iframe:1,img:1,input:1,object:1,select:1,table:1,textarea:1,video:1},$removeEmpty:{abbr:1,acronym:1,b:1,bdi:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,mark:1,meter:1,output:1,q:1,ruby:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,time:1,tt:1,u:1,var:1},$tabIndex:{a:1,area:1,button:1,input:1,object:1,select:1,textarea:1},$tableContent:{caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1},$transparent:{a:1,audio:1,canvas:1,del:1,ins:1,map:1,noscript:1,object:1,video:1},$intermediate:{caption:1,colgroup:1,dd:1,dt:1,figcaption:1,legend:1,li:1,optgroup:1,option:1,rp:1,rt:1,summary:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1}}),t}(),CKEDITOR.dom.event=function(e){this.$=e},CKEDITOR.dom.event.prototype={getKey:function(){return this.$.keyCode||this.$.which},getKeystroke:function(){var e=this.getKey();return(this.$.ctrlKey||this.$.metaKey)&&(e+=CKEDITOR.CTRL),this.$.shiftKey&&(e+=CKEDITOR.SHIFT),this.$.altKey&&(e+=CKEDITOR.ALT),e},preventDefault:function(e){var t=this.$;t.preventDefault?t.preventDefault():t.returnValue=!1,e&&this.stopPropagation()},stopPropagation:function(){var e=this.$;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},getTarget:function(){var e=this.$.target||this.$.srcElement;return e?new CKEDITOR.dom.node(e):null},getPhase:function(){return this.$.eventPhase||2},getPageOffset:function(){var e=this.getTarget().getDocument().$;return{x:this.$.pageX||this.$.clientX+(e.documentElement.scrollLeft||e.body.scrollLeft),y:this.$.pageY||this.$.clientY+(e.documentElement.scrollTop||e.body.scrollTop)}}},CKEDITOR.CTRL=1114112,CKEDITOR.SHIFT=2228224,CKEDITOR.ALT=4456448,CKEDITOR.EVENT_PHASE_CAPTURING=1,CKEDITOR.EVENT_PHASE_AT_TARGET=2,CKEDITOR.EVENT_PHASE_BUBBLING=3,CKEDITOR.dom.domObject=function(e){e&&(this.$=e)},CKEDITOR.dom.domObject.prototype={getPrivate:function(){var e;return(e=this.getCustomData("_"))||this.setCustomData("_",e={}),e},on:function(e){var t=this.getCustomData("_cke_nativeListeners");return t||this.setCustomData("_cke_nativeListeners",t={}),t[e]||(t=t[e]=function(e,t){return function(n){"undefined"!=typeof CKEDITOR&&e.fire(t,new CKEDITOR.dom.event(n))}}(this,e),this.$.addEventListener?this.$.addEventListener(e,t,!!CKEDITOR.event.useCapture):this.$.attachEvent&&this.$.attachEvent("on"+e,t)),CKEDITOR.event.prototype.on.apply(this,arguments)},removeListener:function(e){if(CKEDITOR.event.prototype.removeListener.apply(this,arguments),!this.hasListeners(e)){var t=this.getCustomData("_cke_nativeListeners"),n=t&&t[e];n&&(this.$.removeEventListener?this.$.removeEventListener(e,n,!1):this.$.detachEvent&&this.$.detachEvent("on"+e,n),delete t[e])}},removeAllListeners:function(){var e,t=this.getCustomData("_cke_nativeListeners");for(e in t){var n=t[e];this.$.detachEvent?this.$.detachEvent("on"+e,n):this.$.removeEventListener&&this.$.removeEventListener(e,n,!1),delete t[e]}CKEDITOR.event.prototype.removeAllListeners.call(this)}},function(e){var t={};CKEDITOR.on("reset",function(){t={}}),e.equals=function(e){try{return e&&e.$===this.$}catch(e){return!1}},e.setCustomData=function(e,n){var o=this.getUniqueId();return(t[o]||(t[o]={}))[e]=n,this},e.getCustomData=function(e){var n=this.$["data-cke-expando"];return(n=n&&t[n])&&e in n?n[e]:null},e.removeCustomData=function(e){var n,o,r;return(n=(n=this.$["data-cke-expando"])&&t[n])&&(o=n[e],r=e in n,delete n[e]),r?o:null},e.clearCustomData=function(){this.removeAllListeners();var e=this.$["data-cke-expando"];e&&delete t[e]},e.getUniqueId=function(){return this.$["data-cke-expando"]||(this.$["data-cke-expando"]=CKEDITOR.tools.getNextNumber())},CKEDITOR.event.implementOn(e)}(CKEDITOR.dom.domObject.prototype),CKEDITOR.dom.node=function(e){return e?new CKEDITOR.dom[e.nodeType==CKEDITOR.NODE_DOCUMENT?"document":e.nodeType==CKEDITOR.NODE_ELEMENT?"element":e.nodeType==CKEDITOR.NODE_TEXT?"text":e.nodeType==CKEDITOR.NODE_COMMENT?"comment":e.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT?"documentFragment":"domObject"](e):this},CKEDITOR.dom.node.prototype=new CKEDITOR.dom.domObject,CKEDITOR.NODE_ELEMENT=1,CKEDITOR.NODE_DOCUMENT=9,CKEDITOR.NODE_TEXT=3,CKEDITOR.NODE_COMMENT=8,CKEDITOR.NODE_DOCUMENT_FRAGMENT=11,CKEDITOR.POSITION_IDENTICAL=0,CKEDITOR.POSITION_DISCONNECTED=1,CKEDITOR.POSITION_FOLLOWING=2,CKEDITOR.POSITION_PRECEDING=4,CKEDITOR.POSITION_IS_CONTAINED=8,CKEDITOR.POSITION_CONTAINS=16,CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype,{appendTo:function(e,t){return e.append(this,t),e},clone:function(e,t){var n=this.$.cloneNode(e);return function n(o){if(o["data-cke-expando"]&&(o["data-cke-expando"]=!1),(o.nodeType==CKEDITOR.NODE_ELEMENT||o.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&(t||o.nodeType!=CKEDITOR.NODE_ELEMENT||o.removeAttribute("id",!1),e)){o=o.childNodes;for(var r=0;r<o.length;r++)n(o[r])}}(n),n=new CKEDITOR.dom.node(n),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(this.type==CKEDITOR.NODE_ELEMENT||this.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)&&function t(n){if(n.type==CKEDITOR.NODE_ELEMENT||n.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT){if(n.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var o=n.getName();":"==o[0]&&n.renameNode(o.substring(1))}if(e)for(o=0;o<n.getChildCount();o++)t(n.getChild(o))}}(n),n},hasPrevious:function(){return!!this.$.previousSibling},hasNext:function(){return!!this.$.nextSibling},insertAfter:function(e){return e.$.parentNode.insertBefore(this.$,e.$.nextSibling),e},insertBefore:function(e){return e.$.parentNode.insertBefore(this.$,e.$),e},insertBeforeMe:function(e){return this.$.parentNode.insertBefore(e.$,this.$),e},getAddress:function(e){for(var t=[],n=this.getDocument().$.documentElement,o=this.$;o&&o!=n;){var r=o.parentNode;r&&t.unshift(this.getIndex.call({$:o},e)),o=r}return t},getDocument:function(){return new CKEDITOR.dom.document(this.$.ownerDocument||this.$.parentNode.ownerDocument)},getIndex:function(e){function t(e,o){var r=o?e.nextSibling:e.previousSibling;return r&&r.nodeType==CKEDITOR.NODE_TEXT?n(r)?t(r,o):r:null}function n(e){return!e.nodeValue||e.nodeValue==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE}var o,r=this.$,i=-1;if(!this.$.parentNode||e&&r.nodeType==CKEDITOR.NODE_TEXT&&n(r)&&!t(r)&&!t(r,!0))return-1;do{e&&r!=this.$&&r.nodeType==CKEDITOR.NODE_TEXT&&(o||n(r))||(i++,o=r.nodeType==CKEDITOR.NODE_TEXT)}while(r=r.previousSibling);return i},getNextSourceNode:function(e,t,n){if(n&&!n.call){var o=n;n=function(e){return!e.equals(o)}}var r;if(!(e=!e&&this.getFirst&&this.getFirst())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;e=this.getNext()}for(;!e&&(r=(r||this).getParent());){if(n&&!1===n(r,!0))return null;e=r.getNext()}return!e||n&&!1===n(e)?null:t&&t!=e.type?e.getNextSourceNode(!1,t,n):e},getPreviousSourceNode:function(e,t,n){if(n&&!n.call){var o=n;n=function(e){return!e.equals(o)}}var r;if(!(e=!e&&this.getLast&&this.getLast())){if(this.type==CKEDITOR.NODE_ELEMENT&&n&&!1===n(this,!0))return null;e=this.getPrevious()}for(;!e&&(r=(r||this).getParent());){if(n&&!1===n(r,!0))return null;e=r.getPrevious()}return!e||n&&!1===n(e)?null:t&&e.type!=t?e.getPreviousSourceNode(!1,t,n):e},getPrevious:function(e){var t,n=this.$;do{t=(n=n.previousSibling)&&10!=n.nodeType&&new CKEDITOR.dom.node(n)}while(t&&e&&!e(t));return t},getNext:function(e){var t,n=this.$;do{t=(n=n.nextSibling)&&new CKEDITOR.dom.node(n)}while(t&&e&&!e(t));return t},getParent:function(e){var t=this.$.parentNode;return t&&(t.nodeType==CKEDITOR.NODE_ELEMENT||e&&t.nodeType==CKEDITOR.NODE_DOCUMENT_FRAGMENT)?new CKEDITOR.dom.node(t):null},getParents:function(e){var t=this,n=[];do{n[e?"push":"unshift"](t)}while(t=t.getParent());return n},getCommonAncestor:function(e){if(e.equals(this))return this;if(e.contains&&e.contains(this))return e;var t=this.contains?this:this.getParent();do{if(t.contains(e))return t}while(t=t.getParent());return null},getPosition:function(e){var t=this.$,n=e.$;if(t.compareDocumentPosition)return t.compareDocumentPosition(n);if(t==n)return CKEDITOR.POSITION_IDENTICAL;if(this.type==CKEDITOR.NODE_ELEMENT&&e.type==CKEDITOR.NODE_ELEMENT){if(t.contains){if(t.contains(n))return CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING;if(n.contains(t))return CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING}if("sourceIndex"in t)return 0>t.sourceIndex||0>n.sourceIndex?CKEDITOR.POSITION_DISCONNECTED:t.sourceIndex<n.sourceIndex?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING}t=this.getAddress(),e=e.getAddress(),n=Math.min(t.length,e.length);for(var o=0;o<n;o++)if(t[o]!=e[o])return t[o]<e[o]?CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_FOLLOWING;return t.length<e.length?CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_PRECEDING:CKEDITOR.POSITION_IS_CONTAINED+CKEDITOR.POSITION_FOLLOWING},getAscendant:function(e,t){var n,o,r=this.$;for(t||(r=r.parentNode),"function"==typeof e?(o=!0,n=e):(o=!1,n=function(t){return t="string"==typeof t.nodeName?t.nodeName.toLowerCase():"","string"==typeof e?t==e:t in e});r;){if(n(o?new CKEDITOR.dom.node(r):r))return new CKEDITOR.dom.node(r);try{r=r.parentNode}catch(e){r=null}}return null},hasAscendant:function(e,t){var n=this.$;for(t||(n=n.parentNode);n;){if(n.nodeName&&n.nodeName.toLowerCase()==e)return!0;n=n.parentNode}return!1},move:function(e,t){e.append(this.remove(),t)},remove:function(e){var t=this.$,n=t.parentNode;if(n){if(e)for(;e=t.firstChild;)n.insertBefore(t.removeChild(e),t);n.removeChild(t)}return this},replace:function(e){this.insertBefore(e),e.remove()},trim:function(){this.ltrim(),this.rtrim()},ltrim:function(){for(var e;this.getFirst&&(e=this.getFirst());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.ltrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(n-t.length),this.$.removeChild(this.$.firstChild))}break}},rtrim:function(){for(var e;this.getLast&&(e=this.getLast());){if(e.type==CKEDITOR.NODE_TEXT){var t=CKEDITOR.tools.rtrim(e.getText()),n=e.getLength();if(!t){e.remove();continue}t.length<n&&(e.split(t.length),this.$.lastChild.parentNode.removeChild(this.$.lastChild))}break}CKEDITOR.env.needsBrFiller&&(e=this.$.lastChild)&&1==e.type&&"br"==e.nodeName.toLowerCase()&&e.parentNode.removeChild(e)},isReadOnly:function(e){var t=this;if(this.type!=CKEDITOR.NODE_ELEMENT&&(t=this.getParent()),CKEDITOR.env.edge&&t&&t.is("textarea","input")&&(e=!0),!e&&t&&void 0!==t.$.isContentEditable)return!(t.$.isContentEditable||t.data("cke-editable"));for(;t;){if(t.data("cke-editable"))return!1;if(t.hasAttribute("contenteditable"))return"false"==t.getAttribute("contenteditable");t=t.getParent()}return!0}}),CKEDITOR.dom.window=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.window.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype,{focus:function(){this.$.focus()},getViewPaneSize:function(){var e=this.$.document,t="CSS1Compat"==e.compatMode;return{width:(t?e.documentElement.clientWidth:e.body.clientWidth)||0,height:(t?e.documentElement.clientHeight:e.body.clientHeight)||0}},getScrollPosition:function(){var e=this.$;return"pageXOffset"in e?{x:e.pageXOffset||0,y:e.pageYOffset||0}:{x:(e=e.document).documentElement.scrollLeft||e.body.scrollLeft||0,y:e.documentElement.scrollTop||e.body.scrollTop||0}},getFrame:function(){var e=this.$.frameElement;return e?new CKEDITOR.dom.element.get(e):null}}),CKEDITOR.dom.document=function(e){CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.document.prototype=new CKEDITOR.dom.domObject,CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype,{type:CKEDITOR.NODE_DOCUMENT,appendStyleSheet:function(e){if(this.$.createStyleSheet)this.$.createStyleSheet(e);else{var t=new CKEDITOR.dom.element("link");t.setAttributes({rel:"stylesheet",type:"text/css",href:e}),this.getHead().append(t)}},appendStyleText:function(e){if(this.$.createStyleSheet){var t=this.$.createStyleSheet("");t.cssText=e}else{var n=new CKEDITOR.dom.element("style",this);n.append(new CKEDITOR.dom.text(e,this)),this.getHead().append(n)}return t||n.$.sheet},createElement:function(e,t){var n=new CKEDITOR.dom.element(e,this);return t&&(t.attributes&&n.setAttributes(t.attributes),t.styles&&n.setStyles(t.styles)),n},createText:function(e){return new CKEDITOR.dom.text(e,this)},focus:function(){this.getWindow().focus()},getActive:function(){var e;try{e=this.$.activeElement}catch(e){return null}return new CKEDITOR.dom.element(e)},getById:function(e){return(e=this.$.getElementById(e))?new CKEDITOR.dom.element(e):null},getByAddress:function(e,t){for(var n=this.$.documentElement,o=0;n&&o<e.length;o++){var r=e[o];if(t)for(var i=-1,a=0;a<n.childNodes.length;a++){var s=n.childNodes[a];if((!0!==t||3!=s.nodeType||!s.previousSibling||3!=s.previousSibling.nodeType)&&++i==r){n=s;break}}else n=n.childNodes[r]}return n?new CKEDITOR.dom.node(n):null},getElementsByTag:function(e,t){return CKEDITOR.env.ie&&8>=document.documentMode||!t||(e=t+":"+e),new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(e))},getHead:function(){var e=this.$.getElementsByTagName("head")[0];return e?new CKEDITOR.dom.element(e):this.getDocumentElement().append(new CKEDITOR.dom.element("head"),!0)},getBody:function(){return new CKEDITOR.dom.element(this.$.body)},getDocumentElement:function(){return new CKEDITOR.dom.element(this.$.documentElement)},getWindow:function(){return new CKEDITOR.dom.window(this.$.parentWindow||this.$.defaultView)},write:function(e){this.$.open("text/html","replace"),CKEDITOR.env.ie&&(e=e.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i,'$&\n<script data-cke-temp="1">('+CKEDITOR.tools.fixDomain+")();<\/script>")),this.$.write(e),this.$.close()},find:function(e){return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(e))},findOne:function(e){return(e=this.$.querySelector(e))?new CKEDITOR.dom.element(e):null},_getHtml5ShivFrag:function(){var e=this.getCustomData("html5ShivFrag");return e||(e=this.$.createDocumentFragment(),CKEDITOR.tools.enableHtml5Elements(e,!0),this.setCustomData("html5ShivFrag",e)),e}}),CKEDITOR.dom.nodeList=function(e){this.$=e},CKEDITOR.dom.nodeList.prototype={count:function(){return this.$.length},getItem:function(e){return 0>e||e>=this.$.length?null:(e=this.$[e])?new CKEDITOR.dom.node(e):null},toArray:function(){return CKEDITOR.tools.array.map(this.$,function(e){return new CKEDITOR.dom.node(e)})}},CKEDITOR.dom.element=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createElement(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.element.get=function(e){return(e="string"==typeof e?document.getElementById(e)||document.getElementsByName(e)[0]:e)&&(e.$?e:new CKEDITOR.dom.element(e))},CKEDITOR.dom.element.prototype=new CKEDITOR.dom.node,CKEDITOR.dom.element.createFromHtml=function(e,t){var n=new CKEDITOR.dom.element("div",t);return n.setHtml(e),n.getFirst().remove()},CKEDITOR.dom.element.setMarker=function(e,t,n,o){var r=t.getCustomData("list_marker_id")||t.setCustomData("list_marker_id",CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),i=t.getCustomData("list_marker_names")||t.setCustomData("list_marker_names",{}).getCustomData("list_marker_names");return e[r]=t,i[n]=1,t.setCustomData(n,o)},CKEDITOR.dom.element.clearAllMarkers=function(e){for(var t in e)CKEDITOR.dom.element.clearMarkers(e,e[t],1)},CKEDITOR.dom.element.clearMarkers=function(e,t,n){var o,r=t.getCustomData("list_marker_names"),i=t.getCustomData("list_marker_id");for(o in r)t.removeCustomData(o);t.removeCustomData("list_marker_names"),n&&(t.removeCustomData("list_marker_id"),delete e[i])},function(){function e(e,t){return-1<(" "+e+" ").replace(i," ").indexOf(" "+t+" ")}function t(e){var t=!0;return e.$.id||(e.$.id="cke_tmp_"+CKEDITOR.tools.getNextNumber(),t=!1),function(){t||e.removeAttribute("id")}}function n(e,t){var n=CKEDITOR.tools.escapeCss(e.$.id);return"#"+n+" "+t.split(/,\s*/).join(", #"+n+" ")}function o(e){for(var t=0,n=0,o=a[e].length;n<o;n++)t+=parseFloat(this.getComputedStyle(a[e][n])||0,10)||0;return t}var r=void 0!==(r=document.createElement("_").classList)&&null!==String(r.add).match(/\[Native code\]/gi),i=/[\n\t\r]/g;CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_ELEMENT,addClass:r?function(e){return this.$.classList.add(e),this}:function(t){var n=this.$.className;return n&&(e(n,t)||(n+=" "+t)),this.$.className=n||t,this},removeClass:r?function(e){var t=this.$;return t.classList.remove(e),t.className||t.removeAttribute("class"),this}:function(t){var n=this.getAttribute("class");return n&&e(n,t)&&((n=n.replace(new RegExp("(?:^|\\s+)"+t+"(?=\\s|$)"),"").replace(/^\s+/,""))?this.setAttribute("class",n):this.removeAttribute("class")),this},hasClass:function(t){return e(this.$.className,t)},append:function(e,t){return"string"==typeof e&&(e=this.getDocument().createElement(e)),t?this.$.insertBefore(e.$,this.$.firstChild):this.$.appendChild(e.$),e},appendHtml:function(e){if(this.$.childNodes.length){var t=new CKEDITOR.dom.element("div",this.getDocument());t.setHtml(e),t.moveChildren(this)}else this.setHtml(e)},appendText:function(e){null!=this.$.text&&CKEDITOR.env.ie&&9>CKEDITOR.env.version?this.$.text+=e:this.append(new CKEDITOR.dom.text(e))},appendBogus:function(e){if(e||CKEDITOR.env.needsBrFiller){for(e=this.getLast();e&&e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.rtrim(e.getText());)e=e.getPrevious();e&&e.is&&e.is("br")||(e=this.getDocument().createElement("br"),CKEDITOR.env.gecko&&e.setAttribute("type","_moz"),this.append(e))}},breakParent:function(e,t){var n=new CKEDITOR.dom.range(this.getDocument());n.setStartAfter(this),n.setEndAfter(e);var o,r=n.extractContents(!1,t||!1);if(n.insertNode(this.remove()),CKEDITOR.env.ie&&!CKEDITOR.env.edge){for(n=new CKEDITOR.dom.element("div");o=r.getFirst();)o.$.style.backgroundColor&&(o.$.style.backgroundColor=o.$.style.backgroundColor),n.append(o);n.insertAfter(this),n.remove(!0)}else r.insertAfterNode(this)},contains:document.compareDocumentPosition?function(e){return!!(16&this.$.compareDocumentPosition(e.$))}:function(e){var t=this.$;return e.type!=CKEDITOR.NODE_ELEMENT?t.contains(e.getParent().$):t!=e.$&&t.contains(e.$)},focus:function(){function e(){try{this.$.focus()}catch(e){}}return function(t){t?CKEDITOR.tools.setTimeout(e,100,this):e.call(this)}}(),getHtml:function(){var e=this.$.innerHTML;return CKEDITOR.env.ie?e.replace(/<\?[^>]*>/g,""):e},getOuterHtml:function(){if(this.$.outerHTML)return this.$.outerHTML.replace(/<\?[^>]*>/,"");var e=this.$.ownerDocument.createElement("div");return e.appendChild(this.$.cloneNode(!0)),e.innerHTML},getClientRect:function(){var e=CKEDITOR.tools.extend({},this.$.getBoundingClientRect());return!e.width&&(e.width=e.right-e.left),!e.height&&(e.height=e.bottom-e.top),e},setHtml:CKEDITOR.env.ie&&9>CKEDITOR.env.version?function(e){try{var t=this.$;if(this.getParent())return t.innerHTML=e;var n=this.getDocument()._getHtml5ShivFrag();return n.appendChild(t),t.innerHTML=e,n.removeChild(t),e}catch(n){for(this.$.innerHTML="",(t=new CKEDITOR.dom.element("body",this.getDocument())).$.innerHTML=e,t=t.getChildren();t.count();)this.append(t.getItem(0));return e}}:function(e){return this.$.innerHTML=e},setText:function(){var e=document.createElement("p");return e.innerHTML="x",e=e.textContent,function(t){this.$[e?"textContent":"innerText"]=t}}(),getAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){switch(e){case"class":e="className";break;case"http-equiv":e="httpEquiv";break;case"name":return this.$.name;case"tabindex":return 0!==(e=this.$.getAttribute(e,2))&&0===this.$.tabIndex&&(e=null),e;case"checked":return((e=this.$.attributes.getNamedItem(e)).specified?e.nodeValue:this.$.checked)?"checked":null;case"hspace":case"value":return this.$[e];case"style":return this.$.style.cssText;case"contenteditable":case"contentEditable":return this.$.attributes.getNamedItem("contentEditable").specified?this.$.getAttribute("contentEditable"):null}return this.$.getAttribute(e,2)}:function(e){return this.$.getAttribute(e,2)},getAttributes:function(e){var t,n={},o=this.$.attributes;for(e=CKEDITOR.tools.isArray(e)?e:[],t=0;t<o.length;t++)-1===CKEDITOR.tools.indexOf(e,o[t].name)&&(n[o[t].name]=o[t].value);return n},getChildren:function(){return new CKEDITOR.dom.nodeList(this.$.childNodes)},getComputedStyle:document.defaultView&&document.defaultView.getComputedStyle?function(e){var t=this.getWindow().$.getComputedStyle(this.$,null);return t?t.getPropertyValue(e):""}:function(e){return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(e)]},getDtd:function(){var e=CKEDITOR.dtd[this.getName()];return this.getDtd=function(){return e},e},getElementsByTag:CKEDITOR.dom.document.prototype.getElementsByTag,getTabIndex:function(){var e=this.$.tabIndex;return 0!==e||CKEDITOR.dtd.$tabIndex[this.getName()]||0===parseInt(this.getAttribute("tabindex"),10)?e:-1},getText:function(){return this.$.textContent||this.$.innerText||""},getWindow:function(){return this.getDocument().getWindow()},getId:function(){return this.$.id||null},getNameAtt:function(){return this.$.name||null},getName:function(){var e=this.$.nodeName.toLowerCase();if(CKEDITOR.env.ie&&8>=document.documentMode){var t=this.$.scopeName;"HTML"!=t&&(e=t.toLowerCase()+":"+e)}return this.getName=function(){return e},this.getName()},getValue:function(){return this.$.value},getFirst:function(e){var t=this.$.firstChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getNext(e)),t},getLast:function(e){var t=this.$.lastChild;return(t=t&&new CKEDITOR.dom.node(t))&&e&&!e(t)&&(t=t.getPrevious(e)),t},getStyle:function(e){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]},is:function(){var e=this.getName();if("object"==typeof arguments[0])return!!arguments[0][e];for(var t=0;t<arguments.length;t++)if(arguments[t]==e)return!0;return!1},isEditable:function(e){var t=this.getName();return!(this.isReadOnly()||"none"==this.getComputedStyle("display")||"hidden"==this.getComputedStyle("visibility")||CKEDITOR.dtd.$nonEditable[t]||CKEDITOR.dtd.$empty[t]||this.is("a")&&(this.data("cke-saved-name")||this.hasAttribute("name"))&&!this.getChildCount()||!1!==e&&(!(e=CKEDITOR.dtd[t]||CKEDITOR.dtd.span)||!e["#"]))},isIdentical:function(e){var t=this.clone(0,1);if(e=e.clone(0,1),t.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),e.removeAttributes(["_moz_dirty","data-cke-expando","data-cke-saved-href","data-cke-saved-name"]),t.$.isEqualNode)return t.$.style.cssText=CKEDITOR.tools.normalizeCssText(t.$.style.cssText),e.$.style.cssText=CKEDITOR.tools.normalizeCssText(e.$.style.cssText),t.$.isEqualNode(e.$);if(t=t.getOuterHtml(),e=e.getOuterHtml(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&this.is("a")){var n=this.getParent();n.type==CKEDITOR.NODE_ELEMENT&&((n=n.clone()).setHtml(t),t=n.getHtml(),n.setHtml(e),e=n.getHtml())}return t==e},isVisible:function(){var e,t,n=(this.$.offsetHeight||this.$.offsetWidth)&&"hidden"!=this.getComputedStyle("visibility");return n&&CKEDITOR.env.webkit&&!(e=this.getWindow()).equals(CKEDITOR.document.getWindow())&&(t=e.$.frameElement)&&(n=new CKEDITOR.dom.element(t).isVisible()),!!n},isEmptyInlineRemoveable:function(){if(!CKEDITOR.dtd.$removeEmpty[this.getName()])return!1;for(var e=this.getChildren(),t=0,n=e.count();t<n;t++){var o=e.getItem(t);if((o.type!=CKEDITOR.NODE_ELEMENT||!o.data("cke-bookmark"))&&(o.type==CKEDITOR.NODE_ELEMENT&&!o.isEmptyInlineRemoveable()||o.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(o.getText())))return!1}return!0},hasAttributes:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(){for(var e=this.$.attributes,t=0;t<e.length;t++){var n=e[t];switch(n.nodeName){case"class":if(this.getAttribute("class"))return!0;case"data-cke-expando":continue;default:if(n.specified)return!0}}return!1}:function(){var e=this.$.attributes,t=e.length,n={"data-cke-expando":1,_moz_dirty:1};return 0<t&&(2<t||!n[e[0].nodeName]||2==t&&!n[e[1].nodeName])},hasAttribute:function(){function e(e){var t=this.$.attributes.getNamedItem(e);if("input"==this.getName())switch(e){case"class":return 0<this.$.className.length;case"checked":return!!this.$.checked;case"value":return"checkbox"==(e=this.getAttribute("type"))||"radio"==e?"on"!=this.$.value:!!this.$.value}return!!t&&t.specified}return CKEDITOR.env.ie?8>CKEDITOR.env.version?function(t){return"name"==t?!!this.$.name:e.call(this,t)}:e:function(e){return!!this.$.attributes.getNamedItem(e)}}(),hide:function(){this.setStyle("display","none")},moveChildren:function(e,t){var n,o=this.$;if(o!=(e=e.$))if(t)for(;n=o.lastChild;)e.insertBefore(o.removeChild(n),e.firstChild);else for(;n=o.firstChild;)e.appendChild(o.removeChild(n))},mergeSiblings:function(){function e(e,t,n){if(t&&t.type==CKEDITOR.NODE_ELEMENT){for(var o=[];t.data("cke-bookmark")||t.isEmptyInlineRemoveable();)if(o.push(t),!(t=n?t.getNext():t.getPrevious())||t.type!=CKEDITOR.NODE_ELEMENT)return;if(e.isIdentical(t)){for(var r=n?e.getLast():e.getFirst();o.length;)o.shift().move(e,!n);t.moveChildren(e,!n),t.remove(),r&&r.type==CKEDITOR.NODE_ELEMENT&&r.mergeSiblings()}}}return function(t){(!1===t||CKEDITOR.dtd.$removeEmpty[this.getName()]||this.is("a"))&&(e(this,this.getNext(),!0),e(this,this.getPrevious()))}}(),show:function(){this.setStyles({display:"",visibility:""})},setAttribute:function(){var e=function(e,t){return this.$.setAttribute(e,t),this};return CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(t,n){return"class"==t?this.$.className=n:"style"==t?this.$.style.cssText=n:"tabindex"==t?this.$.tabIndex=n:"checked"==t?this.$.checked=n:"contenteditable"==t?e.call(this,"contentEditable",n):e.apply(this,arguments),this}:CKEDITOR.env.ie8Compat&&CKEDITOR.env.secure?function(t,n){if("src"==t&&n.match(/^http:\/\//))try{e.apply(this,arguments)}catch(e){}else e.apply(this,arguments);return this}:e}(),setAttributes:function(e){for(var t in e)this.setAttribute(t,e[t]);return this},setValue:function(e){return this.$.value=e,this},removeAttribute:CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)?function(e){"class"==e?e="className":"tabindex"==e?e="tabIndex":"contenteditable"==e&&(e="contentEditable"),this.$.removeAttribute(e)}:function(e){this.$.removeAttribute(e)},removeAttributes:function(e){if(CKEDITOR.tools.isArray(e))for(var t=0;t<e.length;t++)this.removeAttribute(e[t]);else for(t in e=e||this.getAttributes())e.hasOwnProperty(t)&&this.removeAttribute(t)},removeStyle:function(e){if((o=this.$.style).removeProperty||"border"!=e&&"margin"!=e&&"padding"!=e)o.removeProperty?o.removeProperty(e):o.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(e)),this.$.style.cssText||this.removeAttribute("style");else{var t,n=["top","left","right","bottom"];"border"==e&&(t=["color","style","width"]);for(var o=[],r=0;r<n.length;r++)if(t)for(var i=0;i<t.length;i++)o.push([e,n[r],t[i]].join("-"));else o.push([e,n[r]].join("-"));for(e=0;e<o.length;e++)this.removeStyle(o[e])}},setStyle:function(e,t){return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(e)]=t,this},setStyles:function(e){for(var t in e)this.setStyle(t,e[t]);return this},setOpacity:function(e){CKEDITOR.env.ie&&9>CKEDITOR.env.version?(e=Math.round(100*e),this.setStyle("filter",100<=e?"":"progid:DXImageTransform.Microsoft.Alpha(opacity="+e+")")):this.setStyle("opacity",e)},unselectable:function(){if(this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","none")),CKEDITOR.env.ie){this.setAttribute("unselectable","on");for(var e=this.getElementsByTag("*"),t=0,n=e.count();t<n;t++)e.getItem(t).setAttribute("unselectable","on")}},getPositionedAncestor:function(){for(var e=this;"html"!=e.getName();){if("static"!=e.getComputedStyle("position"))return e;e=e.getParent()}return null},getDocumentPosition:function(e){var t=0,n=0,o=this.getDocument(),r=o.getBody(),i="BackCompat"==o.$.compatMode;if(!document.documentElement.getBoundingClientRect||CKEDITOR.env.ie&&8===CKEDITOR.env.version)for(l=this,u=null;l&&"body"!=l.getName()&&"html"!=l.getName();){for(t+=l.$.offsetLeft-l.$.scrollLeft,n+=l.$.offsetTop-l.$.scrollTop,l.equals(this)||(t+=l.$.clientLeft||0,n+=l.$.clientTop||0);u&&!u.equals(l);)t-=u.$.scrollLeft,n-=u.$.scrollTop,u=u.getParent();u=l,l=(a=l.$.offsetParent)?new CKEDITOR.dom.element(a):null}else{var a=this.$.getBoundingClientRect(),s=o.$.documentElement,l=s.clientTop||r.$.clientTop||0,u=s.clientLeft||r.$.clientLeft||0,c=!0;CKEDITOR.env.ie&&(c=o.getDocumentElement().contains(this),o=o.getBody().contains(this),c=i&&o||!i&&c),c&&(CKEDITOR.env.webkit||CKEDITOR.env.ie&&12<=CKEDITOR.env.version?(t=r.$.scrollLeft||s.scrollLeft,n=r.$.scrollTop||s.scrollTop):(t=(n=i?r.$:s).scrollLeft,n=n.scrollTop),t=a.left+t-u,n=a.top+n-l)}return e&&(a=this.getWindow(),l=e.getWindow(),!a.equals(l)&&a.$.frameElement&&(t+=(e=new CKEDITOR.dom.element(a.$.frameElement).getDocumentPosition(e)).x,n+=e.y)),document.documentElement.getBoundingClientRect||!CKEDITOR.env.gecko||i||(t+=this.$.clientLeft?1:0,n+=this.$.clientTop?1:0),{x:t,y:n}},scrollIntoView:function(e){var t=this.getParent();if(t)do{if((t.$.clientWidth&&t.$.clientWidth<t.$.scrollWidth||t.$.clientHeight&&t.$.clientHeight<t.$.scrollHeight)&&!t.is("body")&&this.scrollIntoParent(t,e,1),t.is("html")){var n=t.getWindow();try{var o=n.$.frameElement;o&&(t=new CKEDITOR.dom.element(o))}catch(e){}}}while(t=t.getParent())},scrollIntoParent:function(e,t,n){var o,r,i,a;function s(t,n){/body|html/.test(e.getName())?e.getWindow().$.scrollBy(t,n):(e.$.scrollLeft+=t,e.$.scrollTop+=n)}function l(e,t){var n={x:0,y:0};if(!e.is(c?"body":"html")){var o=e.$.getBoundingClientRect();n.x=o.left,n.y=o.top}return(o=e.getWindow()).equals(t)||(o=l(CKEDITOR.dom.element.get(o.$.frameElement),t),n.x+=o.x,n.y+=o.y),n}function u(e,t){return parseInt(e.getComputedStyle("margin-"+t)||0,10)||0}!e&&(e=this.getWindow());var c="BackCompat"==(i=e.getDocument()).$.compatMode;e instanceof CKEDITOR.dom.window&&(e=c?i.getBody():i.getDocumentElement()),CKEDITOR.env.webkit&&(i=this.getEditor(!1))&&(i._.previousScrollTop=null),r=l(this,i=e.getWindow());var d=l(e,i),h=this.$.offsetHeight;o=this.$.offsetWidth;var f=e.$.clientHeight,p=e.$.clientWidth;i=r.x-u(this,"left")-d.x||0,a=r.y-u(this,"top")-d.y||0,o=r.x+o+u(this,"right")-(d.x+p)||0,r=r.y+h+u(this,"bottom")-(d.y+f)||0,(0>a||0<r)&&s(0,!0===t?a:!1===t?r:0>a?a:r),n&&(0>i||0<o)&&s(0>i?i:o,0)},setState:function(e,t,n){switch(t=t||"cke",e){case CKEDITOR.TRISTATE_ON:this.addClass(t+"_on"),this.removeClass(t+"_off"),this.removeClass(t+"_disabled"),n&&this.setAttribute("aria-pressed",!0),n&&this.removeAttribute("aria-disabled");break;case CKEDITOR.TRISTATE_DISABLED:this.addClass(t+"_disabled"),this.removeClass(t+"_off"),this.removeClass(t+"_on"),n&&this.setAttribute("aria-disabled",!0),n&&this.removeAttribute("aria-pressed");break;default:this.addClass(t+"_off"),this.removeClass(t+"_on"),this.removeClass(t+"_disabled"),n&&this.removeAttribute("aria-pressed"),n&&this.removeAttribute("aria-disabled")}},getFrameDocument:function(){var e=this.$;return e&&new CKEDITOR.dom.document(e.contentWindow.document)},copyAttributes:function(e,t){var n=this.$.attributes;t=t||{};for(var o=0;o<n.length;o++){var r,i=n[o],a=i.nodeName.toLowerCase();a in t||("checked"==a&&(r=this.getAttribute(a))?e.setAttribute(a,r):CKEDITOR.env.ie&&!this.hasAttribute(a)||(null===(r=this.getAttribute(a))&&(r=i.nodeValue),e.setAttribute(a,r)))}""!==this.$.style.cssText&&(e.$.style.cssText=this.$.style.cssText)},renameNode:function(e){if(this.getName()!=e){var t=this.getDocument();e=new CKEDITOR.dom.element(e,t),this.copyAttributes(e),this.moveChildren(e),this.getParent(!0)&&this.$.parentNode.replaceChild(e.$,this.$),e.$["data-cke-expando"]=this.$["data-cke-expando"],this.$=e.$,delete this.getName}},getChild:function(){function e(e,t){var n=e.childNodes;if(0<=t&&t<n.length)return n[t]}return function(t){var n=this.$;if(t.slice)for(t=t.slice();0<t.length&&n;)n=e(n,t.shift());else n=e(n,t);return n?new CKEDITOR.dom.node(n):null}}(),getChildCount:function(){return this.$.childNodes.length},disableContextMenu:function(){function e(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_enable_context_menu")}this.on("contextmenu",function(t){t.data.getTarget().getAscendant(e,!0)||t.data.preventDefault()})},getDirection:function(e){return e?this.getComputedStyle("direction")||this.getDirection()||this.getParent()&&this.getParent().getDirection(1)||this.getDocument().$.dir||"ltr":this.getStyle("direction")||this.getAttribute("dir")},data:function(e,t){return e="data-"+e,void 0===t?this.getAttribute(e):(!1===t?this.removeAttribute(e):this.setAttribute(e,t),null)},getEditor:function(e){var t,n,o,r=CKEDITOR.instances;for(t in e=e||void 0===e,r)if((n=r[t]).element.equals(this)&&n.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||!e&&(o=n.editable())&&(o.equals(this)||o.contains(this)))return n;return null},find:function(e){var o=t(this);return e=new CKEDITOR.dom.nodeList(this.$.querySelectorAll(n(this,e))),o(),e},findOne:function(e){var o=t(this);return e=this.$.querySelector(n(this,e)),o(),e?new CKEDITOR.dom.element(e):null},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var o=e(this);if(!1!==o){n=this.getChildren();for(var r=0;r<n.count();r++)(o=n.getItem(r)).type==CKEDITOR.NODE_ELEMENT?o.forEach(e,t):t&&o.type!=t||e(o)}}});var a={width:["border-left-width","border-right-width","padding-left","padding-right"],height:["border-top-width","border-bottom-width","padding-top","padding-bottom"]};CKEDITOR.dom.element.prototype.setSize=function(e,t,n){"number"==typeof t&&(!n||CKEDITOR.env.ie&&CKEDITOR.env.quirks||(t-=o.call(this,e)),this.setStyle(e,t+"px"))},CKEDITOR.dom.element.prototype.getSize=function(e,t){var n=Math.max(this.$["offset"+CKEDITOR.tools.capitalize(e)],this.$["client"+CKEDITOR.tools.capitalize(e)])||0;return t&&(n-=o.call(this,e)),n}}(),CKEDITOR.dom.documentFragment=function(e){e=e||CKEDITOR.document,this.$=e.type==CKEDITOR.NODE_DOCUMENT?e.$.createDocumentFragment():e},CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype,CKEDITOR.dom.element.prototype,{type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,insertAfterNode:function(e){(e=e.$).parentNode.insertBefore(this.$,e.nextSibling)},getHtml:function(){var e=new CKEDITOR.dom.element("div");return this.clone(1,1).appendTo(e),e.getHtml().replace(/\s*data-cke-expando=".*?"/g,"")}},!0,{append:1,appendBogus:1,clone:1,getFirst:1,getHtml:1,getLast:1,getParent:1,getNext:1,getPrevious:1,appendTo:1,moveChildren:1,insertBefore:1,insertAfterNode:1,replace:1,trim:1,type:1,ltrim:1,rtrim:1,getDocument:1,getChildCount:1,getChild:1,getChildren:1}),function(){function e(e,t){var n=this.range;if(this._.end)return null;if(!this._.start){if(this._.start=1,n.collapsed)return this.end(),null;n.optimize()}var o,r=n.startContainer;o=n.endContainer;var i,a=n.startOffset,s=n.endOffset,l=this.guard,u=this.type,c=e?"getPreviousSourceNode":"getNextSourceNode";if(!e&&!this._.guardLTR){var d=o.type==CKEDITOR.NODE_ELEMENT?o:o.getParent(),h=o.type==CKEDITOR.NODE_ELEMENT?o.getChild(s):o.getNext();this._.guardLTR=function(e,t){return!(t&&d.equals(e)||h&&e.equals(h)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}if(e&&!this._.guardRTL){var f=r.type==CKEDITOR.NODE_ELEMENT?r:r.getParent(),p=r.type==CKEDITOR.NODE_ELEMENT?a?r.getChild(a-1):null:r.getPrevious();this._.guardRTL=function(e,t){return!(t&&f.equals(e)||p&&e.equals(p)||e.type==CKEDITOR.NODE_ELEMENT&&t&&e.equals(n.root))}}var g=e?this._.guardRTL:this._.guardLTR;for(i=l?function(e,t){return!1!==g(e,t)&&l(e,t)}:g,this.current?o=this.current[c](!1,u,i):(e?o.type==CKEDITOR.NODE_ELEMENT&&(o=0<s?o.getChild(s-1):!1===i(o,!0)?null:o.getPreviousSourceNode(!0,u,i)):(o=r).type==CKEDITOR.NODE_ELEMENT&&((o=o.getChild(a))||(o=!1===i(r,!0)?null:r.getNextSourceNode(!0,u,i))),o&&!1===i(o)&&(o=null));o&&!this._.end;){if(this.current=o,this.evaluator&&!1===this.evaluator(o)){if(t&&this.evaluator)return!1}else if(!t)return o;o=o[c](!1,u,i)}return this.end(),this.current=null}function t(t){for(var n,o=null;n=e.call(this,t);)o=n;return o}CKEDITOR.dom.walker=CKEDITOR.tools.createClass({$:function(e){this.range=e,this._={}},proto:{end:function(){this._.end=1},next:function(){return e.call(this)},previous:function(){return e.call(this,1)},checkForward:function(){return!1!==e.call(this,0,1)},checkBackward:function(){return!1!==e.call(this,1,1)},lastForward:function(){return t.call(this)},lastBackward:function(){return t.call(this,1)},reset:function(){delete this.current,this._={}}}});var n={block:1,"list-item":1,table:1,"table-row-group":1,"table-header-group":1,"table-footer-group":1,"table-row":1,"table-column-group":1,"table-column":1,"table-cell":1,"table-caption":1},o={absolute:1,fixed:1};CKEDITOR.dom.element.prototype.isBlockBoundary=function(e){return!("none"!=this.getComputedStyle("float")||this.getComputedStyle("position")in o||!n[this.getComputedStyle("display")])||!!(this.is(CKEDITOR.dtd.$block)||e&&this.is(e))},CKEDITOR.dom.walker.blockBoundary=function(e){return function(t){return!(t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary(e))}},CKEDITOR.dom.walker.listItemBoundary=function(){return this.blockBoundary({br:1})},CKEDITOR.dom.walker.bookmark=function(e,t){function n(e){return e&&e.getName&&"span"==e.getName()&&e.data("cke-bookmark")}return function(o){var r,i;return r=o&&o.type!=CKEDITOR.NODE_ELEMENT&&(i=o.getParent())&&n(i),r=e?r:r||n(o),!!(t^r)}},CKEDITOR.dom.walker.whitespaces=function(e){return function(t){var n;return t&&t.type==CKEDITOR.NODE_TEXT&&(n=!CKEDITOR.tools.trim(t.getText())||CKEDITOR.env.webkit&&t.getText()==CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE),!!(e^n)}},CKEDITOR.dom.walker.invisible=function(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.env.webkit?1:0;return function(o){return t(o)?o=1:(o.type==CKEDITOR.NODE_TEXT&&(o=o.getParent()),o=o.$.offsetWidth<=n),!!(e^o)}},CKEDITOR.dom.walker.nodeType=function(e,t){return function(n){return!!(t^n.type==e)}},CKEDITOR.dom.walker.bogus=function(e){function t(e){return!i(e)&&!a(e)}return function(n){var o=CKEDITOR.env.needsBrFiller?n.is&&n.is("br"):n.getText&&r.test(n.getText());return o&&(o=n.getParent(),n=n.getNext(t),o=o.isBlockBoundary()&&(!n||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary())),!!(e^o)}},CKEDITOR.dom.walker.temp=function(e){return function(t){return t.type!=CKEDITOR.NODE_ELEMENT&&(t=t.getParent()),t=t&&t.hasAttribute("data-cke-temp"),!!(e^t)}};var r=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,i=CKEDITOR.dom.walker.whitespaces(),a=CKEDITOR.dom.walker.bookmark(),s=CKEDITOR.dom.walker.temp(),l=function(e){return a(e)||i(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$inline)&&!e.is(CKEDITOR.dtd.$empty)};CKEDITOR.dom.walker.ignored=function(e){return function(t){return t=i(t)||a(t)||s(t),!!(e^t)}};var u=CKEDITOR.dom.walker.ignored();CKEDITOR.dom.walker.empty=function(e){return function(t){for(var n=0,o=t.getChildCount();n<o;++n)if(!u(t.getChild(n)))return!!e;return!e}};var c=CKEDITOR.dom.walker.empty(),d=CKEDITOR.dom.walker.validEmptyBlockContainers=CKEDITOR.tools.extend(function(e){var t,n={};for(t in e)CKEDITOR.dtd[t]["#"]&&(n[t]=1);return n}(CKEDITOR.dtd.$block),{caption:1,td:1,th:1});CKEDITOR.dom.walker.editable=function(e){return function(t){return t=!u(t)&&!!(t.type==CKEDITOR.NODE_TEXT||t.type==CKEDITOR.NODE_ELEMENT&&(t.is(CKEDITOR.dtd.$inline)||t.is("hr")||"false"==t.getAttribute("contenteditable")||!CKEDITOR.env.needsBrFiller&&t.is(d)&&c(t))),!!(e^t)}},CKEDITOR.dom.element.prototype.getBogus=function(){var e=this;do{e=e.getPreviousSourceNode()}while(l(e));return!(!e||!(CKEDITOR.env.needsBrFiller?e.is&&e.is("br"):e.getText&&r.test(e.getText())))&&e}}(),CKEDITOR.dom.range=function(e){this.endOffset=this.endContainer=this.startOffset=this.startContainer=null,this.collapsed=!0;var t=e instanceof CKEDITOR.dom.document;this.document=t?e:e.getDocument(),this.root=t?e.getBody():e},function(){function e(e){e.collapsed=e.startContainer&&e.endContainer&&e.startContainer.equals(e.endContainer)&&e.startOffset==e.endOffset}function t(e,t,n,o,r){function i(e,t,n,o){var i=n?e.getPrevious():e.getNext();return o&&a?i:(l||o?t.append(e.clone(!0,r),n):(e.remove(),s&&t.append(e,n)),i)}e.optimizeBookmark();var a=0===t,s=1==t,l=2==t;t=l||s;var u,c,d,h,f,p,g=e.startContainer,m=e.endContainer,E=e.startOffset,v=e.endOffset;if(l&&m.type==CKEDITOR.NODE_TEXT&&(g.equals(m)||g.type===CKEDITOR.NODE_ELEMENT&&g.getFirst().equals(m)))n.append(e.document.createText(m.substring(E,v)));else{m.type==CKEDITOR.NODE_TEXT?l?p=!0:m=m.split(v):0<m.getChildCount()?v>=m.getChildCount()?(m=m.getChild(v-1),c=!0):m=m.getChild(v):h=c=!0,g.type==CKEDITOR.NODE_TEXT?l?f=!0:g.split(E):0<g.getChildCount()?0===E?(g=g.getChild(E),u=!0):g=g.getChild(E-1):d=u=!0;for(var T,C,y,b=g.getParents(),I=m.getParents(),O=function(){var e,t=Math.min(b.length,I.length);for(e=0;e<t;e++)if(!b[e].equals(I[e]))return e;return e-1}(),D=b.length-1,_=I.length-1,R=n,w=-1,k=O;k<=D;k++){for(y=(C=b[k]).getNext(),k!=D||C.equals(I[k])&&D<_?t&&(T=R.append(C.clone(0,r))):u?i(C,R,!1,d):f&&R.append(e.document.createText(C.substring(E)));y;){if(y.equals(I[k])){w=k;break}y=i(y,R)}R=T}for(R=n,k=O;k<=_;k++)if(y=(n=I[k]).getPrevious(),n.equals(b[k]))t&&(R=R.getChild(0));else{if(k!=_||n.equals(b[k])&&_<D?t&&(T=R.append(n.clone(0,r))):c?i(n,R,!1,h):p&&R.append(e.document.createText(n.substring(0,v))),k>w)for(;y;)y=i(y,R,!0);R=T}l||function(){var t=O-1,n=d&&h&&!g.equals(m);t<D-1||t<_-1||n?(n?e.moveToPosition(m,CKEDITOR.POSITION_BEFORE_START):_==t+1&&c?e.moveToPosition(I[t],CKEDITOR.POSITION_BEFORE_END):e.moveToPosition(I[t+1],CKEDITOR.POSITION_BEFORE_START),o&&(t=b[t+1])&&t.type==CKEDITOR.NODE_ELEMENT&&((n=CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>',e.document)).insertAfter(t),t.mergeSiblings(!1),e.moveToBookmark({startNode:n}))):e.collapse(!0)}()}}function n(){var e=!1,t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!0),o=CKEDITOR.dom.walker.bogus();return function(i){return!(!n(i)&&!t(i))||(o(i)&&!e?e=!0:!(i.type==CKEDITOR.NODE_TEXT&&(i.hasAscendant("pre")||CKEDITOR.tools.trim(i.getText()).length)||i.type==CKEDITOR.NODE_ELEMENT&&!i.is(r)))}}function o(e){return function(){var t;return this[e?"getPreviousNode":"getNextNode"](function(e){return!t&&l(e)&&(t=e),s(e)&&!(i(e)&&e.equals(t))})}}var r={abbr:1,acronym:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,var:1},i=CKEDITOR.dom.walker.bogus(),a=/^[\t\r\n ]*(?:&nbsp;|\xa0)$/,s=CKEDITOR.dom.walker.editable(),l=CKEDITOR.dom.walker.ignored(!0);CKEDITOR.dom.range.prototype={clone:function(){var e=new CKEDITOR.dom.range(this.root);return e._setStartContainer(this.startContainer),e.startOffset=this.startOffset,e._setEndContainer(this.endContainer),e.endOffset=this.endOffset,e.collapsed=this.collapsed,e},collapse:function(e){e?(this._setEndContainer(this.startContainer),this.endOffset=this.startOffset):(this._setStartContainer(this.endContainer),this.startOffset=this.endOffset),this.collapsed=!0},cloneContents:function(e){var n=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||t(this,2,n,!1,void 0===e||e),n},deleteContents:function(e){this.collapsed||t(this,0,null,e)},extractContents:function(e,n){var o=new CKEDITOR.dom.documentFragment(this.document);return this.collapsed||t(this,1,o,e,void 0===n||n),o},createBookmark:function(e){var t,n,o,r,i=this.collapsed;return(t=this.document.createElement("span")).data("cke-bookmark",1),t.setStyle("display","none"),t.setHtml("&nbsp;"),e&&(o="cke_bm_"+CKEDITOR.tools.getNextNumber(),t.setAttribute("id",o+(i?"C":"S"))),i||((n=t.clone()).setHtml("&nbsp;"),e&&n.setAttribute("id",o+"E"),(r=this.clone()).collapse(),r.insertNode(n)),(r=this.clone()).collapse(!0),r.insertNode(t),n?(this.setStartAfter(t),this.setEndBefore(n)):this.moveToPosition(t,CKEDITOR.POSITION_AFTER_END),{startNode:e?o+(i?"C":"S"):t,endNode:e?o+"E":n,serializable:e,collapsed:i}},createBookmark2:function(){function e(e){var t,o=e.container,r=e.offset,i=r;if((t=(t=o).type!=CKEDITOR.NODE_ELEMENT||0===i||i==t.getChildCount()?0:t.getChild(i-1).type==CKEDITOR.NODE_TEXT&&t.getChild(i).type==CKEDITOR.NODE_TEXT)&&(r=(o=o.getChild(r-1)).getLength()),o.type==CKEDITOR.NODE_ELEMENT&&0<r){e:{for(t=o;r--;)if(0<=(i=t.getChild(r).getIndex(!0))){r=i;break e}r=-1}r+=1}if(o.type==CKEDITOR.NODE_TEXT){for(t=o,i=0;(t=t.getPrevious())&&t.type==CKEDITOR.NODE_TEXT;)i+=t.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE,"").length;t=i,o.getText()?r+=t:(i=o.getPrevious(n),t?(r=t,o=i?i.getNext():o.getParent().getFirst()):(o=o.getParent(),r=i?i.getIndex(!0)+1:0))}e.container=o,e.offset=r}function t(e,t){var n=t.getCustomData("cke-fillingChar");if(n){var o=e.container;n.equals(o)&&(e.offset-=CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length,0>=e.offset&&(e.offset=o.getIndex(),e.container=o.getParent()))}}var n=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT,!0);return function(n){var o=this.collapsed,r={container:this.startContainer,offset:this.startOffset},i={container:this.endContainer,offset:this.endOffset};return n&&(e(r),t(r,this.root),o||(e(i),t(i,this.root))),{start:r.container.getAddress(n),end:o?null:i.container.getAddress(n),startOffset:r.offset,endOffset:i.offset,normalized:n,collapsed:o,is2:!0}}}(),moveToBookmark:function(e){if(e.is2){var t=this.document.getByAddress(e.start,e.normalized),n=e.startOffset,o=e.end&&this.document.getByAddress(e.end,e.normalized);e=e.endOffset,this.setStart(t,n),o?this.setEnd(o,e):this.collapse(!0)}else t=(n=e.serializable)?this.document.getById(e.startNode):e.startNode,e=n?this.document.getById(e.endNode):e.endNode,this.setStartBefore(t),t.remove(),e?(this.setEndBefore(e),e.remove()):this.collapse(!0)},getBoundaryNodes:function(){var e,t=this.startContainer,n=this.endContainer,o=this.startOffset,r=this.endOffset;if(t.type==CKEDITOR.NODE_ELEMENT)if((e=t.getChildCount())>o)t=t.getChild(o);else if(1>e)t=t.getPreviousSourceNode();else{for(t=t.$;t.lastChild;)t=t.lastChild;t=(t=new CKEDITOR.dom.node(t)).getNextSourceNode()||t}if(n.type==CKEDITOR.NODE_ELEMENT)if((e=n.getChildCount())>r)n=n.getChild(r).getPreviousSourceNode(!0);else if(1>e)n=n.getPreviousSourceNode();else{for(n=n.$;n.lastChild;)n=n.lastChild;n=new CKEDITOR.dom.node(n)}return t.getPosition(n)&CKEDITOR.POSITION_FOLLOWING&&(t=n),{startNode:t,endNode:n}},getCommonAncestor:function(e,t){var n=this.endContainer,o=(o=this.startContainer).equals(n)?e&&o.type==CKEDITOR.NODE_ELEMENT&&this.startOffset==this.endOffset-1?o.getChild(this.startOffset):o:o.getCommonAncestor(n);return t&&!o.is?o.getParent():o},optimize:function(){var e=this.startContainer,t=this.startOffset;e.type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setStartAfter(e):this.setStartBefore(e)),t=this.endOffset,(e=this.endContainer).type!=CKEDITOR.NODE_ELEMENT&&(t?t>=e.getLength()&&this.setEndAfter(e):this.setEndBefore(e))},optimizeBookmark:function(){var e=this.startContainer,t=this.endContainer;e.is&&e.is("span")&&e.data("cke-bookmark")&&this.setStartAt(e,CKEDITOR.POSITION_BEFORE_START),t&&t.is&&t.is("span")&&t.data("cke-bookmark")&&this.setEndAt(t,CKEDITOR.POSITION_AFTER_END)},trim:function(e,t){var n=this.startContainer,o=this.startOffset,r=this.collapsed;if((!e||r)&&n&&n.type==CKEDITOR.NODE_TEXT){if(o)if(o>=n.getLength())o=n.getIndex()+1,n=n.getParent();else{var i=n.split(o);o=n.getIndex()+1,n=n.getParent(),this.startContainer.equals(this.endContainer)?this.setEnd(i,this.endOffset-this.startOffset):n.equals(this.endContainer)&&(this.endOffset+=1)}else o=n.getIndex(),n=n.getParent();if(this.setStart(n,o),r)return void this.collapse(!0)}n=this.endContainer,o=this.endOffset,t||r||!n||n.type!=CKEDITOR.NODE_TEXT||(o?(o>=n.getLength()||n.split(o),o=n.getIndex()+1):o=n.getIndex(),n=n.getParent(),this.setEnd(n,o))},enlarge:function(e,t){function n(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("contenteditable")?null:e}var o=new RegExp(/[^\s\ufeff]/);switch(e){case CKEDITOR.ENLARGE_INLINE:var r=1;case CKEDITOR.ENLARGE_ELEMENT:var i=function(e,t){var n,r;for((n=new CKEDITOR.dom.range(p)).setStart(e,t),n.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(n)).guard=function(e){return!(e.type==CKEDITOR.NODE_ELEMENT&&e.isBlockBoundary())};r=n.next();){if(r.type!=CKEDITOR.NODE_TEXT)return!1;if(h=r!=e?r.getText():r.substring(t),o.test(h))return!1}return!0};if(this.collapsed)break;var a,s,l,u,c,d,h,f=this.getCommonAncestor(),p=this.root,g=!1,m=this.startOffset;for((d=this.startContainer).type==CKEDITOR.NODE_TEXT?(m&&(g=!!(d=!CKEDITOR.tools.trim(d.substring(0,m)).length&&d)),d&&((u=d.getPrevious())||(l=d.getParent()))):(m&&(u=d.getChild(m-1)||d.getLast()),u||(l=d)),l=n(l);l||u;){if(l&&!u){if(!c&&l.equals(f)&&(c=!0),r?l.isBlockBoundary():!p.contains(l))break;g&&"inline"==l.getComputedStyle("display")||(g=!1,c?a=l:this.setStartBefore(l)),u=l.getPrevious()}for(;u;)if(d=!1,u.type==CKEDITOR.NODE_COMMENT)u=u.getPrevious();else{if(u.type==CKEDITOR.NODE_TEXT)h=u.getText(),o.test(h)&&(u=null),d=/[\s\ufeff]$/.test(h);else if((u.$.offsetWidth>(CKEDITOR.env.webkit?1:0)||t&&u.is("br"))&&!u.data("cke-bookmark"))if(g&&CKEDITOR.dtd.$removeEmpty[u.getName()]){if(h=u.getText(),o.test(h))u=null;else{m=u.$.getElementsByTagName("*");for(var E,v=0;E=m[v++];)if(!CKEDITOR.dtd.$removeEmpty[E.nodeName.toLowerCase()]){u=null;break}}u&&(d=!!h.length)}else u=null;if(d&&(g?c?a=l:l&&this.setStartBefore(l):g=!0),u){if(d=u.getPrevious(),!l&&!d){l=u,u=null;break}u=d}else l=null}l&&(l=n(l.getParent()))}for(m=this.endOffset,l=u=null,c=g=!1,(d=this.endContainer).type==CKEDITOR.NODE_TEXT?CKEDITOR.tools.trim(d.substring(m)).length?g=!0:(g=!d.getLength(),m==d.getLength()?(u=d.getNext())||(l=d.getParent()):i(d,m)&&(l=d.getParent())):(u=d.getChild(m))||(l=d);l||u;){if(l&&!u){if(!c&&l.equals(f)&&(c=!0),r?l.isBlockBoundary():!p.contains(l))break;g&&"inline"==l.getComputedStyle("display")||(g=!1,c?s=l:l&&this.setEndAfter(l)),u=l.getNext()}for(;u;){if(d=!1,u.type==CKEDITOR.NODE_TEXT)h=u.getText(),i(u,0)||(u=null),d=/^[\s\ufeff]/.test(h);else if(u.type==CKEDITOR.NODE_ELEMENT){if((0<u.$.offsetWidth||t&&u.is("br"))&&!u.data("cke-bookmark"))if(g&&CKEDITOR.dtd.$removeEmpty[u.getName()]){if(h=u.getText(),o.test(h))u=null;else for(m=u.$.getElementsByTagName("*"),v=0;E=m[v++];)if(!CKEDITOR.dtd.$removeEmpty[E.nodeName.toLowerCase()]){u=null;break}u&&(d=!!h.length)}else u=null}else d=1;if(d&&g&&(c?s=l:this.setEndAfter(l)),u){if(d=u.getNext(),!l&&!d){l=u,u=null;break}u=d}else l=null}l&&(l=n(l.getParent()))}a&&s&&(f=a.contains(s)?s:a,this.setStartBefore(f),this.setEndAfter(f));break;case CKEDITOR.ENLARGE_BLOCK_CONTENTS:case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:(l=new CKEDITOR.dom.range(this.root)).setStartAt(p=this.root,CKEDITOR.POSITION_AFTER_START),l.setEnd(this.startContainer,this.startOffset),l=new CKEDITOR.dom.walker(l);var T,C,y=CKEDITOR.dom.walker.blockBoundary(e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?{br:1}:null),b=null,I=function(e){if(e.type==CKEDITOR.NODE_ELEMENT&&"false"==e.getAttribute("contenteditable"))if(b){if(b.equals(e))return void(b=null)}else b=e;else if(b)return;var t=y(e);return t||(T=e),t};if(r=function(e){var t=I(e);return!t&&e.is&&e.is("br")&&(C=e),t},l.guard=I,l=l.lastBackward(),this.setStartAt(T=T||p,!T.is("br")&&(!l&&this.checkStartOfBlock()||l&&T.contains(l))?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_AFTER_END),e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS){l=this.clone(),l=new CKEDITOR.dom.walker(l);var O=CKEDITOR.dom.walker.whitespaces(),D=CKEDITOR.dom.walker.bookmark();if(l.evaluator=function(e){return!O(e)&&!D(e)},(l=l.previous())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br"))break}(l=this.clone()).collapse(),l.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(l=new CKEDITOR.dom.walker(l)).guard=e==CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS?r:I,T=b=C=null,l=l.lastForward(),this.setEndAt(T=T||p,!l&&this.checkEndOfBlock()||l&&T.contains(l)?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_BEFORE_START),C&&this.setEndAfter(C)}},shrink:function(e,t,n){var o="boolean"==typeof n?n:!n||"boolean"!=typeof n.shrinkOnBlockBoundary||n.shrinkOnBlockBoundary,r=n&&n.skipBogus;if(!this.collapsed){e=e||CKEDITOR.SHRINK_TEXT;var i=this.clone(),a=this.startContainer,s=this.endContainer,l=this.startOffset,u=this.endOffset,c=n=1;a&&a.type==CKEDITOR.NODE_TEXT&&(l?l>=a.getLength()?i.setStartAfter(a):(i.setStartBefore(a),n=0):i.setStartBefore(a)),s&&s.type==CKEDITOR.NODE_TEXT&&(u?u>=s.getLength()?i.setEndAfter(s):(i.setEndAfter(s),c=0):i.setEndBefore(s)),i=new CKEDITOR.dom.walker(i);var d,h=CKEDITOR.dom.walker.bookmark(),f=CKEDITOR.dom.walker.bogus();return i.evaluator=function(t){return t.type==(e==CKEDITOR.SHRINK_ELEMENT?CKEDITOR.NODE_ELEMENT:CKEDITOR.NODE_TEXT)},i.guard=function(t,n){return!!(r&&f(t)||h(t))||!(e==CKEDITOR.SHRINK_ELEMENT&&t.type==CKEDITOR.NODE_TEXT||n&&t.equals(d)||!1===o&&t.type==CKEDITOR.NODE_ELEMENT&&t.isBlockBoundary()||t.type==CKEDITOR.NODE_ELEMENT&&t.hasAttribute("contenteditable"))&&(n||t.type!=CKEDITOR.NODE_ELEMENT||(d=t),!0)},n&&(a=i[e==CKEDITOR.SHRINK_ELEMENT?"lastForward":"next"]())&&this.setStartAt(a,t?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_START),c&&(i.reset(),(i=i[e==CKEDITOR.SHRINK_ELEMENT?"lastBackward":"previous"]())&&this.setEndAt(i,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_END)),!(!n&&!c)}},insertNode:function(e){this.optimizeBookmark(),this.trim(!1,!0);var t=this.startContainer,n=t.getChild(this.startOffset);n?e.insertBefore(n):t.append(e),e.getParent()&&e.getParent().equals(this.endContainer)&&this.endOffset++,this.setStartBefore(e)},moveToPosition:function(e,t){this.setStartAt(e,t),this.collapse(!0)},moveToRange:function(e){this.setStart(e.startContainer,e.startOffset),this.setEnd(e.endContainer,e.endOffset)},selectNodeContents:function(e){this.setStart(e,0),this.setEnd(e,e.type==CKEDITOR.NODE_TEXT?e.getLength():e.getChildCount())},setStart:function(t,n){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(n=t.getIndex(),t=t.getParent()),this._setStartContainer(t),this.startOffset=n,this.endContainer||(this._setEndContainer(t),this.endOffset=n),e(this)},setEnd:function(t,n){t.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$empty[t.getName()]&&(n=t.getIndex()+1,t=t.getParent()),this._setEndContainer(t),this.endOffset=n,this.startContainer||(this._setStartContainer(t),this.startOffset=n),e(this)},setStartAfter:function(e){this.setStart(e.getParent(),e.getIndex()+1)},setStartBefore:function(e){this.setStart(e.getParent(),e.getIndex())},setEndAfter:function(e){this.setEnd(e.getParent(),e.getIndex()+1)},setEndBefore:function(e){this.setEnd(e.getParent(),e.getIndex())},setStartAt:function(t,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setStart(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setStart(t,t.getLength()):this.setStart(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setStartBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setStartAfter(t)}e(this)},setEndAt:function(t,n){switch(n){case CKEDITOR.POSITION_AFTER_START:this.setEnd(t,0);break;case CKEDITOR.POSITION_BEFORE_END:t.type==CKEDITOR.NODE_TEXT?this.setEnd(t,t.getLength()):this.setEnd(t,t.getChildCount());break;case CKEDITOR.POSITION_BEFORE_START:this.setEndBefore(t);break;case CKEDITOR.POSITION_AFTER_END:this.setEndAfter(t)}e(this)},fixBlock:function(e,t){var n=this.createBookmark(),o=this.document.createElement(t);this.collapse(e),this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),this.extractContents().appendTo(o),o.trim(),this.insertNode(o);var r=o.getBogus();return r&&r.remove(),o.appendBogus(),this.moveToBookmark(n),o},splitBlock:function(e,t){var n=new CKEDITOR.dom.elementPath(this.startContainer,this.root),o=new CKEDITOR.dom.elementPath(this.endContainer,this.root),r=n.block,i=o.block,a=null;return n.blockLimit.equals(o.blockLimit)?("br"!=e&&(r||(r=this.fixBlock(!0,e),i=new CKEDITOR.dom.elementPath(this.endContainer,this.root).block),i||(i=this.fixBlock(!1,e))),n=r&&this.checkStartOfBlock(),o=i&&this.checkEndOfBlock(),this.deleteContents(),r&&r.equals(i)&&(o?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(i,CKEDITOR.POSITION_AFTER_END),i=null):n?(a=new CKEDITOR.dom.elementPath(this.startContainer,this.root),this.moveToPosition(r,CKEDITOR.POSITION_BEFORE_START),r=null):(i=this.splitElement(r,t||!1),r.is("ul","ol")||r.appendBogus())),{previousBlock:r,nextBlock:i,wasStartOfBlock:n,wasEndOfBlock:o,elementPath:a}):null},splitElement:function(e,t){if(!this.collapsed)return null;this.setEndAt(e,CKEDITOR.POSITION_BEFORE_END);var n=this.extractContents(!1,t||!1),o=e.clone(!1,t||!1);return n.appendTo(o),o.insertAfter(e),this.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),o},removeEmptyBlocksAtEnd:function(){function e(e){return function(o){return!(t(o)||n(o)||o.type==CKEDITOR.NODE_ELEMENT&&o.isEmptyInlineRemoveable()||e.is("table")&&o.is("caption"))}}var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(!1);return function(t){for(var n,o=this.createBookmark(),r=this[t?"endPath":"startPath"](),i=r.block||r.blockLimit;i&&!i.equals(r.root)&&!i.getFirst(e(i));)n=i.getParent(),this[t?"setEndAt":"setStartAt"](i,CKEDITOR.POSITION_AFTER_END),i.remove(1),i=n;this.moveToBookmark(o)}}(),startPath:function(){return new CKEDITOR.dom.elementPath(this.startContainer,this.root)},endPath:function(){return new CKEDITOR.dom.elementPath(this.endContainer,this.root)},checkBoundaryOfElement:function(e,t){var n=t==CKEDITOR.START,o=this.clone();return o.collapse(n),o[n?"setStartAt":"setEndAt"](e,n?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),(o=new CKEDITOR.dom.walker(o)).evaluator=function(e){var t=CKEDITOR.dom.walker.whitespaces(),n=CKEDITOR.dom.walker.bookmark(1);return function(o){return!(!n(o)&&!t(o))||!e&&i(o)||o.type==CKEDITOR.NODE_ELEMENT&&o.is(CKEDITOR.dtd.$removeEmpty)}}(n),o[n?"checkBackward":"checkForward"]()},checkStartOfBlock:function(){var e=this.startContainer,t=this.startOffset;return CKEDITOR.env.ie&&t&&e.type==CKEDITOR.NODE_TEXT&&(e=CKEDITOR.tools.ltrim(e.substring(0,t)),a.test(e)&&this.trim(0,1)),this.trim(),e=new CKEDITOR.dom.elementPath(this.startContainer,this.root),(t=this.clone()).collapse(!0),t.setStartAt(e.block||e.blockLimit,CKEDITOR.POSITION_AFTER_START),(e=new CKEDITOR.dom.walker(t)).evaluator=n(),e.checkBackward()},checkEndOfBlock:function(){var e=this.endContainer,t=this.endOffset;return CKEDITOR.env.ie&&e.type==CKEDITOR.NODE_TEXT&&(e=CKEDITOR.tools.rtrim(e.substring(t)),a.test(e)&&this.trim(1,0)),this.trim(),e=new CKEDITOR.dom.elementPath(this.endContainer,this.root),(t=this.clone()).collapse(!1),t.setEndAt(e.block||e.blockLimit,CKEDITOR.POSITION_BEFORE_END),(e=new CKEDITOR.dom.walker(t)).evaluator=n(),e.checkForward()},getPreviousNode:function(e,t,n){var o=this.clone();return o.collapse(1),o.setStartAt(n||this.root,CKEDITOR.POSITION_AFTER_START),(n=new CKEDITOR.dom.walker(o)).evaluator=e,n.guard=t,n.previous()},getNextNode:function(e,t,n){var o=this.clone();return o.collapse(),o.setEndAt(n||this.root,CKEDITOR.POSITION_BEFORE_END),(n=new CKEDITOR.dom.walker(o)).evaluator=e,n.guard=t,n.next()},checkReadOnly:function(){function e(e,t){for(;e;){if(e.type==CKEDITOR.NODE_ELEMENT){if("false"==e.getAttribute("contentEditable")&&!e.data("cke-editable"))return 0;if(e.is("html")||"true"==e.getAttribute("contentEditable")&&(e.contains(t)||e.equals(t)))break}e=e.getParent()}return 1}return function(){var t=this.startContainer,n=this.endContainer;return!(e(t,n)&&e(n,t))}}(),moveToElementEditablePosition:function(e,t){if(e.type==CKEDITOR.NODE_ELEMENT&&!e.isEditable(!1))return this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),!0;for(var n=0;e;){if(e.type==CKEDITOR.NODE_TEXT){t&&this.endContainer&&this.checkEndOfBlock()&&a.test(e.getText())?this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START):this.moveToPosition(e,t?CKEDITOR.POSITION_AFTER_END:CKEDITOR.POSITION_BEFORE_START),n=1;break}if(e.type==CKEDITOR.NODE_ELEMENT)if(e.isEditable())this.moveToPosition(e,t?CKEDITOR.POSITION_BEFORE_END:CKEDITOR.POSITION_AFTER_START),n=1;else if(t&&e.is("br")&&this.endContainer&&this.checkEndOfBlock())this.moveToPosition(e,CKEDITOR.POSITION_BEFORE_START);else if("false"==e.getAttribute("contenteditable")&&e.is(CKEDITOR.dtd.$block))return this.setStartBefore(e),this.setEndAfter(e),!0;var o=e,r=n,i=void 0;o.type==CKEDITOR.NODE_ELEMENT&&o.isEditable(!1)&&(i=o[t?"getLast":"getFirst"](l)),r||i||(i=o[t?"getPrevious":"getNext"](l)),e=i}return!!n},moveToClosestEditablePosition:function(e,t){var n,o,r,i=0,a=[CKEDITOR.POSITION_AFTER_END,CKEDITOR.POSITION_BEFORE_START];return e?(n=new CKEDITOR.dom.range(this.root)).moveToPosition(e,a[t?0:1]):n=this.clone(),e&&!e.is(CKEDITOR.dtd.$block)?i=1:(o=n[t?"getNextEditableNode":"getPreviousEditableNode"]())&&(i=1,(r=o.type==CKEDITOR.NODE_ELEMENT)&&o.is(CKEDITOR.dtd.$block)&&"false"==o.getAttribute("contenteditable")?(n.setStartAt(o,CKEDITOR.POSITION_BEFORE_START),n.setEndAt(o,CKEDITOR.POSITION_AFTER_END)):!CKEDITOR.env.needsBrFiller&&r&&o.is(CKEDITOR.dom.walker.validEmptyBlockContainers)?(n.setEnd(o,0),n.collapse()):n.moveToPosition(o,a[t?1:0])),i&&this.moveToRange(n),!!i},moveToElementEditStart:function(e){return this.moveToElementEditablePosition(e)},moveToElementEditEnd:function(e){return this.moveToElementEditablePosition(e,!0)},getEnclosedNode:function(){if((e=this.clone()).optimize(),e.startContainer.type!=CKEDITOR.NODE_ELEMENT||e.endContainer.type!=CKEDITOR.NODE_ELEMENT)return null;var e=new CKEDITOR.dom.walker(e),t=CKEDITOR.dom.walker.bookmark(!1,!0),n=CKEDITOR.dom.walker.whitespaces(!0);e.evaluator=function(e){return n(e)&&t(e)};var o=e.next();return e.reset(),o&&o.equals(e.previous())?o:null},getTouchedStartNode:function(){var e=this.startContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.startOffset)||e},getTouchedEndNode:function(){var e=this.endContainer;return this.collapsed||e.type!=CKEDITOR.NODE_ELEMENT?e:e.getChild(this.endOffset-1)||e},getNextEditableNode:o(),getPreviousEditableNode:o(1),_getTableElement:function(e){e=e||{td:1,th:1,tr:1,tbody:1,thead:1,tfoot:1,table:1};var t=this.startContainer,n=this.endContainer,o=t.getAscendant("table",!0),r=n.getAscendant("table",!0);return CKEDITOR.env.safari&&o&&n.equals(this.root)?t.getAscendant(e,!0):this.getEnclosedNode()?this.getEnclosedNode().getAscendant(e,!0):o&&r&&(o.equals(r)||o.contains(r)||r.contains(o))?t.getAscendant(e,!0):null},scrollIntoView:function(){var e,t,n,o=new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",this.document),r=this.clone();r.optimize(),(n=r.startContainer.type==CKEDITOR.NODE_TEXT)?(t=r.startContainer.getText(),e=r.startContainer.split(r.startOffset),o.insertAfter(r.startContainer)):r.insertNode(o),o.scrollIntoView(),n&&(r.startContainer.setText(t),e.remove()),o.remove()},_setStartContainer:function(e){this.startContainer=e},_setEndContainer:function(e){this.endContainer=e},_find:function(e,t){var n,o,r,i,a=this.getCommonAncestor(),s=this.getBoundaryNodes(),l=[];if(a&&a.find)for(o=a.find(e),n=0;n<o.count();n++)a=o.getItem(n),(t||!a.isReadOnly())&&(r=a.getPosition(s.startNode)&CKEDITOR.POSITION_FOLLOWING||s.startNode.equals(a),i=a.getPosition(s.endNode)&CKEDITOR.POSITION_PRECEDING+CKEDITOR.POSITION_IS_CONTAINED||s.endNode.equals(a),r&&i&&l.push(a));return l}},CKEDITOR.dom.range.mergeRanges=function(e){return CKEDITOR.tools.array.reduce(e,function(e,t){var n=e[e.length-1],o=!1;if((t=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),n){var r=new CKEDITOR.dom.range(t.root),i=(o=new CKEDITOR.dom.walker(r),CKEDITOR.dom.walker.whitespaces());for(r.setStart(n.endContainer,n.endOffset),r.setEnd(t.startContainer,t.startOffset),r=o.next();i(r)||t.endContainer.equals(r);)r=o.next();o=!r}return o?n.setEnd(t.endContainer,t.endOffset):e.push(t),e},[])}}(),CKEDITOR.POSITION_AFTER_START=1,CKEDITOR.POSITION_BEFORE_END=2,CKEDITOR.POSITION_BEFORE_START=3,CKEDITOR.POSITION_AFTER_END=4,CKEDITOR.ENLARGE_ELEMENT=1,CKEDITOR.ENLARGE_BLOCK_CONTENTS=2,CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS=3,CKEDITOR.ENLARGE_INLINE=4,CKEDITOR.START=1,CKEDITOR.END=2,CKEDITOR.SHRINK_ELEMENT=1,CKEDITOR.SHRINK_TEXT=2,function(){function e(e){1>arguments.length||(this.range=e,this.forceBrBreak=0,this.enlargeBr=1,this.enforceRealBlocks=0,this._||(this._={}))}function t(e,n,o,r){e:{null==r&&(r=function(e){var t=[];return o.forEach(function(e){if("true"==e.getAttribute("contenteditable"))return t.push(e),!1},CKEDITOR.NODE_ELEMENT,!0),t}());for(var i;i=r.shift();)if(i.getDtd().p){r={element:i,remaining:r};break e}r=null}return r?(i=CKEDITOR.filter.instances[r.element.data("cke-filter")])&&!i.check(n)?t(e,n,o,r.remaining):((n=new CKEDITOR.dom.range(r.element)).selectNodeContents(r.element),(n=n.createIterator()).enlargeBr=e.enlargeBr,n.enforceRealBlocks=e.enforceRealBlocks,n.activeFilter=n.filter=i,e._.nestedEditable={element:r.element,container:o,remaining:r.remaining,iterator:n},1):0}function n(e,t,n){return!!t&&((e=e.clone()).collapse(!n),e.checkBoundaryOfElement(t,n?CKEDITOR.START:CKEDITOR.END))}var o=/^[\r\n\t ]+$/,r=CKEDITOR.dom.walker.bookmark(!1,!0),i=CKEDITOR.dom.walker.whitespaces(!0),a=function(e){return r(e)&&i(e)},s={dd:1,dt:1,li:1};e.prototype={getNextParagraph:function(e){var i,l,u,c,d;if(e=e||"p",this._.nestedEditable){if(i=this._.nestedEditable.iterator.getNextParagraph(e))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,i;if(this.activeFilter=this.filter,t(this,e,this._.nestedEditable.container,this._.nestedEditable.remaining))return this.activeFilter=this._.nestedEditable.iterator.activeFilter,this._.nestedEditable.iterator.getNextParagraph(e);this._.nestedEditable=null}if(!this.range.root.getDtd()[e])return null;if(!this._.started){var h=this.range.clone();l=h.startPath();var f=h.endPath(),p=!h.collapsed&&n(h,l.block),g=!h.collapsed&&n(h,f.block,1);h.shrink(CKEDITOR.SHRINK_ELEMENT,!0),p&&h.setStartAt(l.block,CKEDITOR.POSITION_BEFORE_END),g&&h.setEndAt(f.block,CKEDITOR.POSITION_AFTER_START),l=h.endContainer.hasAscendant("pre",!0)||h.startContainer.hasAscendant("pre",!0),h.enlarge(this.forceBrBreak&&!l||!this.enlargeBr?CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:CKEDITOR.ENLARGE_BLOCK_CONTENTS),h.collapsed||(l=new CKEDITOR.dom.walker(h.clone()),f=CKEDITOR.dom.walker.bookmark(!0,!0),l.evaluator=f,this._.nextNode=l.next(),(l=new CKEDITOR.dom.walker(h.clone())).evaluator=f,l=l.previous(),this._.lastNode=l.getNextSourceNode(!0,null,h.root),this._.lastNode&&this._.lastNode.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(this._.lastNode.getText())&&this._.lastNode.getParent().isBlockBoundary()&&((f=this.range.clone()).moveToPosition(this._.lastNode,CKEDITOR.POSITION_AFTER_END),f.checkEndOfBlock()&&(f=new CKEDITOR.dom.elementPath(f.endContainer,f.root),this._.lastNode=(f.block||f.blockLimit).getNextSourceNode(!0))),this._.lastNode&&h.root.contains(this._.lastNode)||(this._.lastNode=this._.docEndMarker=h.document.createText(""),this._.lastNode.insertAfter(l)),h=null),this._.started=1,l=h}for(f=this._.nextNode,h=this._.lastNode,this._.nextNode=null;f;){p=0,g=f.hasAscendant("pre");var m=f.type!=CKEDITOR.NODE_ELEMENT,E=0;if(m)f.type==CKEDITOR.NODE_TEXT&&o.test(f.getText())&&(m=0);else{var v=f.getName();if(CKEDITOR.dtd.$block[v]&&"false"==f.getAttribute("contenteditable")){t(this,e,i=f);break}if(f.isBlockBoundary(this.forceBrBreak&&!g&&{br:1})){if("br"==v)m=1;else if(!l&&!f.getChildCount()&&"hr"!=v){i=f,u=f.equals(h);break}l&&(l.setEndAt(f,CKEDITOR.POSITION_BEFORE_START),"br"!=v&&(this._.nextNode=f)),p=1}else{if(f.getFirst()){l||(l=this.range.clone()).setStartAt(f,CKEDITOR.POSITION_BEFORE_START),f=f.getFirst();continue}m=1}}if(m&&!l&&(l=this.range.clone()).setStartAt(f,CKEDITOR.POSITION_BEFORE_START),u=(!p||m)&&f.equals(h),l&&!p)for(;!f.getNext(a)&&!u;){if((v=f.getParent()).isBlockBoundary(this.forceBrBreak&&!g&&{br:1})){p=1,m=0,u||v.equals(h),l.setEndAt(v,CKEDITOR.POSITION_BEFORE_END);break}m=1,u=(f=v).equals(h),E=1}if(m&&l.setEndAt(f,CKEDITOR.POSITION_AFTER_END),(u=!(f=this._getNextSourceNode(f,E,h)))||p&&l)break}if(!i){if(!l)return this._.docEndMarker&&this._.docEndMarker.remove(),this._.nextNode=null;f=(i=new CKEDITOR.dom.elementPath(l.startContainer,l.root)).blockLimit,p={div:1,th:1,td:1},!(i=i.block)&&f&&!this.enforceRealBlocks&&p[f.getName()]&&l.checkStartOfBlock()&&l.checkEndOfBlock()&&!f.equals(l.root)?i=f:!i||this.enforceRealBlocks&&i.is(s)?(i=this.range.document.createElement(e),l.extractContents().appendTo(i),i.trim(),l.insertNode(i),c=d=!0):"li"!=i.getName()?l.checkStartOfBlock()&&l.checkEndOfBlock()||(i=i.clone(!1),l.extractContents().appendTo(i),i.trim(),c=!(d=l.splitBlock()).wasStartOfBlock,d=!d.wasEndOfBlock,l.insertNode(i)):u||(this._.nextNode=i.equals(h)?null:this._getNextSourceNode(l.getBoundaryNodes().endNode,1,h))}return c&&(c=i.getPrevious())&&c.type==CKEDITOR.NODE_ELEMENT&&("br"==c.getName()?c.remove():c.getLast()&&"br"==c.getLast().$.nodeName.toLowerCase()&&c.getLast().remove()),d&&(c=i.getLast())&&c.type==CKEDITOR.NODE_ELEMENT&&"br"==c.getName()&&(!CKEDITOR.env.needsBrFiller||c.getPrevious(r)||c.getNext(r))&&c.remove(),this._.nextNode||(this._.nextNode=u||i.equals(h)||!h?null:this._getNextSourceNode(i,1,h)),i},_getNextSourceNode:function(e,t,n){function o(e){return!(e.equals(n)||e.equals(i))}var i=this.range.root;for(e=e.getNextSourceNode(t,null,o);!r(e);)e=e.getNextSourceNode(t,null,o);return e}},CKEDITOR.dom.range.prototype.createIterator=function(){return new e(this)}}(),CKEDITOR.command=function(e,t){var n;this.uiItems=[],this.exec=function(n){return!(this.state==CKEDITOR.TRISTATE_DISABLED||!this.checkAllowed())&&(this.editorFocus&&e.focus(),!1===this.fire("exec")||!1!==t.exec.call(this,e,n))},this.refresh=function(e,n){return!(this.readOnly||!e.readOnly)||(this.context&&!n.isContextFor(this.context)||!this.checkAllowed(!0)?(this.disable(),!0):(this.startDisabled||this.enable(),this.modes&&!this.modes[e.mode]&&this.disable(),!1===this.fire("refresh",{editor:e,path:n})||t.refresh&&!1!==t.refresh.apply(this,arguments)))},this.checkAllowed=function(t){return t||"boolean"!=typeof n?n=e.activeFilter.checkFeature(this):n},CKEDITOR.tools.extend(this,t,{modes:{wysiwyg:1},editorFocus:1,contextSensitive:!!t.context,state:CKEDITOR.TRISTATE_DISABLED}),CKEDITOR.event.call(this)},CKEDITOR.command.prototype={enable:function(){this.state==CKEDITOR.TRISTATE_DISABLED&&this.checkAllowed()&&this.setState(this.preserveState&&void 0!==this.previousState?this.previousState:CKEDITOR.TRISTATE_OFF)},disable:function(){this.setState(CKEDITOR.TRISTATE_DISABLED)},setState:function(e){return!(this.state==e||e!=CKEDITOR.TRISTATE_DISABLED&&!this.checkAllowed()||(this.previousState=this.state,this.state=e,this.fire("state"),0))},toggleState:function(){this.state==CKEDITOR.TRISTATE_OFF?this.setState(CKEDITOR.TRISTATE_ON):this.state==CKEDITOR.TRISTATE_ON&&this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.event.implementOn(CKEDITOR.command.prototype),CKEDITOR.ENTER_P=1,CKEDITOR.ENTER_BR=2,CKEDITOR.ENTER_DIV=3,CKEDITOR.config={customConfig:"config.js",autoUpdateElement:!0,language:"",defaultLanguage:"en",contentsLangDirection:"",enterMode:CKEDITOR.ENTER_P,forceEnterMode:!1,shiftEnterMode:CKEDITOR.ENTER_BR,docType:"<!DOCTYPE html>",bodyId:"",bodyClass:"",fullPage:!1,height:200,contentsCss:CKEDITOR.getUrl("contents.css"),extraPlugins:"",removePlugins:"",protectedSource:[],tabIndex:0,width:"",baseFloatZIndex:1e4,blockedKeystrokes:[CKEDITOR.CTRL+66,CKEDITOR.CTRL+73,CKEDITOR.CTRL+85]},function(){function e(e,t,n,o,r){var i,s,l;for(i in e=[],t){s="boolean"==typeof(s=t[i])?{}:"function"==typeof s?{match:s}:_(s),"$"!=i.charAt(0)&&(s.elements=i),n&&(s.featureName=n.toLowerCase());var u=s;u.elements=a(u.elements,/\s+/)||null,u.propertiesOnly=u.propertiesOnly||!0===u.elements;var c=/\s*,\s*/,d=void 0;for(d in K){u[d]=a(u[d],c)||null;var h=u,f=S[d],p=a(u[S[d]],c),g=u[d],E=[],v=!0,T=void 0;for(T in p?v=!1:p={},g)"!"==T.charAt(0)&&(T=T.slice(1),E.push(T),p[T]=!0,v=!1);for(;T=E.pop();)g[T]=g["!"+T],delete g["!"+T];h[f]=!v&&p||null}u.match=u.match||null,o.push(s),e.push(s)}for(t=r.elements,r=r.generic,n=0,o=e.length;n<o;++n){for(c in s=!0===(i=_(e[n])).classes||!0===i.styles||!0===i.attributes,u=i,d=f=c=void 0,K)u[c]=m(u[c]);for(d in h=!0,S){for(g in p=[],g=void 0,f=u[c=S[d]])-1<g.indexOf("*")?p.push(new RegExp("^"+g.replace(/\*/g,".*")+"$")):p.push(g);(f=p).length&&(u[c]=f,h=!1)}if(u.nothingRequired=h,u.noProperties=!(u.attributes||u.classes||u.styles),!0===i.elements||null===i.elements)r[s?"unshift":"push"](i);else for(l in u=i.elements,delete i.elements,u)t[l]?t[l][s?"unshift":"push"](i):t[l]=[i]}}function t(e,t,o,r){if((!e.match||e.match(t))&&(r||s(e,t))&&(e.propertiesOnly||(o.valid=!0),o.allAttributes||(o.allAttributes=n(e.attributes,t.attributes,o.validAttributes)),o.allStyles||(o.allStyles=n(e.styles,t.styles,o.validStyles)),!o.allClasses)){if(t=t.classes,r=o.validClasses,e=e.classes)if(!0===e)e=!0;else{for(var i,a=0,l=t.length;a<l;++a)r[i=t[a]]||(r[i]=e(i));e=!1}else e=!1;o.allClasses=e}}function n(e,t,n){if(!e)return!1;if(!0===e)return!0;for(var o in t)n[o]||(n[o]=e(o));return!1}function o(e,t,n){if(!e.match||e.match(t)){if(e.noProperties)return!1;if(n.hadInvalidAttribute=r(e.attributes,t.attributes)||n.hadInvalidAttribute,n.hadInvalidStyle=r(e.styles,t.styles)||n.hadInvalidStyle,t=t.classes,e=e.classes){for(var o=!1,i=!0===e,a=t.length;a--;)(i||e(t[a]))&&(t.splice(a,1),o=!0);e=o}else e=!1;n.hadInvalidClass=e||n.hadInvalidClass}}function r(e,t){if(!e)return!1;var n,o=!1,r=!0===e;for(n in t)(r||e(n))&&(delete t[n],o=!0);return o}function i(e,t,n){return!(e.disabled||e.customConfig&&!n||!t||(e._.cachedChecks={},0))}function a(e,t){if(!e)return!1;if(!0===e)return e;if("string"==typeof e)return"*"==(e=R(e))||CKEDITOR.tools.convertArrayToObject(e.split(t));if(CKEDITOR.tools.isArray(e))return!!e.length&&CKEDITOR.tools.convertArrayToObject(e);var n,o={},r=0;for(n in e)o[n]=e[n],r++;return!!r&&o}function s(e,t){if(e.nothingRequired)return!0;var n,o,r,i;if(r=e.requiredClasses)for(i=t.classes,n=0;n<r.length;++n)if("string"==typeof(o=r[n])){if(-1==CKEDITOR.tools.indexOf(i,o))return!1}else if(!CKEDITOR.tools.checkIfAnyArrayItemMatches(i,o))return!1;return l(t.styles,e.requiredStyles)&&l(t.attributes,e.requiredAttributes)}function l(e,t){if(!t)return!0;for(var n,o=0;o<t.length;++o)if("string"==typeof(n=t[o])){if(!(n in e))return!1}else if(!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(e,n))return!1;return!0}function u(e){if(!e)return{};e=e.split(/\s*,\s*/).sort();for(var t={};e.length;)t[e.shift()]="cke-test";return t}function c(e){var t,n,o,r,i={},a=1;for(e=R(e);t=e.match(N);)(n=t[2])?(o=d(n,"styles"),r=d(n,"attrs"),n=d(n,"classes")):o=r=n=null,i["$"+a++]={elements:t[1],classes:n,styles:o,attributes:r},e=e.slice(t[0].length);return i}function d(e,t){var n=e.match(x[t]);return n?R(n[1]):null}function h(e){var t=e.styleBackup=e.attributes.style,n=e.classBackup=e.attributes.class;e.styles||(e.styles=CKEDITOR.tools.parseCssText(t||"",1)),e.classes||(e.classes=n?n.split(/\s+/):[])}function f(e,n,r,i){var a,s=0;if(i.toHtml&&(n.name=n.name.replace(A,"$1")),i.doCallbacks&&e.elementCallbacks){e:{for(var l,u=0,c=(a=e.elementCallbacks).length;u<c;++u)if(l=a[u](n)){a=l;break e}a=void 0}if(a)return a}if(i.doTransform&&(a=e._.transformations[n.name])){for(h(n),u=0;u<a.length;++u)C(e,n,a[u]);p(n)}if(i.doFilter){e:{e=(c=e._).allowedRules.elements[u=n.name],a=c.allowedRules.generic,u=c.disallowedRules.elements[u],c=c.disallowedRules.generic,l=i.skipRequired;var d,f,m={valid:!1,validAttributes:{},validClasses:{},validStyles:{},allAttributes:!1,allClasses:!1,allStyles:!1,hadInvalidAttribute:!1,hadInvalidClass:!1,hadInvalidStyle:!1};if(e||a){if(h(n),u)for(d=0,f=u.length;d<f;++d)if(!1===o(u[d],n,m)){e=null;break e}if(c)for(d=0,f=c.length;d<f;++d)o(c[d],n,m);if(e)for(d=0,f=e.length;d<f;++d)t(e[d],n,m,l);if(a)for(d=0,f=a.length;d<f;++d)t(a[d],n,m,l);e=m}else e=null}if(!e||!e.valid)return r.push(n),1;f=e.validAttributes;var E=e.validStyles;a=e.validClasses;var v=n.styles;c=n.classes,l=n.classBackup;var T,y,b=n.styleBackup,I=[],O=(m=[],/^data-cke-/);if(d=!1,delete(u=n.attributes).style,delete u.class,delete n.classBackup,delete n.styleBackup,!e.allAttributes)for(T in u)f[T]||O.test(T)&&(T==(y=T.replace(/^data-cke-saved-/,""))||f[y])||(delete u[T],d=!0);if(!e.allStyles||e.hadInvalidStyle){for(T in v)e.allStyles||E[T]?I.push(T+":"+v[T]):d=!0;I.length&&(u.style=I.sort().join("; "))}else b&&(u.style=b);if(!e.allClasses||e.hadInvalidClass){for(T=0;T<c.length;++T)(e.allClasses||a[c[T]])&&m.push(c[T]);m.length&&(u.class=m.sort().join(" ")),l&&m.length<l.split(/\s+/).length&&(d=!0)}else l&&(u.class=l);if(d&&(s=1),!i.skipFinalValidation&&!g(n))return r.push(n),1}return i.toHtml&&(n.name=n.name.replace(P,"cke:$1")),s}function p(e){var t,n=e.attributes;delete n.style,delete n.class,(t=CKEDITOR.tools.writeCssText(e.styles,!0))&&(n.style=t),e.classes.length&&(n.class=e.classes.sort().join(" "))}function g(e){switch(e.name){case"a":if(!(e.children.length||e.attributes.name||e.attributes.id))return!1;break;case"img":if(!e.attributes.src)return!1}return!0}function m(e){if(!e)return!1;if(!0===e)return!0;var t=function(e){var t,n=[];for(t in e)-1<t.indexOf("*")&&n.push(t.replace(/\*/g,".*"));return n.length?new RegExp("^(?:"+n.join("|")+")$"):null}(e);return function(n){return n in e||t&&n.match(t)}}function E(){return new CKEDITOR.htmlParser.element("br")}function v(e){return e.type==CKEDITOR.NODE_ELEMENT&&("br"==e.name||D.$block[e.name])}function T(e,t,n){if(D.$empty[o=e.name]||!e.children.length)"hr"==o&&"br"==t?e.replaceWith(E()):(e.parent&&n.push({check:"it",el:e.parent}),e.remove());else if(D.$block[o]||"tr"==o)if("br"==t)e.previous&&!v(e.previous)&&(t=E()).insertBefore(e),e.next&&!v(e.next)&&(t=E()).insertAfter(e),e.replaceWithChildren();else{var o,r;e:{r=D[t];for(var i,a=0,s=(o=e.children).length;a<s;++a)if((i=o[a]).type==CKEDITOR.NODE_ELEMENT&&!r[i.name]){r=!1;break e}r=!0}if(r)e.name=t,e.attributes={},n.push({check:"parent-down",el:e});else{var l,u;for(a=(r=e.parent).type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||"body"==r.name,s=o.length;0<s;)i=o[--s],a&&(i.type==CKEDITOR.NODE_TEXT||i.type==CKEDITOR.NODE_ELEMENT&&D.$inline[i.name])?(l||((l=new CKEDITOR.htmlParser.element(t)).insertAfter(e),n.push({check:"parent-down",el:l})),l.add(i,0)):(l=null,u=D[r.name]||D.span,i.insertAfter(e),r.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||i.type!=CKEDITOR.NODE_ELEMENT||u[i.name]||n.push({check:"el-up",el:i}));e.remove()}}else o in{style:1,script:1}?e.remove():(e.parent&&n.push({check:"it",el:e.parent}),e.replaceWithChildren())}function C(e,t,n){var o,r;for(o=0;o<n.length;++o)if(!((r=n[o]).check&&!e.check(r.check,!1)||r.left&&!r.left(t))){r.right(t,k);break}}function y(e,t){var n,o,r,i,a=t.getDefinition(),s=a.attributes,l=a.styles;if(e.name!=a.element)return!1;for(n in s)if("class"==n){for(a=s[n].split(/\s+/),r=e.classes.join("|");i=a.pop();)if(-1==r.indexOf(i))return!1}else if(e.attributes[n]!=s[n])return!1;for(o in l)if(e.styles[o]!=l[o])return!1;return!0}function b(e,t){var n,o;return"string"==typeof e?n=e:e instanceof CKEDITOR.style?o=e:(n=e[0],o=e[1]),[{element:n,left:o,right:function(e,n){n.transform(e,t)}}]}function I(e){return function(t){return y(t,e)}}function O(e){return function(t,n){n[e](t)}}var D=CKEDITOR.dtd,_=CKEDITOR.tools.copy,R=CKEDITOR.tools.trim,w=["","p","br","div"];CKEDITOR.FILTER_SKIP_TREE=2,CKEDITOR.filter=function(e){if(this.allowedContent=[],this.disallowedContent=[],this.elementCallbacks=null,this.disabled=!1,this.editor=null,this.id=CKEDITOR.tools.getNextNumber(),this._={allowedRules:{elements:{},generic:[]},disallowedRules:{elements:{},generic:[]},transformations:{},cachedTests:{},cachedChecks:{}},CKEDITOR.filter.instances[this.id]=this,e instanceof CKEDITOR.editor){e=this.editor=e,this.customConfig=!0;var t=e.config.allowedContent;!0===t?this.disabled=!0:(t||(this.customConfig=!1),this.allow(t,"config",1),this.allow(e.config.extraAllowedContent,"extra",1),this.allow(w[e.enterMode]+" "+w[e.shiftEnterMode],"default",1),this.disallow(e.config.disallowedContent))}else this.customConfig=!1,this.allow(e,"default",1)},CKEDITOR.filter.instances={},CKEDITOR.filter.prototype={allow:function(t,n,o){if(!i(this,t,o))return!1;var r,a;if("string"==typeof t)t=c(t);else if(t instanceof CKEDITOR.style){if(t.toAllowedContentRules)return this.allow(t.toAllowedContentRules(this.editor),n,o);o=(r=t.getDefinition()).attributes,(t={})[r.element]=r={styles:r.styles,requiredStyles:r.styles&&CKEDITOR.tools.objectKeys(r.styles)},o&&(o=_(o),r.classes=o.class?o.class.split(/\s+/):null,r.requiredClasses=r.classes,delete o.class,r.attributes=o,r.requiredAttributes=o&&CKEDITOR.tools.objectKeys(o))}else if(CKEDITOR.tools.isArray(t)){for(r=0;r<t.length;++r)a=this.allow(t[r],n,o);return a}return e(this,t,n,this.allowedContent,this._.allowedRules),!0},applyTo:function(e,t,n,o){if(this.disabled)return!1;var r,i,a,s=this,l=[],u=this.editor&&this.editor.config.protectedSource,c=!1,d={doFilter:!n,doTransform:!0,doCallbacks:!0,toHtml:t};for(e.forEach(function(e){if(e.type==CKEDITOR.NODE_ELEMENT){if("off"==e.attributes["data-cke-filter"])return!1;if(!t||"span"!=e.name||!~CKEDITOR.tools.objectKeys(e.attributes).join("|").indexOf("data-cke-"))if(1&(r=f(s,e,l,d)))c=!0;else if(2&r)return!1}else if(e.type==CKEDITOR.NODE_COMMENT&&e.value.match(/^\{cke_protected\}(?!\{C\})/)){var n;e:{var o,i,a,h=decodeURIComponent(e.value.replace(/^\{cke_protected\}/,""));if(n=[],u)for(i=0;i<u.length;++i)if((a=h.match(u[i]))&&a[0].length==h.length){n=!0;break e}1==(h=CKEDITOR.htmlParser.fragment.fromHtml(h)).children.length&&(o=h.children[0]).type==CKEDITOR.NODE_ELEMENT&&f(s,o,n,d),n=!n.length}n||l.push(e)}},null,!0),l.length&&(c=!0),e=[],o=w[o||(this.editor?this.editor.enterMode:CKEDITOR.ENTER_P)];n=l.pop();)n.type==CKEDITOR.NODE_ELEMENT?T(n,o,e):n.remove();for(;i=e.pop();)if((n=i.el).parent)switch(a=D[n.parent.name]||D.span,i.check){case"it":D.$removeEmpty[n.name]&&!n.children.length?T(n,o,e):g(n)||T(n,o,e);break;case"el-up":n.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||a[n.name]||T(n,o,e);break;case"parent-down":n.parent.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||a[n.name]||T(n.parent,o,e)}return c},checkFeature:function(e){return!(!this.disabled&&e)||(e.toFeature&&(e=e.toFeature(this.editor)),!e.requiredContent||this.check(e.requiredContent))},disable:function(){this.disabled=!0},disallow:function(t){return!!i(this,t,!0)&&("string"==typeof t&&(t=c(t)),e(this,t,null,this.disallowedContent,this._.disallowedRules),!0)},addContentForms:function(e){if(!this.disabled&&e){var t,n,o,r=[];for(t=0;t<e.length&&!o;++t)("string"==typeof(n=e[t])||n instanceof CKEDITOR.style)&&this.check(n)&&(o=n);if(o){for(t=0;t<e.length;++t)r.push(b(e[t],o));this.addTransformations(r)}}},addElementCallback:function(e){this.elementCallbacks||(this.elementCallbacks=[]),this.elementCallbacks.push(e)},addFeature:function(e){return!(!this.disabled&&e)||(e.toFeature&&(e=e.toFeature(this.editor)),this.allow(e.allowedContent,e.name),this.addTransformations(e.contentTransformations),this.addContentForms(e.contentForms),!e.requiredContent||!this.customConfig&&!this.disallowedContent.length||this.check(e.requiredContent))},addTransformations:function(e){var t,n;if(!this.disabled&&e){var o,r=this._.transformations;for(o=0;o<e.length;++o){t=e[o];var i=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0;for(n=[],a=0;a<t.length;++a)"string"==typeof(s=t[a])?(l=(s=s.split(/\s*:\s*/))[0],u=null,c=s[1]):(l=s.check,u=s.left,c=s.right),i||(i=(i=s).element?i.element:l?l.match(/^([a-z0-9]+)/i)[0]:i.left.getDefinition().element),u instanceof CKEDITOR.style&&(u=I(u)),n.push({check:l==i?null:l,left:u,right:"string"==typeof c?O(c):c});r[t=i]||(r[t]=[]),r[t].push(n)}}},check:function(e,t,n){if(this.disabled)return!0;if(CKEDITOR.tools.isArray(e)){for(var o=e.length;o--;)if(this.check(e[o],t,n))return!0;return!1}var r,i;if("string"==typeof e){if((i=e+"<"+(!1===t?"0":"1")+(n?"1":"0")+">")in this._.cachedChecks)return this._.cachedChecks[i];r=(o=c(e).$1).styles;var a=o.classes;o.name=o.elements,o.classes=a=a?a.split(/\s*,\s*/):[],o.styles=u(r),o.attributes=u(o.attributes),o.children=[],a.length&&(o.attributes.class=a.join(" ")),r&&(o.attributes.style=CKEDITOR.tools.writeCssText(o.styles)),r=o}else r=(o=e.getDefinition()).styles,a=o.attributes||{},r&&!CKEDITOR.tools.isEmpty(r)?(r=_(r),a.style=CKEDITOR.tools.writeCssText(r,!0)):r={},r={name:o.element,attributes:a,classes:a.class?a.class.split(/\s+/):[],styles:r,children:[]};a=CKEDITOR.tools.clone(r);var s,l=[];if(!1!==t&&(s=this._.transformations[r.name])){for(o=0;o<s.length;++o)C(this,r,s[o]);p(r)}return f(this,a,l,{doFilter:!0,doTransform:!1!==t,skipRequired:!n,skipFinalValidation:!n}),t=!(0<l.length||!CKEDITOR.tools.objectCompare(r.attributes,a.attributes,!0)),"string"==typeof e&&(this._.cachedChecks[i]=t),t},getAllowedEnterMode:function(){var e=["p","div","br"],t={p:CKEDITOR.ENTER_P,div:CKEDITOR.ENTER_DIV,br:CKEDITOR.ENTER_BR};return function(n,o){var r,i=e.slice();if(this.check(w[n]))return n;for(o||(i=i.reverse());r=i.pop();)if(this.check(r))return t[r];return CKEDITOR.ENTER_BR}}(),clone:function(){var e=new CKEDITOR.filter,t=CKEDITOR.tools.clone;return e.allowedContent=t(this.allowedContent),e._.allowedRules=t(this._.allowedRules),e.disallowedContent=t(this.disallowedContent),e._.disallowedRules=t(this._.disallowedRules),e._.transformations=t(this._.transformations),e.disabled=this.disabled,e.editor=this.editor,e},destroy:function(){delete CKEDITOR.filter.instances[this.id],delete this._,delete this.allowedContent,delete this.disallowedContent}};var k,K={styles:1,attributes:1,classes:1},S={styles:"requiredStyles",attributes:"requiredAttributes",classes:"requiredClasses"},N=/^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,x={styles:/{([^}]+)}/,attrs:/\[([^\]]+)\]/,classes:/\(([^\)]+)\)/},A=/^cke:(object|embed|param)$/,P=/^(object|embed|param)$/;k=CKEDITOR.filter.transformationsTools={sizeToStyle:function(e){this.lengthToStyle(e,"width"),this.lengthToStyle(e,"height")},sizeToAttribute:function(e){this.lengthToAttribute(e,"width"),this.lengthToAttribute(e,"height")},lengthToStyle:function(e,t,n){if(!((n=n||t)in e.styles)){var o=e.attributes[t];o&&(/^\d+$/.test(o)&&(o+="px"),e.styles[n]=o)}delete e.attributes[t]},lengthToAttribute:function(e,t,n){if(!((n=n||t)in e.attributes)){var o=e.styles[t],r=o&&o.match(/^(\d+)(?:\.\d*)?px$/);r?e.attributes[n]=r[1]:"cke-test"==o&&(e.attributes[n]="cke-test")}delete e.styles[t]},alignmentToStyle:function(e){if(!("float"in e.styles)){var t=e.attributes.align;"left"!=t&&"right"!=t||(e.styles.float=t)}delete e.attributes.align},alignmentToAttribute:function(e){if(!("align"in e.attributes)){var t=e.styles.float;"left"!=t&&"right"!=t||(e.attributes.align=t)}delete e.styles.float},splitBorderShorthand:function(e){if(e.styles.border){var t=CKEDITOR.tools.style.parse.border(e.styles.border);t.color&&(e.styles["border-color"]=t.color),t.style&&(e.styles["border-style"]=t.style),t.width&&(e.styles["border-width"]=t.width),delete e.styles.border}},listTypeToStyle:function(e){if(e.attributes.type)switch(e.attributes.type){case"a":e.styles["list-style-type"]="lower-alpha";break;case"A":e.styles["list-style-type"]="upper-alpha";break;case"i":e.styles["list-style-type"]="lower-roman";break;case"I":e.styles["list-style-type"]="upper-roman";break;case"1":e.styles["list-style-type"]="decimal";break;default:e.styles["list-style-type"]=e.attributes.type}},splitMarginShorthand:function(e){function t(t){e.styles["margin-top"]=n[t[0]],e.styles["margin-right"]=n[t[1]],e.styles["margin-bottom"]=n[t[2]],e.styles["margin-left"]=n[t[3]]}if(e.styles.margin){var n=e.styles.margin.match(/(\-?[\.\d]+\w+)/g)||["0px"];switch(n.length){case 1:t([0,0,0,0]);break;case 2:t([0,1,0,1]);break;case 3:t([0,1,2,1]);break;case 4:t([0,1,2,3])}delete e.styles.margin}},matchesStyle:y,transform:function(e,t){if("string"==typeof t)e.name=t;else{var n,o,r,i,a=t.getDefinition(),s=a.styles,l=a.attributes;for(n in e.name=a.element,l)if("class"==n)for(a=e.classes.join("|"),r=l[n].split(/\s+/);i=r.pop();)-1==a.indexOf(i)&&e.classes.push(i);else e.attributes[n]=l[n];for(o in s)e.styles[o]=s[o]}}}}(),CKEDITOR.focusManager=function(e){return e.focusManager?e.focusManager:(this.hasFocus=!1,this.currentActive=null,this._={editor:e},this)},CKEDITOR.focusManager._={blurDelay:200},CKEDITOR.focusManager.prototype={focus:function(e){this._.timer&&clearTimeout(this._.timer),e&&(this.currentActive=e),this.hasFocus||this._.locked||((e=CKEDITOR.currentInstance)&&e.focusManager.blur(1),this.hasFocus=!0,(e=this._.editor.container)&&e.addClass("cke_focus"),this._.editor.fire("focus"))},lock:function(){this._.locked=1},unlock:function(){delete this._.locked},blur:function(e){function t(){if(this.hasFocus){this.hasFocus=!1;var e=this._.editor.container;e&&e.removeClass("cke_focus"),this._.editor.fire("blur")}}if(!this._.locked){this._.timer&&clearTimeout(this._.timer);var n=CKEDITOR.focusManager._.blurDelay;e||!n?t.call(this):this._.timer=CKEDITOR.tools.setTimeout(function(){delete this._.timer,t.call(this)},n,this)}},add:function(e,t){if(!(n=e.getCustomData("focusmanager"))||n!=this){n&&n.remove(e);var n="focus",o="blur";t&&(CKEDITOR.env.ie?(n="focusin",o="focusout"):CKEDITOR.event.useCapture=1);var r={blur:function(){e.equals(this.currentActive)&&this.blur()},focus:function(){this.focus(e)}};e.on(n,r.focus,this),e.on(o,r.blur,this),t&&(CKEDITOR.event.useCapture=0),e.setCustomData("focusmanager",this),e.setCustomData("focusmanager_handlers",r)}},remove:function(e){e.removeCustomData("focusmanager");var t=e.removeCustomData("focusmanager_handlers");e.removeListener("blur",t.blur),e.removeListener("focus",t.focus)}},CKEDITOR.keystrokeHandler=function(e){return e.keystrokeHandler?e.keystrokeHandler:(this.keystrokes={},this.blockedKeystrokes={},this._={editor:e},this)},function(){var e,t=function(t){var n=(t=t.data).getKeystroke(),o=this.keystrokes[n],r=this._.editor;return(e=!1===r.fire("key",{keyCode:n,domEvent:t}))||(o&&(e=!1!==r.execCommand(o,{from:"keystrokeHandler"})),e||(e=!!this.blockedKeystrokes[n])),e&&t.preventDefault(!0),!e},n=function(t){e&&(e=!1,t.data.preventDefault(!0))};CKEDITOR.keystrokeHandler.prototype={attach:function(e){e.on("keydown",t,this),CKEDITOR.env.gecko&&CKEDITOR.env.mac&&e.on("keypress",n,this)}}}(),CKEDITOR.lang={languages:{af:1,ar:1,az:1,bg:1,bn:1,bs:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,"en-au":1,"en-ca":1,"en-gb":1,en:1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,"fr-ca":1,fr:1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,is:1,it:1,ja:1,ka:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,ms:1,nb:1,nl:1,no:1,oc:1,pl:1,"pt-br":1,pt:1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,"sr-latn":1,sr:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,"zh-cn":1,zh:1},rtl:{ar:1,fa:1,he:1,ku:1,ug:1},load:function(e,t,n){e&&CKEDITOR.lang.languages[e]||(e=this.detect(t,e));var o=this;t=function(){o[e].dir=o.rtl[e]?"rtl":"ltr",n(e,o[e])},this[e]?t():CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/"+e+".js"),t,this)},detect:function(e,t){var n,o=this.languages,r=(n=(t=t||navigator.userLanguage||navigator.language||e).toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/))[1];return o[r+"-"+(n=n[2])]?r=r+"-"+n:o[r]||(r=null),CKEDITOR.lang.detect=r?function(){return r}:function(e){return e},r||e}},CKEDITOR.scriptLoader=function(){var e={},t={};return{load:function(n,o,r,i){var a="string"==typeof n;a&&(n=[n]),r||(r=CKEDITOR);var s=n.length,l=[],u=[],c=function(e){o&&(a?o.call(r,e):o.call(r,l,u))};if(0===s)c(!0);else{var d=function(e,t){(t?l:u).push(e),0>=--s&&(i&&CKEDITOR.document.getDocumentElement().removeStyle("cursor"),c(t))},h=function(n,o){e[n]=1;var r=t[n];delete t[n];for(var i=0;i<r.length;i++)r[i](n,o)},f=function(n){if(e[n])d(n,!0);else{var r=t[n]||(t[n]=[]);if(r.push(d),!(1<r.length)){var i=new CKEDITOR.dom.element("script");i.setAttributes({type:"text/javascript",src:n}),o&&(CKEDITOR.env.ie&&(8>=CKEDITOR.env.version||CKEDITOR.env.ie9Compat)?i.$.onreadystatechange=function(){"loaded"!=i.$.readyState&&"complete"!=i.$.readyState||(i.$.onreadystatechange=null,h(n,!0))}:(i.$.onload=function(){setTimeout(function(){h(n,!0)},0)},i.$.onerror=function(){h(n,!1)})),i.appendTo(CKEDITOR.document.getHead())}}};i&&CKEDITOR.document.getDocumentElement().setStyle("cursor","wait");for(var p=0;p<s;p++)f(n[p])}},queue:function(){function e(){var e;(e=t[0])&&this.load(e.scriptUrl,e.callback,CKEDITOR,0)}var t=[];return function(n,o){var r=this;t.push({scriptUrl:n,callback:function(){o&&o.apply(this,arguments),t.shift(),e.call(r)}}),1==t.length&&e.call(this)}}()}}(),CKEDITOR.resourceManager=function(e,t){this.basePath=e,this.fileName=t,this.registered={},this.loaded={},this.externals={},this._={waitingList:{}}},CKEDITOR.resourceManager.prototype={add:function(e,t){if(this.registered[e])throw Error('[CKEDITOR.resourceManager.add] The resource name "'+e+'" is already registered.');var n=this.registered[e]=t||{};return n.name=e,n.path=this.getPath(e),CKEDITOR.fire(e+CKEDITOR.tools.capitalize(this.fileName)+"Ready",n),this.get(e)},get:function(e){return this.registered[e]||null},getPath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(t&&t.dir||this.basePath+e+"/")},getFilePath:function(e){var t=this.externals[e];return CKEDITOR.getUrl(this.getPath(e)+(t?t.file:this.fileName+".js"))},addExternal:function(e,t,n){e=e.split(",");for(var o=0;o<e.length;o++){var r=e[o];n||(t=t.replace(/[^\/]+$/,function(e){return n=e,""})),this.externals[r]={dir:t,file:n||this.fileName+".js"}}},load:function(e,t,n){CKEDITOR.tools.isArray(e)||(e=e?[e]:[]);for(var o=this.loaded,r=this.registered,i=[],a={},s={},l=0;l<e.length;l++){var u=e[l];if(u)if(o[u]||r[u])s[u]=this.get(u);else{var c=this.getFilePath(u);i.push(c),c in a||(a[c]=[]),a[c].push(u)}}CKEDITOR.scriptLoader.load(i,function(e,r){if(r.length)throw Error('[CKEDITOR.resourceManager.load] Resource name "'+a[r[0]].join(",")+'" was not found at "'+r[0]+'".');for(var i=0;i<e.length;i++)for(var l=a[e[i]],u=0;u<l.length;u++){var c=l[u];s[c]=this.get(c),o[c]=1}t.call(n,s)},this)}},CKEDITOR.plugins=new CKEDITOR.resourceManager("plugins/","plugin"),CKEDITOR.plugins.load=CKEDITOR.tools.override(CKEDITOR.plugins.load,function(e){var t={};return function(n,o,r){var i={},a=function(n){e.call(this,n,function(e){CKEDITOR.tools.extend(i,e);var n,s=[];for(n in e){var l=e[n],u=l&&l.requires;if(!t[n]){if(l.icons)for(var c=l.icons.split(","),d=c.length;d--;)CKEDITOR.skin.addIcon(c[d],l.path+"icons/"+(CKEDITOR.env.hidpi&&l.hidpi?"hidpi/":"")+c[d]+".png");t[n]=1}if(u)for(u.split&&(u=u.split(",")),l=0;l<u.length;l++)i[u[l]]||s.push(u[l])}if(s.length)a.call(this,s);else{for(n in i)(l=i[n]).onLoad&&!l.onLoad._called&&(!1===l.onLoad()&&delete i[n],l.onLoad._called=1);o&&o.call(r||window,i)}},this)};a.call(this,n)}}),CKEDITOR.plugins.setLang=function(e,t,n){var o=this.get(e);e=o.langEntries||(o.langEntries={}),(o=o.lang||(o.lang=[])).split&&(o=o.split(",")),-1==CKEDITOR.tools.indexOf(o,t)&&o.push(t),e[t]=n},CKEDITOR.ui=function(e){return e.ui?e.ui:(this.items={},this.instances={},this.editor=e,this._={handlers:{}},this)},CKEDITOR.ui.prototype={add:function(e,t,n){n.name=e.toLowerCase();var o=this.items[e]={type:t,command:n.command||null,args:Array.prototype.slice.call(arguments,2)};CKEDITOR.tools.extend(o,n)},get:function(e){return this.instances[e]},create:function(e){var t=this.items[e],n=t&&this._.handlers[t.type],o=t&&t.command&&this.editor.getCommand(t.command);return n=n&&n.create.apply(this,t.args),this.instances[e]=n,o&&o.uiItems.push(n),n&&!n.type&&(n.type=t.type),n},addHandler:function(e,t){this._.handlers[e]=t},space:function(e){return CKEDITOR.document.getById(this.spaceId(e))},spaceId:function(e){return this.editor.id+"_"+e}},CKEDITOR.event.implementOn(CKEDITOR.ui),function(){function e(e,n,r){if(CKEDITOR.event.call(this),e=e&&CKEDITOR.tools.clone(e),void 0!==n){if(!(n instanceof CKEDITOR.dom.element))throw Error("Expect element of type CKEDITOR.dom.element.");if(!r)throw Error("One of the element modes must be specified.");if(CKEDITOR.env.ie&&CKEDITOR.env.quirks&&r==CKEDITOR.ELEMENT_MODE_INLINE)throw Error("Inline element mode is not supported on IE quirks.");if(!function(e,t){return t==CKEDITOR.ELEMENT_MODE_INLINE?e.is(CKEDITOR.dtd.$editable)||e.is("textarea"):t==CKEDITOR.ELEMENT_MODE_REPLACE?!e.is(CKEDITOR.dtd.$nonBodyContent):1}(n,r))throw Error('The specified element mode is not supported on element: "'+n.getName()+'".');this.element=n,this.elementMode=r,this.name=this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO&&(n.getId()||n.getNameAtt())}else this.elementMode=CKEDITOR.ELEMENT_MODE_NONE;this._={},this.commands={},this.templates={},this.name=this.name||function(){do{var e="editor"+ ++i}while(CKEDITOR.instances[e]);return e}(),this.id=CKEDITOR.tools.getNextId(),this.status="unloaded",this.config=CKEDITOR.tools.prototypedCopy(CKEDITOR.config),this.ui=new CKEDITOR.ui(this),this.focusManager=new CKEDITOR.focusManager(this),this.keystrokeHandler=new CKEDITOR.keystrokeHandler(this),this.on("readOnly",t),this.on("selectionChange",function(e){o(this,e.data.path)}),this.on("activeFilterChange",function(){o(this,this.elementPath(),!0)}),this.on("mode",t),this.on("instanceReady",function(){if(this.config.startupFocus){if("end"===this.config.startupFocus){var e=this.createRange();e.selectNodeContents(this.editable()),e.shrink(CKEDITOR.SHRINK_ELEMENT,!0),e.collapse(),this.getSelection().selectRanges([e])}this.focus()}}),CKEDITOR.fire("instanceCreated",null,this),CKEDITOR.add(this),CKEDITOR.tools.setTimeout(function(){"destroyed"!==this.status?function(e,t){e.on("customConfigLoaded",function(){if(t){if(t.on)for(var n in t.on)e.on(n,t.on[n]);CKEDITOR.tools.extend(e.config,t,!0),delete e.config.on}e.readOnly=!!(n=e.config).readOnly||(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.is("textarea")?e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"):e.element.isReadOnly():e.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.element.hasAttribute("disabled")||e.element.hasAttribute("readonly"))),e.blockless=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&!(e.element.is("textarea")||CKEDITOR.dtd[e.element.getName()].p),e.tabIndex=n.tabIndex||e.element&&e.element.getAttribute("tabindex")||0,e.activeEnterMode=e.enterMode=e.blockless?CKEDITOR.ENTER_BR:n.enterMode,e.activeShiftEnterMode=e.shiftEnterMode=e.blockless?CKEDITOR.ENTER_BR:n.shiftEnterMode,n.skin&&(CKEDITOR.skinName=n.skin),e.fireOnce("configLoaded"),e.dataProcessor=new CKEDITOR.htmlDataProcessor(e),e.filter=e.activeFilter=new CKEDITOR.filter(e),function(e){CKEDITOR.skin.loadPart("editor",function(){!function(e){CKEDITOR.lang.load(e.config.language,e.config.defaultLanguage,function(t,n){var o=e.config.title;e.langCode=t,e.lang=CKEDITOR.tools.prototypedCopy(n),e.title="string"==typeof o||!1===o?o:[e.lang.editor,e.name].join(", "),e.config.contentsLangDirection||(e.config.contentsLangDirection=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.element.getDirection(1):e.lang.dir),e.fire("langLoaded"),function(e){e.getStylesSet(function(t){e.once("loaded",function(){e.fire("stylesSet",{styles:t})},null,null,1),function(e){var t=e.config,n=t.plugins,o=t.extraPlugins,r=t.removePlugins;if(o){var i=new RegExp("(?:^|,)(?:"+o.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");n=(n=n.replace(i,""))+","+o}if(r){var a=new RegExp("(?:^|,)(?:"+r.replace(/\s*,\s*/g,"|")+")(?=,|$)","g");n=n.replace(a,"")}CKEDITOR.env.air&&(n+=",adobeair"),CKEDITOR.plugins.load(n.split(","),function(n){var o=[],r=[],i=[];for(var s in e.plugins=n,n){var l,u=n[s],c=u.lang,d=null,h=u.requires;if(CKEDITOR.tools.isArray(h)&&(h=h.join(",")),h&&(l=h.match(a)))for(;h=l.pop();)CKEDITOR.error("editor-plugin-required",{plugin:h.replace(",",""),requiredBy:s});c&&!e.lang[s]&&(c.split&&(c=c.split(",")),d=0<=CKEDITOR.tools.indexOf(c,e.langCode)?e.langCode:(d=e.langCode.replace(/-.*/,""))!=e.langCode&&0<=CKEDITOR.tools.indexOf(c,d)?d:0<=CKEDITOR.tools.indexOf(c,"en")?"en":c[0],u.langEntries&&u.langEntries[d]?(e.lang[s]=u.langEntries[d],d=null):i.push(CKEDITOR.getUrl(u.path+"lang/"+d+".js"))),r.push(d),o.push(u)}CKEDITOR.scriptLoader.load(i,function(){for(var n=["beforeInit","init","afterInit"],i=0;i<n.length;i++)for(var a=0;a<o.length;a++){var s=o[a];0===i&&r[a]&&s.lang&&s.langEntries&&(e.lang[s.name]=s.langEntries[r[a]]),s[n[i]]&&s[n[i]](e)}for(e.fireOnce("pluginsLoaded"),t.keystrokes&&e.setKeystroke(e.config.keystrokes),a=0;a<e.config.blockedKeystrokes.length;a++)e.keystrokeHandler.blockedKeystrokes[e.config.blockedKeystrokes[a]]=1;e.status="loaded",e.fireOnce("loaded"),CKEDITOR.fire("instanceLoaded",null,e)})})}(e)})}(e)})}(e)})}(e)}),t&&null!=t.customConfig&&(e.config.customConfig=t.customConfig),function e(t){if(!(n=t.config.customConfig))return!1;var n=CKEDITOR.getUrl(n),o=a[n]||(a[n]={});return o.fn?(o.fn.call(t,t.config),CKEDITOR.getUrl(t.config.customConfig)!=n&&e(t)||t.fireOnce("customConfigLoaded")):CKEDITOR.scriptLoader.queue(n,function(){o.fn=CKEDITOR.editorConfig?CKEDITOR.editorConfig:function(){},e(t)}),!0}(e)||e.fireOnce("customConfigLoaded")}(this,e):CKEDITOR.warn("editor-incorrect-destroy")},0,this)}function t(){var e,t=this.commands;for(e in t)n(this,t[e])}function n(e,t){t[t.startDisabled?"disable":e.readOnly&&!t.readOnly?"disable":t.modes[e.mode]?"enable":"disable"]()}function o(e,t,n){if(t){var o,r,i=e.commands;for(r in i)o=i[r],(n||o.contextSensitive)&&o.refresh(e,t)}}function r(){var e=this.element;if(e&&this.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO){var t=this.getData();return this.config.htmlEncodeOutput&&(t=CKEDITOR.tools.htmlEncode(t)),e.is("textarea")?e.setValue(t):e.setHtml(t),!0}return!1}e.prototype=CKEDITOR.editor.prototype,CKEDITOR.editor=e;var i=0,a={};CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{addCommand:function(e,t){t.name=e.toLowerCase();var o=new CKEDITOR.command(this,t);return this.mode&&n(this,o),this.commands[e]=o},_attachToForm:function(){function e(e){t.updateElement(),t._.required&&!n.getValue()&&!1===t.fire("required")&&e.data.preventDefault()}var t=this,n=t.element,o=new CKEDITOR.dom.element(n.$.form);n.is("textarea")&&o&&(o.on("submit",e),function(e){return!!(e&&e.call&&e.apply)}(o.$.submit)&&(o.$.submit=CKEDITOR.tools.override(o.$.submit,function(t){return function(){e(),t.apply?t.apply(this):t()}})),t.on("destroy",function(){o.removeListener("submit",e)}))},destroy:function(e){this.fire("beforeDestroy"),!e&&r.call(this),this.editable(null),this.filter&&(this.filter.destroy(),delete this.filter),delete this.activeFilter,this.status="destroyed",this.fire("destroy"),this.removeAllListeners(),CKEDITOR.remove(this),CKEDITOR.fire("instanceDestroyed",null,this)},elementPath:function(e){if(!e){if(!(e=this.getSelection()))return null;e=e.getStartElement()}return e?new CKEDITOR.dom.elementPath(e,this.editable()):null},createRange:function(){var e=this.editable();return e?new CKEDITOR.dom.range(e):null},execCommand:function(e,t){var n=this.getCommand(e),o={name:e,commandData:t||{},command:n};return!(!n||n.state==CKEDITOR.TRISTATE_DISABLED||!1===this.fire("beforeCommandExec",o)||(o.returnValue=n.exec(o.commandData),n.async||!1===this.fire("afterCommandExec",o)))&&o.returnValue},getCommand:function(e){return this.commands[e]},getData:function(e){!e&&this.fire("beforeGetData");var t=this._.data;return"string"!=typeof t&&(t=(t=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?t.is("textarea")?t.getValue():t.getHtml():""),t={dataValue:t},!e&&this.fire("getData",t),t.dataValue},getSnapshot:function(){var e=this.fire("getSnapshot");return"string"!=typeof e&&(e=(e=this.element)&&this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE?e.is("textarea")?e.getValue():e.getHtml():""),e},loadSnapshot:function(e){this.fire("loadSnapshot",e)},setData:function(e,t,n){var o=!0,r=t;t&&"object"==typeof t&&(n=t.internal,r=t.callback,o=!t.noSnapshot),!n&&o&&this.fire("saveSnapshot"),!r&&n||this.once("dataReady",function(e){!n&&o&&this.fire("saveSnapshot"),r&&r.call(e.editor)}),e={dataValue:e},!n&&this.fire("setData",e),this._.data=e.dataValue,!n&&this.fire("afterSetData",e)},setReadOnly:function(e){this.readOnly!=(e=null==e||e)&&(this.readOnly=e,this.keystrokeHandler.blockedKeystrokes[8]=+e,this.editable().setReadOnly(e),this.fire("readOnly"))},insertHtml:function(e,t,n){this.fire("insertHtml",{dataValue:e,mode:t,range:n})},insertText:function(e){this.fire("insertText",e)},insertElement:function(e){this.fire("insertElement",e)},getSelectedHtml:function(e){var t=this.editable(),n=(n=this.getSelection())&&n.getRanges();return t&&n&&0!==n.length?(t=function(e,t){function n(e){var t=e.startContainer,n=e.endContainer;return!(!t.is||!(t.is("tr")||t.is("td")&&t.equals(n)&&e.endOffset===t.getChildCount()))}function o(e){var t=e.startContainer;return t.is("tr")?e.cloneContents():t.clone(!0)}for(var r,i,a,s=new CKEDITOR.dom.documentFragment,l=0;l<e.length;l++){var u=e[l],c=u.startContainer.getAscendant("tr",!0);n(u)?(r||((r=c.getAscendant("table").clone()).append(c.getAscendant({thead:1,tbody:1,tfoot:1}).clone()),s.append(r),r=r.findOne("thead, tbody, tfoot")),i&&i.equals(c)||(i=c,a=c.clone(),r.append(a)),a.append(o(u))):s.append(u.cloneContents())}return r?s:t.getHtmlFromRange(e[0])}(n,t),e?t.getHtml():t):null},extractSelectedHtml:function(e,t){var n,o=this.editable(),r=this.getSelection().getRanges(),i=new CKEDITOR.dom.documentFragment;if(!o||0===r.length)return null;for(n=0;n<r.length;n++)i.append(o.extractHtmlFromRange(r[n],t));return t||this.getSelection().selectRanges([r[0]]),e?i.getHtml():i},focus:function(){this.fire("beforeFocus")},checkDirty:function(){return"ready"==this.status&&this._.previousValue!==this.getSnapshot()},resetDirty:function(){this._.previousValue=this.getSnapshot()},updateElement:function(){return r.call(this)},setKeystroke:function(){for(var e,t,n=this.keystrokeHandler.keystrokes,o=CKEDITOR.tools.isArray(arguments[0])?arguments[0]:[[].slice.call(arguments,0)],r=o.length;r--;)e=o[r],t=0,CKEDITOR.tools.isArray(e)&&(t=e[1],e=e[0]),t?n[e]=t:delete n[e]},getCommandKeystroke:function(e){if(e="string"==typeof e?this.getCommand(e):e){var t,n=CKEDITOR.tools.object.findKey(this.commands,e),o=this.keystrokeHandler.keystrokes;if(e.fakeKeystroke)return e.fakeKeystroke;for(t in o)if(o.hasOwnProperty(t)&&o[t]==n)return t}return null},addFeature:function(e){return this.filter.addFeature(e)},setActiveFilter:function(e){e||(e=this.filter),this.activeFilter!==e&&(this.activeFilter=e,this.fire("activeFilterChange"),e===this.filter?this.setActiveEnterMode(null,null):this.setActiveEnterMode(e.getAllowedEnterMode(this.enterMode),e.getAllowedEnterMode(this.shiftEnterMode,!0)))},setActiveEnterMode:function(e,t){e=e?this.blockless?CKEDITOR.ENTER_BR:e:this.enterMode,t=t?this.blockless?CKEDITOR.ENTER_BR:t:this.shiftEnterMode,this.activeEnterMode==e&&this.activeShiftEnterMode==t||(this.activeEnterMode=e,this.activeShiftEnterMode=t,this.fire("activeEnterModeChange"))},showNotification:function(e){alert(e)}})}(),CKEDITOR.ELEMENT_MODE_NONE=0,CKEDITOR.ELEMENT_MODE_REPLACE=1,CKEDITOR.ELEMENT_MODE_APPENDTO=2,CKEDITOR.ELEMENT_MODE_INLINE=3,CKEDITOR.htmlParser=function(){this._={htmlPartsRegex:/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g}},function(){var e=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,t={checked:1,compact:1,declare:1,defer:1,disabled:1,ismap:1,multiple:1,nohref:1,noresize:1,noshade:1,nowrap:1,readonly:1,selected:1};CKEDITOR.htmlParser.prototype={onTagOpen:function(){},onTagClose:function(){},onText:function(){},onCDATA:function(){},onComment:function(){},parse:function(n){for(var o,r,i,a=0;o=this._.htmlPartsRegex.exec(n);)if((r=o.index)>a&&(a=n.substring(a,r),i?i.push(a):this.onText(a)),a=this._.htmlPartsRegex.lastIndex,!(r=o[1])||(r=r.toLowerCase(),i&&CKEDITOR.dtd.$cdata[r]&&(this.onCDATA(i.join("")),i=null),i))if(i)i.push(o[0]);else if(r=o[3]){if(r=r.toLowerCase(),!/="/.test(r)){var s,l={},u=o[4];if(o=!!o[5],u)for(;s=e.exec(u);){var c=s[1].toLowerCase();l[c]=!(s=s[2]||s[3]||s[4]||"")&&t[c]?c:CKEDITOR.tools.htmlDecodeAttr(s)}this.onTagOpen(r,l,o),!i&&CKEDITOR.dtd.$cdata[r]&&(i=[])}}else(r=o[2])&&this.onComment(r);else this.onTagClose(r);n.length>a&&this.onText(n.substring(a,n.length))}}}(),CKEDITOR.htmlParser.basicWriter=CKEDITOR.tools.createClass({$:function(){this._={output:[]}},proto:{openTag:function(e){this._.output.push("<",e)},openTagClose:function(e,t){this._.output.push(t?" />":">")},attribute:function(e,t){"string"==typeof t&&(t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){this._.output.push("</",e,">")},text:function(e){this._.output.push(e)},comment:function(e){this._.output.push("\x3c!--",e,"--\x3e")},write:function(e){this._.output.push(e)},reset:function(){this._.output=[],this._.indent=!1},getHtml:function(e){var t=this._.output.join("");return e&&this.reset(),t}}}),CKEDITOR.htmlParser.node=function(){},CKEDITOR.htmlParser.node.prototype={remove:function(){var e=this.parent.children,t=CKEDITOR.tools.indexOf(e,this),n=this.previous,o=this.next;n&&(n.next=o),o&&(o.previous=n),e.splice(t,1),this.parent=null},replaceWith:function(e){var t=this.parent.children,n=CKEDITOR.tools.indexOf(t,this),o=e.previous=this.previous,r=e.next=this.next;o&&(o.next=e),r&&(r.previous=e),t[n]=e,e.parent=this.parent,this.parent=null},insertAfter:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e),o=e.next;t.splice(n+1,0,this),this.next=e.next,this.previous=e,e.next=this,o&&(o.previous=this),this.parent=e.parent},insertBefore:function(e){var t=e.parent.children,n=CKEDITOR.tools.indexOf(t,e);t.splice(n,0,this),this.next=e,(this.previous=e.previous)&&(e.previous.next=this),e.previous=this,this.parent=e.parent},getAscendant:function(e){for(var t="function"==typeof e?e:"string"==typeof e?function(t){return t.name==e}:function(t){return t.name in e},n=this.parent;n&&n.type==CKEDITOR.NODE_ELEMENT;){if(t(n))return n;n=n.parent}return null},wrapWith:function(e){return this.replaceWith(e),e.add(this),e},getIndex:function(){return CKEDITOR.tools.indexOf(this.parent.children,this)},getFilterContext:function(e){return e||{}}},CKEDITOR.htmlParser.comment=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.comment.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_COMMENT,filter:function(e,t){var n=this.value;return(n=e.onComment(t,n,this))?"string"!=typeof n?(this.replaceWith(n),!1):(this.value=n,!0):(this.remove(),!1)},writeHtml:function(e,t){t&&this.filter(t),e.comment(this.value)}}),CKEDITOR.htmlParser.text=function(e){this.value=e,this._={isBlockLike:!1}},CKEDITOR.htmlParser.text.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(e,t){if(!(this.value=e.onText(t,this.value,this)))return this.remove(),!1},writeHtml:function(e,t){t&&this.filter(t),e.text(this.value)}}),CKEDITOR.htmlParser.cdata=function(e){this.value=e},CKEDITOR.htmlParser.cdata.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_TEXT,filter:function(){},writeHtml:function(e){e.write(this.value)}}),CKEDITOR.htmlParser.fragment=function(){this.children=[],this.parent=null,this._={isBlockLike:!0,hasInlineStarted:!1}},function(){function e(e){return!e.attributes["data-cke-survive"]&&("a"==e.name&&e.attributes.href||CKEDITOR.dtd.$removeEmpty[e.name])}var t=CKEDITOR.tools.extend({table:1,ul:1,ol:1,dl:1},CKEDITOR.dtd.table,CKEDITOR.dtd.ul,CKEDITOR.dtd.ol,CKEDITOR.dtd.dl),n={ol:1,ul:1},o=CKEDITOR.tools.extend({},{html:1},CKEDITOR.dtd.html,CKEDITOR.dtd.body,CKEDITOR.dtd.head,{style:1,script:1}),r={ul:"li",ol:"li",dl:"dd",table:"tbody",tbody:"tr",thead:"tr",tfoot:"tr",tr:"td"};CKEDITOR.htmlParser.fragment.fromHtml=function(i,a,s){function l(e){var t;if(0<m.length)for(var n=0;n<m.length;n++){var o=m[n],r=o.name,i=CKEDITOR.dtd[r],a=v.name&&CKEDITOR.dtd[v.name];a&&!a[r]||e&&i&&!i[e]&&CKEDITOR.dtd[e]?r==v.name&&(d(v,v.parent,1),n--):(t||(u(),t=1),(o=o.clone()).parent=v,v=o,m.splice(n,1),n--)}}function u(){for(;E.length;)d(E.shift(),v)}function c(e){if(e._.isBlockLike&&"pre"!=e.name&&"textarea"!=e.name){var t,n=e.children.length,o=e.children[n-1];o&&o.type==CKEDITOR.NODE_TEXT&&((t=CKEDITOR.tools.rtrim(o.value))?o.value=t:e.children.length=n-1)}}function d(t,n,o){n=n||v||g;var r=v;void 0===t.previous&&(h(n,t)&&(v=n,p.onTagOpen(s,{}),t.returnPoint=n=v),c(t),e(t)&&!t.children.length||n.add(t),"pre"==t.name&&(C=!1),"textarea"==t.name&&(T=!1)),t.returnPoint?(v=t.returnPoint,delete t.returnPoint):v=o?n:r}function h(e,t){var n,o;if((e==g||"body"==e.name)&&s&&(!e.name||CKEDITOR.dtd[e.name][s]))return(n=t.attributes&&(o=t.attributes["data-cke-real-element-type"])?o:t.name)&&n in CKEDITOR.dtd.$inline&&!(n in CKEDITOR.dtd.head)&&!t.isOrphan||t.type==CKEDITOR.NODE_TEXT}function f(e,t){return(e in CKEDITOR.dtd.$listItem||e in CKEDITOR.dtd.$tableContent)&&(e==t||"dt"==e&&"dd"==t||"dd"==e&&"dt"==t)}var p=new CKEDITOR.htmlParser,g=a instanceof CKEDITOR.htmlParser.element?a:"string"==typeof a?new CKEDITOR.htmlParser.element(a):new CKEDITOR.htmlParser.fragment,m=[],E=[],v=g,T="textarea"==g.name,C="pre"==g.name;for(p.onTagOpen=function(r,i,a,s){if((i=new CKEDITOR.htmlParser.element(r,i)).isUnknown&&a&&(i.isEmpty=!0),i.isOptionalClose=s,e(i))m.push(i);else{if("pre"==r)C=!0;else{if("br"==r&&C)return void v.add(new CKEDITOR.htmlParser.text("\n"));"textarea"==r&&(T=!0)}if("br"==r)E.push(i);else{for(;s=(a=v.name)?CKEDITOR.dtd[a]||(v._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):o,!(i.isUnknown||v.isUnknown||s[r]);)if(v.isOptionalClose)p.onTagClose(a);else if(r in n&&a in n)(a=(a=v.children)[a.length-1])&&"li"==a.name||d(a=new CKEDITOR.htmlParser.element("li"),v),!i.returnPoint&&(i.returnPoint=v),v=a;else if(r in CKEDITOR.dtd.$listItem&&!f(r,a))p.onTagOpen("li"==r?"ul":"dl",{},0,1);else if(a in t&&!f(r,a))!i.returnPoint&&(i.returnPoint=v),v=v.parent;else{if(a in CKEDITOR.dtd.$inline&&m.unshift(v),!v.parent){i.isOrphan=1;break}d(v,v.parent,1)}l(r),u(),i.parent=v,i.isEmpty?d(i):v=i}}},p.onTagClose=function(e){for(var t=m.length-1;0<=t;t--)if(e==m[t].name)return void m.splice(t,1);for(var n=[],o=[],r=v;r!=g&&r.name!=e;)r._.isBlockLike||o.unshift(r),n.push(r),r=r.returnPoint||r.parent;if(r!=g){for(t=0;t<n.length;t++){var i=n[t];d(i,i.parent)}v=r,r._.isBlockLike&&u(),d(r,r.parent),r==v&&(v=v.parent),m=m.concat(o)}"body"==e&&(s=!1)},p.onText=function(e){if(v._.hasInlineStarted&&!E.length||C||T||0!==(e=CKEDITOR.tools.ltrim(e)).length){var n=v.name,i=n?CKEDITOR.dtd[n]||(v._.isBlockLike?CKEDITOR.dtd.div:CKEDITOR.dtd.span):o;!T&&!i["#"]&&n in t?(p.onTagOpen(r[n]||""),p.onText(e)):(u(),l(),C||T||(e=e.replace(/[\t\r\n ]{2,}|[\t\r\n]/g," ")),e=new CKEDITOR.htmlParser.text(e),h(v,e)&&this.onTagOpen(s,{},0,1),v.add(e))}},p.onCDATA=function(e){v.add(new CKEDITOR.htmlParser.cdata(e))},p.onComment=function(e){u(),l(),v.add(new CKEDITOR.htmlParser.comment(e))},p.parse(i),u();v!=g;)d(v,v.parent,1);return c(g),g},CKEDITOR.htmlParser.fragment.prototype={type:CKEDITOR.NODE_DOCUMENT_FRAGMENT,add:function(e,t){isNaN(t)&&(t=this.children.length);var n=0<t?this.children[t-1]:null;if(n){if(e._.isBlockLike&&n.type==CKEDITOR.NODE_TEXT&&(n.value=CKEDITOR.tools.rtrim(n.value),0===n.value.length))return this.children.pop(),void this.add(e);n.next=e}e.previous=n,e.parent=this,this.children.splice(t,0,e),this._.hasInlineStarted||(this._.hasInlineStarted=e.type==CKEDITOR.NODE_TEXT||e.type==CKEDITOR.NODE_ELEMENT&&!e._.isBlockLike)},filter:function(e,t){t=this.getFilterContext(t),e.onRoot(t,this),this.filterChildren(e,!1,t)},filterChildren:function(e,t,n){if(this.childrenFilteredBy!=e.id)for(n=this.getFilterContext(n),t&&!this.parent&&e.onRoot(n,this),this.childrenFilteredBy=e.id,t=0;t<this.children.length;t++)!1===this.children[t].filter(e,n)&&t--},writeHtml:function(e,t){t&&this.filter(t),this.writeChildrenHtml(e)},writeChildrenHtml:function(e,t,n){var o=this.getFilterContext();for(n&&!this.parent&&t&&t.onRoot(o,this),t&&this.filterChildren(t,!1,o),t=0,o=(n=this.children).length;t<o;t++)n[t].writeHtml(e)},forEach:function(e,t,n){if(!(n||t&&this.type!=t))var o=e(this);if(!1!==o){n=this.children;for(var r=0;r<n.length;r++)(o=n[r]).type==CKEDITOR.NODE_ELEMENT?o.forEach(e,t):t&&o.type!=t||e(o)}},getFilterContext:function(e){return e||{}}}}(),function(){function e(){this.rules=[]}function t(t,n,o,r){var i,a;for(i in n)(a=t[i])||(a=t[i]=new e),a.add(n[i],o,r)}CKEDITOR.htmlParser.filter=CKEDITOR.tools.createClass({$:function(t){this.id=CKEDITOR.tools.getNextNumber(),this.elementNameRules=new e,this.attributeNameRules=new e,this.elementsRules={},this.attributesRules={},this.textRules=new e,this.commentRules=new e,this.rootRules=new e,t&&this.addRules(t,10)},proto:{addRules:function(e,n){var o;"number"==typeof n?o=n:n&&"priority"in n&&(o=n.priority),"number"!=typeof o&&(o=10),"object"!=typeof n&&(n={}),e.elementNames&&this.elementNameRules.addMany(e.elementNames,o,n),e.attributeNames&&this.attributeNameRules.addMany(e.attributeNames,o,n),e.elements&&t(this.elementsRules,e.elements,o,n),e.attributes&&t(this.attributesRules,e.attributes,o,n),e.text&&this.textRules.add(e.text,o,n),e.comment&&this.commentRules.add(e.comment,o,n),e.root&&this.rootRules.add(e.root,o,n)},applyTo:function(e){e.filter(this)},onElementName:function(e,t){return this.elementNameRules.execOnName(e,t)},onAttributeName:function(e,t){return this.attributeNameRules.execOnName(e,t)},onText:function(e,t,n){return this.textRules.exec(e,t,n)},onComment:function(e,t,n){return this.commentRules.exec(e,t,n)},onRoot:function(e,t){return this.rootRules.exec(e,t)},onElement:function(e,t){for(var n,o=[this.elementsRules["^"],this.elementsRules[t.name],this.elementsRules.$],r=0;3>r;r++)if(n=o[r]){if(!1===(n=n.exec(e,t,this)))return null;if(n&&n!=t)return this.onNode(e,n);if(t.parent&&!t.name)break}return t},onNode:function(e,t){var n=t.type;return n==CKEDITOR.NODE_ELEMENT?this.onElement(e,t):n==CKEDITOR.NODE_TEXT?new CKEDITOR.htmlParser.text(this.onText(e,t.value)):n==CKEDITOR.NODE_COMMENT?new CKEDITOR.htmlParser.comment(this.onComment(e,t.value)):null},onAttribute:function(e,t,n,o){return(n=this.attributesRules[n])?n.exec(e,o,t,this):o}}}),CKEDITOR.htmlParser.filterRulesGroup=e,e.prototype={add:function(e,t,n){this.rules.splice(this.findIndex(t),0,{value:e,priority:t,options:n})},addMany:function(e,t,n){for(var o=[this.findIndex(t),0],r=0,i=e.length;r<i;r++)o.push({value:e[r],priority:t,options:n});this.rules.splice.apply(this.rules,o)},findIndex:function(e){for(var t=this.rules,n=t.length-1;0<=n&&e<t[n].priority;)n--;return n+1},exec:function(e,t){var n,o,r,i,a=t instanceof CKEDITOR.htmlParser.node||t instanceof CKEDITOR.htmlParser.fragment,s=Array.prototype.slice.call(arguments,1),l=this.rules,u=l.length;for(i=0;i<u;i++)if(a&&(n=t.type,o=t.name),r=l[i],!(e.nonEditable&&!r.options.applyToAll||e.nestedEditable&&r.options.excludeNestedEditable)){if(!1===(r=r.value.apply(null,s))||a&&r&&(r.name!=o||r.type!=n))return r;null!=r&&(s[0]=t=r)}return t},execOnName:function(e,t){for(var n,o=0,r=this.rules,i=r.length;t&&o<i;o++)n=r[o],e.nonEditable&&!n.options.applyToAll||e.nestedEditable&&n.options.excludeNestedEditable||(t=t.replace(n.value[0],n.value[1]));return t}}}(),function(){function e(e,t){function s(e){return e||CKEDITOR.env.needsNbspFiller?new CKEDITOR.htmlParser.text("\xa0"):new CKEDITOR.htmlParser.element("br",{"data-cke-bogus":1})}function l(e,t){return function(r){if(r.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var a,l,c=[],d=n(r);if(d)for(u(d,1)&&c.push(d);d;)i(d)&&(a=o(d))&&u(a)&&((l=o(a))&&!i(l)?c.push(a):(s(f).insertAfter(a),a.remove())),d=d.previous;for(d=0;d<c.length;d++)c[d].remove();(c=!e||!1!==("function"==typeof t?t(r):t))&&(c=!(!f&&!CKEDITOR.env.needsBrFiller&&r.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT||!f&&!CKEDITOR.env.needsBrFiller&&(7<document.documentMode||r.name in CKEDITOR.dtd.tr||r.name in CKEDITOR.dtd.$listItem)||(c=n(r))&&("form"!=r.name||"input"!=c.name))),c&&r.add(s(e))}}}function u(e,t){return!(f&&!CKEDITOR.env.needsBrFiller||e.type!=CKEDITOR.NODE_ELEMENT||"br"!=e.name||e.attributes["data-cke-eol"])||!!(e.type==CKEDITOR.NODE_TEXT&&(n=e.value.match(h))&&(n.index&&(new CKEDITOR.htmlParser.text(e.value.substring(0,n.index)).insertBefore(e),e.value=n[0]),!CKEDITOR.env.needsBrFiller&&f&&(!t||e.parent.name in g)||!f&&((n=e.previous)&&"br"==n.name||!n||i(n))));var n}var c,d={elements:{}},f="html"==t,g=CKEDITOR.tools.extend({},m);for(c in g)"#"in p[c]||delete g[c];for(c in g)d.elements[c]=l(f,e.config.fillEmptyBlocks);return d.root=l(f,!1),d.elements.br=function(e){return function(t){if(t.parent.type!=CKEDITOR.NODE_DOCUMENT_FRAGMENT){var n=t.attributes;if("data-cke-bogus"in n||"data-cke-eol"in n)delete n["data-cke-bogus"];else{for(n=t.next;n&&r(n);)n=n.next;var l=o(t);!n&&i(t.parent)?a(t.parent,s(e)):i(n)&&l&&!i(l)&&s(e).insertBefore(n)}}}}(f),d}function t(e,t){return e!=CKEDITOR.ENTER_BR&&!1!==t&&(e==CKEDITOR.ENTER_DIV?"div":"p")}function n(e){for(e=e.children[e.children.length-1];e&&r(e);)e=e.previous;return e}function o(e){for(e=e.previous;e&&r(e);)e=e.previous;return e}function r(e){return e.type==CKEDITOR.NODE_TEXT&&!CKEDITOR.tools.trim(e.value)||e.type==CKEDITOR.NODE_ELEMENT&&e.attributes["data-cke-bookmark"]}function i(e){return e&&(e.type==CKEDITOR.NODE_ELEMENT&&e.name in m||e.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT)}function a(e,t){var n=e.children[e.children.length-1];e.children.push(t),t.parent=e,n&&(n.next=t,t.previous=n)}function s(e){"false"!=(e=e.attributes).contenteditable&&(e["data-cke-editable"]=e.contenteditable?"true":1),e.contenteditable="false"}function l(e){switch((e=e.attributes)["data-cke-editable"]){case"true":e.contenteditable="true";break;case"1":delete e.contenteditable}}function u(e,t){return e.replace(t,function(e,t,n){return 0===e.indexOf("<textarea")&&(e=t+c(n).replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</textarea>"),"<cke:encoded>"+encodeURIComponent(e)+"</cke:encoded>"})}function c(e){return e.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g,function(e,t){return decodeURIComponent(t)})}function d(e,t){var n=t._.dataStore;return e.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g,function(e,t){return decodeURIComponent(t)}).replace(/\{cke_protected_(\d+)\}/g,function(e,t){return n&&n[t]||""})}CKEDITOR.htmlDataProcessor=function(n){var o,r,i=this;this.editor=n,this.dataFilter=o=new CKEDITOR.htmlParser.filter,this.htmlFilter=r=new CKEDITOR.htmlParser.filter,this.writer=new CKEDITOR.htmlParser.basicWriter,o.addRules(E),o.addRules(v,{applyToAll:!0}),o.addRules(e(n,"data"),{applyToAll:!0}),r.addRules(T),r.addRules(C,{applyToAll:!0}),r.addRules(e(n,"html"),{applyToAll:!0}),n.on("toHtml",function(e){var o,r,i=function(e,t){var n=[],o=t.config.protectedSource,r=t._.dataStore||(t._.dataStore={id:1}),i=/<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g;o=[/<script[\s\S]*?(<\/script>|$)/gi,/<noscript[\s\S]*?<\/noscript>/gi,/<meta[\s\S]*?\/?>/gi].concat(o),e=e.replace(/\x3c!--[\s\S]*?--\x3e/g,function(e){return"\x3c!--{cke_tempcomment}"+(n.push(e)-1)+"--\x3e"});for(var a=0;a<o.length;a++)e=e.replace(o[a],function(e){return e=e.replace(i,function(e,t,o){return n[o]}),/cke_temp(comment)?/.test(e)?e:"\x3c!--{cke_temp}"+(n.push(e)-1)+"--\x3e"});return(e=(e=e.replace(i,function(e,t,o){return"\x3c!--"+f+(t?"{C}":"")+encodeURIComponent(n[o]).replace(/--/g,"%2D%2D")+"--\x3e"})).replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g,function(e){return e.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g,function(e,t){return r[r.id]=decodeURIComponent(t),"{cke_protected_"+r.id+++"}"})})).replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g,function(e,n,o,r){return"<"+n+o+">"+d(c(r),t)+"</"+n+">"})}(i=(e=e.data).dataValue,n);i=(i=(i=(i=(i=u(i=(i=u(i,D)).replace(y,function(e,t,n){return"<"+t+n.replace(b,function(e,t){return I.test(t)&&-1==n.indexOf("data-cke-saved-"+t)?" data-cke-saved-"+e+" data-cke-"+CKEDITOR.rnd+"-"+e:e})+">"}),O)).replace(R,"$1cke:$2")).replace(k,"<cke:$1$2></cke:$1>")).replace(/(<pre\b[^>]*>)(\r\n|\n)/g,"$1$2$2")).replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi,"$1data-cke-"+CKEDITOR.rnd+"-$2"),o=e.context||n.editable().getName(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&"pre"==o&&(o="div",i="<pre>"+i+"</pre>",r=1),(o=n.document.createElement(o)).setHtml("a"+i),i=(i=o.getHtml().substr(1)).replace(new RegExp("data-cke-"+CKEDITOR.rnd+"-","ig"),""),r&&(i=i.replace(/^<pre>|<\/pre>$/gi,"")),i=c(i=(i=i.replace(w,"$1$2")).replace(_,function(e,t){return decodeURIComponent(t)})),o=!1!==e.fixForBody&&t(e.enterMode,n.config.autoParagraph),i=CKEDITOR.htmlParser.fragment.fromHtml(i,e.context,o),o&&!(r=i).children.length&&CKEDITOR.dtd[r.name][o]&&(o=new CKEDITOR.htmlParser.element(o),r.add(o)),e.dataValue=i},null,null,5),n.on("toHtml",function(e){e.data.filter.applyTo(e.data.dataValue,!0,e.data.dontFilter,e.data.enterMode)&&n.fire("dataFiltered")},null,null,6),n.on("toHtml",function(e){e.data.dataValue.filterChildren(i.dataFilter,!0)},null,null,10),n.on("toHtml",function(e){var t=(e=e.data).dataValue,n=new CKEDITOR.htmlParser.basicWriter;t.writeChildrenHtml(n),t=n.getHtml(!0),e.dataValue=t.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g,function(e){return"\x3c!--"+f+"{C}"+encodeURIComponent(e).replace(/--/g,"%2D%2D")+"--\x3e"})},null,null,15),n.on("toDataFormat",function(e){var o=e.data.dataValue;e.data.enterMode!=CKEDITOR.ENTER_BR&&(o=o.replace(/^<br *\/?>/i,"")),e.data.dataValue=CKEDITOR.htmlParser.fragment.fromHtml(o,e.data.context,t(e.data.enterMode,n.config.autoParagraph))},null,null,5),n.on("toDataFormat",function(e){e.data.dataValue.filterChildren(i.htmlFilter,!0)},null,null,10),n.on("toDataFormat",function(e){e.data.filter.applyTo(e.data.dataValue,!1,!0)},null,null,11),n.on("toDataFormat",function(e){var t=e.data.dataValue,o=i.writer;o.reset(),t.writeChildrenHtml(o),t=d(t=c(t=o.getHtml(!0)),n),e.data.dataValue=t},null,null,15)},CKEDITOR.htmlDataProcessor.prototype={toHtml:function(e,t,n,o){var r,i,a,s,l=this.editor;return t&&"object"==typeof t?(r=t.context,n=t.fixForBody,o=t.dontFilter,i=t.filter,a=t.enterMode,s=t.protectedWhitespaces):r=t,r||null===r||(r=l.editable().getName()),l.fire("toHtml",{dataValue:e,context:r,fixForBody:n,dontFilter:o,filter:i||l.filter,enterMode:a||l.enterMode,protectedWhitespaces:s}).dataValue},toDataFormat:function(e,t){var n,o,r;return t&&(n=t.context,o=t.filter,r=t.enterMode),n||null===n||(n=this.editor.editable().getName()),this.editor.fire("toDataFormat",{dataValue:e,filter:o||this.editor.filter,context:n,enterMode:r||this.editor.enterMode}).dataValue}};var h=/(?:&nbsp;|\xa0)$/,f="{cke_protected}",p=CKEDITOR.dtd,g="caption colgroup col thead tfoot tbody".split(" "),m=CKEDITOR.tools.extend({},p.$blockLimit,p.$block),E={elements:{input:s,textarea:s}},v={attributeNames:[[/^on/,"data-cke-pa-on"],[/^srcdoc/,"data-cke-pa-srcdoc"],[/^data-cke-expando$/,""]],elements:{iframe:function(e){if(e.attributes&&e.attributes.src){var t=e.attributes.src.toLowerCase().replace(/[^a-z]/gi,"");0!==t.indexOf("javascript")&&0!==t.indexOf("data")||(e.attributes["data-cke-pa-src"]=e.attributes.src,delete e.attributes.src)}}}},T={elements:{embed:function(e){if((n=e.parent)&&"object"==n.name){var t=n.attributes.width,n=n.attributes.height;t&&(e.attributes.width=t),n&&(e.attributes.height=n)}},a:function(e){var t=e.attributes;if(!(e.children.length||t.name||t.id||e.attributes["data-cke-saved-name"]))return!1}}},C={elementNames:[[/^cke:/,""],[/^\?xml:namespace$/,""]],attributeNames:[[/^data-cke-(saved|pa)-/,""],[/^data-cke-.*/,""],["hidefocus",""]],elements:{$:function(e){var t=e.attributes;if(t){if(t["data-cke-temp"])return!1;for(var n=["name","href","src"],o=0;o<n.length;o++)"data-cke-saved-"+n[o]in t&&delete t[n[o]]}return e},table:function(e){e.children.slice(0).sort(function(e,t){var n,o;return e.type==CKEDITOR.NODE_ELEMENT&&t.type==e.type&&(n=CKEDITOR.tools.indexOf(g,e.name),o=CKEDITOR.tools.indexOf(g,t.name)),-1<n&&-1<o&&n!=o||(n=e.parent?e.getIndex():-1,o=t.parent?t.getIndex():-1),n>o?1:-1})},param:function(e){return e.children=[],e.isEmpty=!0,e},span:function(e){"Apple-style-span"==e.attributes.class&&delete e.name},html:function(e){delete e.attributes.contenteditable,delete e.attributes.class},body:function(e){delete e.attributes.spellcheck,delete e.attributes.contenteditable},style:function(e){var t=e.children[0];t&&t.value&&(t.value=CKEDITOR.tools.trim(t.value)),e.attributes.type||(e.attributes.type="text/css")},title:function(e){var t=e.children[0];!t&&a(e,t=new CKEDITOR.htmlParser.text),t.value=e.attributes["data-cke-title"]||""},input:l,textarea:l},attributes:{class:function(e){return CKEDITOR.tools.ltrim(e.replace(/(?:^|\s+)cke_[^\s]*/g,""))||!1}}};CKEDITOR.env.ie&&(C.attributes.style=function(e){return e.replace(/(^|;)([^\:]+)/g,function(e){return e.toLowerCase()})});var y=/<(a|area|img|input|source)\b([^>]*)>/gi,b=/([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,I=/^(href|src|name)$/i,O=/(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,D=/(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,_=/<cke:encoded>([^<]*)<\/cke:encoded>/gi,R=/(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,w=/(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,k=/<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi}(),CKEDITOR.htmlParser.element=function(e,t){this.name=e,this.attributes=t||{},this.children=[];var n=e||"",o=n.match(/^cke:(.*)/);o&&(n=o[1]),n=!!(CKEDITOR.dtd.$nonBodyContent[n]||CKEDITOR.dtd.$block[n]||CKEDITOR.dtd.$listItem[n]||CKEDITOR.dtd.$tableContent[n]||CKEDITOR.dtd.$nonEditable[n]||"br"==n),this.isEmpty=!!CKEDITOR.dtd.$empty[e],this.isUnknown=!CKEDITOR.dtd[e],this._={isBlockLike:n,hasInlineStarted:this.isEmpty||!n}},CKEDITOR.htmlParser.cssStyle=function(e){var t={};return((e instanceof CKEDITOR.htmlParser.element?e.attributes.style:e)||"").replace(/&quot;/g,'"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g,function(e,n,o){"font-family"==n&&(o=o.replace(/["']/g,"")),t[n.toLowerCase()]=o}),{rules:t,populate:function(e){var t=this.toString();t&&(e instanceof CKEDITOR.dom.element?e.setAttribute("style",t):e instanceof CKEDITOR.htmlParser.element?e.attributes.style=t:e.style=t)},toString:function(){var e,n=[];for(e in t)t[e]&&n.push(e,":",t[e],";");return n.join("")}}},function(){var e=function(e,t){return(e=e[0])<(t=t[0])?-1:e>t?1:0},t=CKEDITOR.htmlParser.fragment.prototype;CKEDITOR.htmlParser.element.prototype=CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node,{type:CKEDITOR.NODE_ELEMENT,add:t.add,clone:function(){return new CKEDITOR.htmlParser.element(this.name,this.attributes)},filter:function(e,t){var n,o,r,i,a=this;if((t=a.getFilterContext(t)).off)return!0;for(a.parent||e.onRoot(t,a);;){if(!(o=e.onElementName(t,n=a.name)))return this.remove(),!1;if(a.name=o,!(a=e.onElement(t,a)))return this.remove(),!1;if(a!==this)return this.replaceWith(a),!1;if(a.name==n)break;if(a.type!=CKEDITOR.NODE_ELEMENT)return this.replaceWith(a),!1;if(!a.name)return this.replaceWithChildren(),!1}for(r in n=a.attributes){for(o=n[r];;){if(!(i=e.onAttributeName(t,r))){delete n[r];break}if(i==r)break;delete n[r],r=i}i&&(!1===(o=e.onAttribute(t,a,i,o))?delete n[i]:n[i]=o)}return a.isEmpty||this.filterChildren(e,!1,t),!0},filterChildren:t.filterChildren,writeHtml:function(t,n){n&&this.filter(n);var o,r,i=this.name,a=[],s=this.attributes;for(o in t.openTag(i,s),s)a.push([o,s[o]]);for(t.sortAttributes&&a.sort(e),o=0,r=a.length;o<r;o++)t.attribute((s=a[o])[0],s[1]);t.openTagClose(i,this.isEmpty),this.writeChildrenHtml(t),this.isEmpty||t.closeTag(i)},writeChildrenHtml:t.writeChildrenHtml,replaceWithChildren:function(){for(var e=this.children,t=e.length;t;)e[--t].insertAfter(this);this.remove()},forEach:t.forEach,getFirst:function(e){if(!e)return this.children.length?this.children[0]:null;"function"!=typeof e&&(e=function(e){return function(t){return t.type==CKEDITOR.NODE_ELEMENT&&("string"==typeof e?t.name==e:t.name in e)}}(e));for(var t=0,n=this.children.length;t<n;++t)if(e(this.children[t]))return this.children[t];return null},getHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeChildrenHtml(e),e.getHtml()},setHtml:function(e){for(var t=0,n=(e=this.children=CKEDITOR.htmlParser.fragment.fromHtml(e).children).length;t<n;++t)e[t].parent=this},getOuterHtml:function(){var e=new CKEDITOR.htmlParser.basicWriter;return this.writeHtml(e),e.getHtml()},split:function(e){for(var t=this.children.splice(e,this.children.length-e),n=this.clone(),o=0;o<t.length;++o)t[o].parent=n;return n.children=t,t[0]&&(t[0].previous=null),0<e&&(this.children[e-1].next=null),this.parent.add(n,this.getIndex()+1),n},find:function(e,t){void 0===t&&(t=!1);var n,o=[];for(n=0;n<this.children.length;n++){var r=this.children[n];"function"==typeof e&&e(r)?o.push(r):"string"==typeof e&&r.name===e&&o.push(r),t&&r.find&&(o=o.concat(r.find(e,t)))}return o},addClass:function(e){if(!this.hasClass(e)){var t=this.attributes.class||"";this.attributes.class=t+(t?" ":"")+e}},removeClass:function(e){var t=this.attributes.class;t&&((t=CKEDITOR.tools.trim(t.replace(new RegExp("(?:\\s+|^)"+e+"(?:\\s+|$)")," ")))?this.attributes.class=t:delete this.attributes.class)},hasClass:function(e){var t=this.attributes.class;return!!t&&new RegExp("(?:^|\\s)"+e+"(?=\\s|$)").test(t)},getFilterContext:function(e){var t=[];if(e||(e={off:!1,nonEditable:!1,nestedEditable:!1}),e.off||"off"!=this.attributes["data-cke-processor"]||t.push("off",!0),e.nonEditable||"false"!=this.attributes.contenteditable?e.nonEditable&&!e.nestedEditable&&"true"==this.attributes.contenteditable&&t.push("nestedEditable",!0):t.push("nonEditable",!0),t.length){e=CKEDITOR.tools.copy(e);for(var n=0;n<t.length;n+=2)e[t[n]]=t[n+1]}return e}},!0)}(),function(){var e=/{([^}]+)}/g;CKEDITOR.template=function(e){this.source=String(e)},CKEDITOR.template.prototype.output=function(t,n){var o=this.source.replace(e,function(e,n){return void 0!==t[n]?t[n]:e});return n?n.push(o):o}}(),delete CKEDITOR.loadFullCore,CKEDITOR.instances={},CKEDITOR.document=new CKEDITOR.dom.document(document),CKEDITOR.add=function(e){CKEDITOR.instances[e.name]=e,e.on("focus",function(){CKEDITOR.currentInstance!=e&&(CKEDITOR.currentInstance=e,CKEDITOR.fire("currentInstance"))}),e.on("blur",function(){CKEDITOR.currentInstance==e&&(CKEDITOR.currentInstance=null,CKEDITOR.fire("currentInstance"))}),CKEDITOR.fire("instance",null,e)},CKEDITOR.remove=function(e){delete CKEDITOR.instances[e.name]},function(){var e={};CKEDITOR.addTemplate=function(t,n){var o=e[t];return o||(o={name:t,source:n},CKEDITOR.fire("template",o),e[t]=new CKEDITOR.template(o.source))},CKEDITOR.getTemplate=function(t){return e[t]}}(),function(){var e=[];CKEDITOR.addCss=function(t){e.push(t)},CKEDITOR.getCss=function(){return e.join("\n")}}(),CKEDITOR.on("instanceDestroyed",function(){CKEDITOR.tools.isEmpty(this.instances)&&CKEDITOR.fire("reset")}),CKEDITOR.TRISTATE_ON=1,CKEDITOR.TRISTATE_OFF=2,CKEDITOR.TRISTATE_DISABLED=0,CKEDITOR.inline=function(e,t){if(!CKEDITOR.env.isCompatible)return null;if((e=CKEDITOR.dom.element.get(e)).getEditor())throw'The editor instance "'+e.getEditor().name+'" is already attached to the provided element.';var n=new CKEDITOR.editor(t,e,CKEDITOR.ELEMENT_MODE_INLINE),o=e.is("textarea")?e:null;return o?(n.setData(o.getValue(),null,!0),(e=CKEDITOR.dom.element.createFromHtml('<div contenteditable="'+!!n.readOnly+'" class="cke_textarea_inline">'+o.getValue()+"</div>",CKEDITOR.document)).insertAfter(o),o.hide(),o.$.form&&n._attachToForm()):n.setData(e.getHtml(),null,!0),n.on("loaded",function(){n.fire("uiReady"),n.editable(e),n.container=e,n.ui.contentsElement=e,n.setData(n.getData(1)),n.resetDirty(),n.fire("contentDom"),n.mode="wysiwyg",n.fire("mode"),n.status="ready",n.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,n)},null,null,1e4),n.on("destroy",function(){o&&(n.container.clearCustomData(),n.container.remove(),o.show()),n.element.clearCustomData(),delete n.element}),n},CKEDITOR.inlineAll=function(){var e,t,n;for(n in CKEDITOR.dtd.$editable)for(var o=CKEDITOR.document.getElementsByTag(n),r=0,i=o.count();r<i;r++)"true"==(e=o.getItem(r)).getAttribute("contenteditable")&&(t={element:e,config:{}},!1!==CKEDITOR.fire("inline",t)&&CKEDITOR.inline(e,t.config))},CKEDITOR.domReady(function(){!CKEDITOR.disableAutoInline&&CKEDITOR.inlineAll()}),CKEDITOR.replaceClass="ckeditor",function(){function e(e,n,o,r){if(!CKEDITOR.env.isCompatible)return null;if((e=CKEDITOR.dom.element.get(e)).getEditor())throw'The editor instance "'+e.getEditor().name+'" is already attached to the provided element.';var i=new CKEDITOR.editor(n,e,r);return r==CKEDITOR.ELEMENT_MODE_REPLACE&&(e.setStyle("visibility","hidden"),i._.required=e.hasAttribute("required"),e.removeAttribute("required")),o&&i.setData(o,null,!0),i.on("loaded",function(){!function(e){var t=e.name,n=e.element,o=e.elementMode,r=e.fire("uiSpace",{space:"top",html:""}).html,i=e.fire("uiSpace",{space:"bottom",html:""}).html,a=new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} '+CKEDITOR.env.cssClass+'"  dir="{langDir}" lang="{langCode}" role="application"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':"")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':"")+'<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>');t=CKEDITOR.dom.element.createFromHtml(a.output({id:e.id,name:t,langDir:e.lang.dir,langCode:e.langCode,voiceLabel:e.title,topHtml:r?'<span id="'+e.ui.spaceId("top")+'" class="cke_top cke_reset_all" role="presentation" style="height:auto">'+r+"</span>":"",contentId:e.ui.spaceId("contents"),bottomHtml:i?'<span id="'+e.ui.spaceId("bottom")+'" class="cke_bottom cke_reset_all" role="presentation">'+i+"</span>":"",outerEl:CKEDITOR.env.ie?"span":"div"})),o==CKEDITOR.ELEMENT_MODE_REPLACE?(n.hide(),t.insertAfter(n)):n.append(t),e.container=t,e.ui.contentsElement=e.ui.space("contents"),r&&e.ui.space("top").unselectable(),i&&e.ui.space("bottom").unselectable(),o=e.config.height,(n=e.config.width)&&t.setStyle("width",CKEDITOR.tools.cssLength(n)),o&&e.ui.space("contents").setStyle("height",CKEDITOR.tools.cssLength(o)),t.disableContextMenu(),CKEDITOR.env.webkit&&t.on("focus",function(){e.focus()}),e.fireOnce("uiReady")}(i),r==CKEDITOR.ELEMENT_MODE_REPLACE&&i.config.autoUpdateElement&&e.$.form&&i._attachToForm(),i.setMode(i.config.startupMode,function(){i.resetDirty(),i.status="ready",i.fireOnce("instanceReady"),CKEDITOR.fire("instanceReady",null,i)})}),i.on("destroy",t),i}function t(){var e=this.container,t=this.element;e&&(e.clearCustomData(),e.remove()),t&&(t.clearCustomData(),this.elementMode==CKEDITOR.ELEMENT_MODE_REPLACE&&(t.show(),this._.required&&t.setAttribute("required","required")),delete this.element)}CKEDITOR.replace=function(t,n){return e(t,n,null,CKEDITOR.ELEMENT_MODE_REPLACE)},CKEDITOR.appendTo=function(t,n,o){return e(t,n,o,CKEDITOR.ELEMENT_MODE_APPENDTO)},CKEDITOR.replaceAll=function(){for(var e=document.getElementsByTagName("textarea"),t=0;t<e.length;t++){var n=null,o=e[t];if(o.name||o.id){if("string"==typeof arguments[0]){if(!new RegExp("(?:^|\\s)"+arguments[0]+"(?:$|\\s)").test(o.className))continue}else if("function"==typeof arguments[0]&&!1===arguments[0](o,n={}))continue;this.replace(o,n)}}},CKEDITOR.editor.prototype.addMode=function(e,t){(this._.modes||(this._.modes={}))[e]=t},CKEDITOR.editor.prototype.setMode=function(e,t){var n=this,o=this._.modes;if(e!=n.mode&&o&&o[e]){if(n.fire("beforeSetMode",e),n.mode){var r,i=n.checkDirty(),a=(o=n._.previousModeData,0);n.fire("beforeModeUnload"),n.editable(0),n._.previousMode=n.mode,n._.previousModeData=r=n.getData(1),"source"==n.mode&&o==r&&(n.fire("lockSnapshot",{forceUpdate:!0}),a=1),n.ui.space("contents").setHtml(""),n.mode=""}else n._.previousModeData=n.getData(1);this._.modes[e](function(){n.mode=e,void 0!==i&&!i&&n.resetDirty(),a?n.fire("unlockSnapshot"):"wysiwyg"==e&&n.fire("saveSnapshot"),setTimeout(function(){n.fire("mode"),t&&t.call(n)},0)})}},CKEDITOR.editor.prototype.resize=function(e,t,n,o){var r=this.container,i=this.ui.space("contents"),a=CKEDITOR.env.webkit&&this.document&&this.document.getWindow().$.frameElement;(o=o?this.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}):r).setSize("width",e,!0),a&&(a.style.width="1%");var s=(o.$.offsetHeight||0)-(i.$.clientHeight||0);r=Math.max(t-(n?0:s),0),t=n?t+s:t,i.setStyle("height",r+"px"),a&&(a.style.width="100%"),this.fire("resize",{outerHeight:t,contentsHeight:r,outerWidth:e||o.getSize("width")})},CKEDITOR.editor.prototype.getResizable=function(e){return e?this.ui.space("contents"):this.container},CKEDITOR.domReady(function(){CKEDITOR.replaceClass&&CKEDITOR.replaceAll(CKEDITOR.replaceClass)})}(),CKEDITOR.config.startupMode="wysiwyg",function(){function e(e){var t,o=e.editor,i=e.data.path,a=i.blockLimit,s=e.data.selection,l=s.getRanges()[0];(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller)&&(s=function(e,t){if(s.isFake)return 0;var o=t.block||t.blockLimit,r=o&&o.getLast(n);return!o||!o.isBlockBoundary()||r&&r.type==CKEDITOR.NODE_ELEMENT&&r.isBlockBoundary()||o.is("pre")||o.getBogus()?void 0:o}(0,i))&&(s.appendBogus(),t=CKEDITOR.env.ie),r(o,i.block,a)&&l.collapsed&&!l.getCommonAncestor().isReadOnly()&&((i=l.clone()).enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS),(a=new CKEDITOR.dom.walker(i)).guard=function(e){return!n(e)||e.type==CKEDITOR.NODE_COMMENT||e.isReadOnly()},!a.checkForward()||i.checkStartOfBlock()&&i.checkEndOfBlock())&&(o=l.fixBlock(!0,o.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p"),CKEDITOR.env.needsBrFiller||(o=o.getFirst(n))&&o.type==CKEDITOR.NODE_TEXT&&CKEDITOR.tools.trim(o.getText()).match(/^(?:&nbsp;|\xa0)$/)&&o.remove(),t=1,e.cancel()),t&&l.select()}function t(e){var t=e.data.getTarget();t.is("input")&&("submit"!=(t=t.getAttribute("type"))&&"reset"!=t||e.data.preventDefault())}function n(e){return l(e)&&u(e)}function o(e){function t(e){return function(t,r){if(r&&t.type==CKEDITOR.NODE_ELEMENT&&t.is(i)&&(o=t),!(r||!n(t)||e&&d(t)))return!1}}var o,r=e.getRanges()[0];e=e.root;var i={table:1,ul:1,ol:1,dl:1};if(r.startPath().contains(i)){var a=r.clone();if(a.collapse(1),a.setStartAt(e,CKEDITOR.POSITION_AFTER_START),(e=new CKEDITOR.dom.walker(a)).guard=t(),e.checkBackward(),o)return(a=r.clone()).collapse(),a.setEndAt(o,CKEDITOR.POSITION_AFTER_END),(e=new CKEDITOR.dom.walker(a)).guard=t(!0),o=!1,e.checkForward(),o}return null}function r(e,t,n){return!1!==e.config.autoParagraph&&e.activeEnterMode!=CKEDITOR.ENTER_BR&&(e.editable().equals(n)&&!t||t&&"true"==t.getAttribute("contenteditable"))}function i(e){return e.activeEnterMode!=CKEDITOR.ENTER_BR&&!1!==e.config.autoParagraph&&(e.activeEnterMode==CKEDITOR.ENTER_DIV?"div":"p")}function a(e){var t=e.editor;t.getSelection().scrollIntoView(),setTimeout(function(){t.fire("saveSnapshot")},0)}function s(e,t,n){var o=e.getCommonAncestor(t);for(t=e=n?t:e;(e=e.getParent())&&!o.equals(e)&&1==e.getChildCount();)t=e;t.remove()}var l,u,c,d,h,f,p,g,m,E;CKEDITOR.editable=CKEDITOR.tools.createClass({base:CKEDITOR.dom.element,$:function(e,t){this.base(t.$||t),this.editor=e,this.status="unloaded",this.hasFocus=!1,this.setup()},proto:{focus:function(){var e;if(CKEDITOR.env.webkit&&!this.hasFocus&&(e=this.editor._.previousActive||this.getDocument().getActive(),this.contains(e)))e.focus();else{CKEDITOR.env.edge&&14<CKEDITOR.env.version&&!this.hasFocus&&this.getDocument().equals(CKEDITOR.document)&&(this.editor._.previousScrollTop=this.$.scrollTop);try{if(!CKEDITOR.env.ie||CKEDITOR.env.edge&&14<CKEDITOR.env.version||!this.getDocument().equals(CKEDITOR.document))if(CKEDITOR.env.chrome){var t=this.$.scrollTop;this.$.focus(),this.$.scrollTop=t}else this.$.focus();else this.$.setActive()}catch(e){if(!CKEDITOR.env.ie)throw e}CKEDITOR.env.safari&&!this.isInline()&&((e=CKEDITOR.document.getActive()).equals(this.getWindow().getFrame())||this.getWindow().focus())}},on:function(e,t){var n=Array.prototype.slice.call(arguments,0);return CKEDITOR.env.ie&&/^focus|blur$/.exec(e)&&(e="focus"==e?"focusin":"focusout",t=function(e,t){return function(n){var o=n.data.$.toElement||n.data.$.fromElement||n.data.$.relatedTarget;(o=o&&o.nodeType==CKEDITOR.NODE_ELEMENT?new CKEDITOR.dom.element(o):null)&&(t.equals(o)||t.contains(o))||e.call(this,n)}}(t,this),n[0]=e,n[1]=t),CKEDITOR.dom.element.prototype.on.apply(this,n)},attachListener:function(e){!this._.listeners&&(this._.listeners=[]);var t=Array.prototype.slice.call(arguments,1);return t=e.on.apply(e,t),this._.listeners.push(t),t},clearListeners:function(){var e=this._.listeners;try{for(;e.length;)e.pop().removeListener()}catch(e){}},restoreAttrs:function(){var e,t,n=this._.attrChanges;for(t in n)n.hasOwnProperty(t)&&(null!==(e=n[t])?this.setAttribute(t,e):this.removeAttribute(t))},attachClass:function(e){var t=this.getCustomData("classes");this.hasClass(e)||(!t&&(t=[]),t.push(e),this.setCustomData("classes",t),this.addClass(e))},changeAttr:function(e,t){var n=this.getAttribute(e);t!==n&&(!this._.attrChanges&&(this._.attrChanges={}),e in this._.attrChanges||(this._.attrChanges[e]=n),this.setAttribute(e,t))},insertText:function(e){this.editor.focus(),this.insertHtml(this.transformPlainTextToHtml(e),"text")},transformPlainTextToHtml:function(e){var t=this.editor.getSelection().getStartElement().hasAscendant("pre",!0)?CKEDITOR.ENTER_BR:this.editor.activeEnterMode;return CKEDITOR.tools.transformPlainTextToHtml(e,t)},insertHtml:function(e,t,n){var o=this.editor;o.focus(),o.fire("saveSnapshot"),n||(n=o.getSelection().getRanges()[0]),f(this,t||"html",e,n),n.select(),a(this),this.editor.fire("afterInsertHtml",{})},insertHtmlIntoRange:function(e,t,n){f(this,n||"html",e,t),this.editor.fire("afterInsertHtml",{intoRange:t})},insertElement:function(e,t){(r=this.editor).focus(),r.fire("saveSnapshot");var o=r.activeEnterMode,r=r.getSelection(),i=e.getName();i=CKEDITOR.dtd.$block[i],t||(t=r.getRanges()[0]),this.insertElementIntoRange(e,t)&&(t.moveToPosition(e,CKEDITOR.POSITION_AFTER_END),i&&((i=e.getNext(function(e){return n(e)&&!d(e)}))&&i.type==CKEDITOR.NODE_ELEMENT&&i.is(CKEDITOR.dtd.$block)?i.getDtd()["#"]?t.moveToElementEditStart(i):t.moveToElementEditEnd(e):i||o==CKEDITOR.ENTER_BR||(i=t.fixBlock(!0,o==CKEDITOR.ENTER_DIV?"div":"p"),t.moveToElementEditStart(i)))),r.selectRanges([t]),a(this)},insertElementIntoSelection:function(e){this.insertElement(e)},insertElementIntoRange:function(e,t){var n,o,r=this.editor,i=r.config.enterMode,a=e.getName(),s=CKEDITOR.dtd.$block[a];if(t.checkReadOnly())return!1;if(t.deleteContents(1),t.startContainer.type==CKEDITOR.NODE_ELEMENT&&(t.startContainer.is({tr:1,table:1,tbody:1,thead:1,tfoot:1})?p(t):t.startContainer.is(CKEDITOR.dtd.$list)&&g(t)),s)for(;(n=t.getCommonAncestor(0,1))&&(o=CKEDITOR.dtd[n.getName()])&&(!o||!o[a]);)n.getName()in CKEDITOR.dtd.span?t.splitElement(n):t.checkStartOfBlock()&&t.checkEndOfBlock()?(t.setStartBefore(n),t.collapse(!0),n.remove()):t.splitBlock(i==CKEDITOR.ENTER_DIV?"div":"p",r.editable());return t.insertNode(e),!0},setData:function(e,t){t||(e=this.editor.dataProcessor.toHtml(e)),this.setHtml(e),this.fixInitialSelection(),"unloaded"==this.status&&(this.status="ready"),this.editor.fire("dataReady")},getData:function(e){var t=this.getHtml();return e||(t=this.editor.dataProcessor.toDataFormat(t)),t},setReadOnly:function(e){this.setAttribute("contenteditable",!e)},detach:function(){this.removeClass("cke_editable"),this.status="detached";var e=this.editor;this._.detach(),delete e.document,delete e.window},isInline:function(){return this.getDocument().equals(CKEDITOR.document)},fixInitialSelection:function(){function e(){var e,n=t.getDocument().$,o=n.getSelection();e:if(o.anchorNode&&o.anchorNode==t.$)e=!0;else{if(CKEDITOR.env.webkit&&(e=t.getDocument().getActive())&&e.equals(t)&&!o.anchorNode){e=!0;break e}e=void 0}e&&((e=new CKEDITOR.dom.range(t)).moveToElementEditStart(t),(n=n.createRange()).setStart(e.startContainer.$,e.startOffset),n.collapse(!0),o.removeAllRanges(),o.addRange(n))}var t=this;CKEDITOR.env.ie&&(9>CKEDITOR.env.version||CKEDITOR.env.quirks)?this.hasFocus&&(this.focus(),function(){var e=t.getDocument().$,n=e.selection,o=t.getDocument().getActive();"None"==n.type&&o.equals(t)&&(n=new CKEDITOR.dom.range(t),e=e.body.createTextRange(),n.moveToElementEditStart(t),(n=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(n=n.getParent()),e.moveToElementText(n.$),e.collapse(!0),e.select())}()):this.hasFocus?(this.focus(),e()):this.once("focus",function(){e()},null,null,-999)},getHtmlFromRange:function(e){return e.collapsed?new CKEDITOR.dom.documentFragment(e.document):(e={doc:this.getDocument(),range:e.clone()},m.eol.detect(e,this),m.bogus.exclude(e),m.cell.shrink(e),e.fragment=e.range.cloneContents(),m.tree.rebuild(e,this),m.eol.fix(e,this),new CKEDITOR.dom.documentFragment(e.fragment.$))},extractHtmlFromRange:function(e,t){var n=E,o={range:e,doc:e.document},r=this.getHtmlFromRange(e);if(e.collapsed)return e.optimize(),r;if(e.enlarge(CKEDITOR.ENLARGE_INLINE,1),n.table.detectPurge(o),o.bookmark=e.createBookmark(),delete o.range,(a=this.editor.createRange()).moveToPosition(o.bookmark.startNode,CKEDITOR.POSITION_BEFORE_START),o.targetBookmark=a.createBookmark(),n.list.detectMerge(o,this),n.table.detectRanges(o,this),n.block.detectMerge(o,this),o.tableContentsRanges?(n.table.deleteRanges(o),e.moveToBookmark(o.bookmark),o.range=e):(e.moveToBookmark(o.bookmark),o.range=e,e.extractContents(n.detectExtractMerge(o))),e.moveToBookmark(o.targetBookmark),e.optimize(),n.fixUneditableRangePosition(e),n.list.merge(o,this),n.table.purge(o,this),n.block.merge(o,this),t){if(n=e.startPath(),o=e.checkStartOfBlock()&&e.checkEndOfBlock()&&n.block&&!e.root.equals(n.block)){e:{var i,a=0;if(o=n.block.getElementsByTag("span"))for(;i=o.getItem(a++);)if(!u(i)){o=!0;break e}o=!1}o=!o}o&&(e.moveToPosition(n.block,CKEDITOR.POSITION_BEFORE_START),n.block.remove())}else n.autoParagraph(this.editor,e),c(e.startContainer)&&e.startContainer.appendBogus();return e.startContainer.mergeSiblings(),r},setup:function(){var e=this.editor;if(this.attachListener(e,"beforeGetData",function(){var t=this.getData();this.is("textarea")||!1!==e.config.ignoreEmptyParagraph&&(t=t.replace(h,function(e,t){return t})),e.setData(t,null,1)},this),this.attachListener(e,"getSnapshot",function(e){e.data=this.getData(1)},this),this.attachListener(e,"afterSetData",function(){this.setData(e.getData(1))},this),this.attachListener(e,"loadSnapshot",function(e){this.setData(e.data,1)},this),this.attachListener(e,"beforeFocus",function(){var t=e.getSelection();(t=t&&t.getNative())&&"Control"==t.type||this.focus()},this),this.attachListener(e,"insertHtml",function(e){this.insertHtml(e.data.dataValue,e.data.mode,e.data.range)},this),this.attachListener(e,"insertElement",function(e){this.insertElement(e.data)},this),this.attachListener(e,"insertText",function(e){this.insertText(e.data)},this),this.setReadOnly(e.readOnly),this.attachClass("cke_editable"),e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?this.attachClass("cke_editable_inline"):e.elementMode!=CKEDITOR.ELEMENT_MODE_REPLACE&&e.elementMode!=CKEDITOR.ELEMENT_MODE_APPENDTO||this.attachClass("cke_editable_themed"),this.attachClass("cke_contents_"+e.config.contentsLangDirection),e.keystrokeHandler.blockedKeystrokes[8]=+e.readOnly,e.keystrokeHandler.attach(this),this.on("blur",function(){this.hasFocus=!1},null,null,-1),this.on("focus",function(){this.hasFocus=!0},null,null,-1),CKEDITOR.env.webkit&&this.on("scroll",function(){e._.previousScrollTop=e.editable().$.scrollTop},null,null,-1),CKEDITOR.env.edge&&14<CKEDITOR.env.version){var r=function(){var t=e.editable();null!=e._.previousScrollTop&&t.getDocument().equals(CKEDITOR.document)&&(t.$.scrollTop=e._.previousScrollTop,e._.previousScrollTop=null,this.removeListener("scroll",r))};this.on("scroll",r)}if(e.focusManager.add(this),this.equals(CKEDITOR.document.getActive())&&(this.hasFocus=!0,e.once("contentDom",function(){e.focusManager.focus(this)},this)),this.isInline()&&this.changeAttr("tabindex",e.tabIndex),!this.is("textarea")){e.document=this.getDocument(),e.window=this.getWindow();var i=e.document;this.changeAttr("spellcheck",!e.config.disableNativeSpellChecker);var a=e.config.contentsLangDirection;this.getDirection(1)!=a&&this.changeAttr("dir",a);var u=CKEDITOR.getCss();if(u){var c=(a=i.getHead()).getCustomData("stylesheet");c?u!=c.getText()&&(CKEDITOR.env.ie&&9>CKEDITOR.env.version?c.$.styleSheet.cssText=u:c.setText(u)):(u=i.appendStyleText(u),u=new CKEDITOR.dom.element(u.ownerNode||u.owningElement),a.setCustomData("stylesheet",u),u.data("cke-temp",1))}a=i.getCustomData("stylesheet_ref")||0,i.setCustomData("stylesheet_ref",a+1),this.setCustomData("cke_includeReadonly",!e.config.disableReadonlyStyling),this.attachListener(this,"click",function(e){e=e.data;var t=new CKEDITOR.dom.elementPath(e.getTarget(),this).contains("a");t&&2!=e.$.button&&t.isReadOnly()&&e.preventDefault()});var d={8:1,46:1};this.attachListener(e,"key",function(t){if(e.readOnly)return!0;var n,r=t.data.domEvent.getKey();if(0!==(t=e.getSelection()).getRanges().length){if(r in d){var i,a,s,u,c=t.getRanges()[0],h=c.startPath();r=8==r,CKEDITOR.env.ie&&11>CKEDITOR.env.version&&(i=t.getSelectedElement())||(i=o(t))?(e.fire("saveSnapshot"),c.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove(),c.select(),e.fire("saveSnapshot"),n=1):c.collapsed&&((a=h.block)&&(u=a[r?"getPrevious":"getNext"](l))&&u.type==CKEDITOR.NODE_ELEMENT&&u.is("table")&&c[r?"checkStartOfBlock":"checkEndOfBlock"]()?(e.fire("saveSnapshot"),c[r?"checkEndOfBlock":"checkStartOfBlock"]()&&a.remove(),c["moveToElementEdit"+(r?"End":"Start")](u),c.select(),e.fire("saveSnapshot"),n=1):h.blockLimit&&h.blockLimit.is("td")&&(s=h.blockLimit.getAscendant("table"))&&c.checkBoundaryOfElement(s,r?CKEDITOR.START:CKEDITOR.END)&&(u=s[r?"getPrevious":"getNext"](l))?(e.fire("saveSnapshot"),c["moveToElementEdit"+(r?"End":"Start")](u),c.checkStartOfBlock()&&c.checkEndOfBlock()?u.remove():c.select(),e.fire("saveSnapshot"),n=1):(s=h.contains(["td","th","caption"]))&&c.checkBoundaryOfElement(s,r?CKEDITOR.START:CKEDITOR.END)&&(n=1))}return!n}}),e.blockless&&CKEDITOR.env.ie&&CKEDITOR.env.needsBrFiller&&this.attachListener(this,"keyup",function(t){t.data.getKeystroke()in d&&!this.getFirst(n)&&(this.appendBogus(),(t=e.createRange()).moveToPosition(this,CKEDITOR.POSITION_AFTER_START),t.select())}),this.attachListener(this,"dblclick",function(t){if(e.readOnly)return!1;t={element:t.data.getTarget()},e.fire("doubleclick",t)}),CKEDITOR.env.ie&&this.attachListener(this,"click",t),CKEDITOR.env.ie&&!CKEDITOR.env.edge||this.attachListener(this,"mousedown",function(t){var n=t.data.getTarget();n.is("img","hr","input","textarea","select")&&!n.isReadOnly()&&(e.getSelection().selectElement(n),n.is("input","textarea","select")&&t.data.preventDefault())}),CKEDITOR.env.edge&&this.attachListener(this,"mouseup",function(t){(t=t.data.getTarget())&&t.is("img")&&e.getSelection().selectElement(t)}),CKEDITOR.env.gecko&&this.attachListener(this,"mouseup",function(t){if(2==t.data.$.button&&!(t=t.data.getTarget()).getOuterHtml().replace(h,"")){var n=e.createRange();n.moveToElementEditStart(t),n.select(!0)}}),CKEDITOR.env.webkit&&(this.attachListener(this,"click",function(e){e.data.getTarget().is("input","select")&&e.data.preventDefault()}),this.attachListener(this,"mouseup",function(e){e.data.getTarget().is("input","textarea")&&e.data.preventDefault()})),CKEDITOR.env.webkit&&this.attachListener(e,"key",function(t){if(e.readOnly)return!0;if((n=t.data.domEvent.getKey())in d&&0!==(t=e.getSelection()).getRanges().length){var n=8==n,o=t.getRanges()[0];if(t=o.startPath(),o.collapsed)e:{var r=t.block;if(r&&o[n?"checkStartOfBlock":"checkEndOfBlock"]()&&o.moveToClosestEditablePosition(r,!n)&&o.collapsed){if(o.startContainer.type==CKEDITOR.NODE_ELEMENT){var i=o.startContainer.getChild(o.startOffset-(n?1:0));if(i&&i.type==CKEDITOR.NODE_ELEMENT&&i.is("hr")){e.fire("saveSnapshot"),i.remove(),t=!0;break e}}var a;!(o=o.startPath().block)||o&&o.contains(r)?t=void 0:(e.fire("saveSnapshot"),(a=(n?o:r).getBogus())&&a.remove(),i=(a=e.getSelection()).createBookmarks(),(n?r:o).moveChildren(n?o:r,!1),t.lastElement.mergeSiblings(),s(r,o,!n),a.selectBookmarks(i),t=!0)}else t=!1}else a=t.block,o=(n=o).endPath().block,a&&o&&!a.equals(o)?(e.fire("saveSnapshot"),(r=a.getBogus())&&r.remove(),n.enlarge(CKEDITOR.ENLARGE_INLINE),n.deleteContents(),o.getParent()&&(o.moveChildren(a,!1),t.lastElement.mergeSiblings(),s(a,o,!0)),(n=e.getSelection().getRanges()[0]).collapse(1),n.optimize(),""===n.startContainer.getHtml()&&n.startContainer.appendBogus(),n.select(),t=!0):t=!1;if(!t)return;return e.getSelection().scrollIntoView(),e.fire("saveSnapshot"),!1}},this,null,100)}}},_:{detach:function(){var e;if(this.editor.setData(this.editor.getData(),0,1),this.clearListeners(),this.restoreAttrs(),e=this.removeCustomData("classes"))for(;e.length;)this.removeClass(e.pop());if(!this.is("textarea")){var t=(e=this.getDocument()).getHead();if(t.getCustomData("stylesheet")){var n=e.getCustomData("stylesheet_ref");--n?e.setCustomData("stylesheet_ref",n):(e.removeCustomData("stylesheet_ref"),t.removeCustomData("stylesheet").remove())}}this.editor.fire("contentDomUnload"),delete this.editor}}}),CKEDITOR.editor.prototype.editable=function(e){var t=this._.editable;return t&&e?0:(arguments.length&&(t=this._.editable=e?e instanceof CKEDITOR.editable?e:new CKEDITOR.editable(this,e):(t&&t.detach(),null)),t)},CKEDITOR.on("instanceLoaded",function(t){var n=t.editor;n.on("insertElement",function(e){(e=e.data).type==CKEDITOR.NODE_ELEMENT&&(e.is("input")||e.is("textarea"))&&("false"!=e.getAttribute("contentEditable")&&e.data("cke-editable",e.hasAttribute("contenteditable")?"true":"1"),e.setAttribute("contentEditable",!1))}),n.on("selectionChange",function(t){if(!n.readOnly){var o=n.getSelection();o&&!o.isLocked&&(o=n.checkDirty(),n.fire("lockSnapshot"),e(t),n.fire("unlockSnapshot"),!o&&n.resetDirty())}})}),CKEDITOR.on("instanceCreated",function(e){var t=e.editor;t.on("mode",function(){var e=t.editable();if(e&&e.isInline()){var n=t.title;if(e.changeAttr("role","textbox"),e.changeAttr("aria-label",n),n&&e.changeAttr("title",n),(r=t.fire("ariaEditorHelpLabel",{}).label)&&(n=this.ui.space(this.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?"top":"contents"))){var o=CKEDITOR.tools.getNextId(),r=CKEDITOR.dom.element.createFromHtml('<span id="'+o+'" class="cke_voice_label">'+r+"</span>");n.append(r),e.changeAttr("aria-describedby",o)}}})}),CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"),l=CKEDITOR.dom.walker.whitespaces(!0),u=CKEDITOR.dom.walker.bookmark(!1,!0),c=CKEDITOR.dom.walker.empty(),d=CKEDITOR.dom.walker.bogus(),h=/(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi,f=function(){function e(e){return e.type==CKEDITOR.NODE_ELEMENT}function t(n,o){var r,i=[],a=n.getChildren(),s=a.count(),u=0,c=l[o],d=!n.is(l.$inline)||n.is("br");for(d&&i.push(" ");u<s;u++)e(r=a.getItem(u))&&!r.is(c)?i=i.concat(t(r,o)):i.push(r);return d&&i.push(" "),i}function o(t){return e(t.startContainer)&&t.startContainer.getChild(t.startOffset-1)}function a(t){return t&&e(t)&&(t.is(l.$removeEmpty)||t.is("a")&&!t.isBlockBoundary())}function s(t,n,o,r){var i,a,l=t.clone();l.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),(i=new CKEDITOR.dom.walker(l).next())&&e(i)&&u[i.getName()]&&(a=i.getPrevious())&&e(a)&&!a.getParent().equals(t.startContainer)&&o.contains(a)&&r.contains(i)&&i.isIdentical(a)&&(i.moveChildren(a),i.remove(),s(t,n,o,r))}var l=CKEDITOR.dtd,u={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,ul:1,ol:1,li:1,pre:1,dl:1,blockquote:1},c={p:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1},d=CKEDITOR.tools.extend({},l.$inline);return delete d.br,function(u,h,f,p){var g=u.editor,m=!1;if("unfiltered_html"==h&&(h="html",m=!0),!p.checkReadOnly()){var E,v,T;if(h=(u={type:h,dontFilter:m,editable:u,editor:g,range:p,blockLimit:K=new CKEDITOR.dom.elementPath(p.startContainer,p.root).blockLimit||p.root,mergeCandidates:[],zombies:[]}).range,p=u.mergeCandidates,"text"==u.type&&h.shrink(CKEDITOR.SHRINK_ELEMENT,!0,!1)&&(E=CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>",h.document),h.insertNode(E),h.setStartAfter(E)),m=new CKEDITOR.dom.elementPath(h.startContainer),u.endPath=K=new CKEDITOR.dom.elementPath(h.endContainer),!h.collapsed){g=K.block||K.blockLimit;var C=h.getCommonAncestor();g&&!g.equals(C)&&!g.contains(C)&&h.checkEndOfBlock()&&u.zombies.push(g),h.deleteContents()}for(;(v=o(h))&&e(v)&&v.isBlockBoundary()&&m.contains(v);)h.moveToPosition(v,CKEDITOR.POSITION_BEFORE_END);for(s(h,u.blockLimit,m,K),E&&(h.setEndBefore(E),h.collapse(),E.remove()),(g=(E=h.startPath()).contains(a,!1,1))&&(h.splitElement(g),u.inlineStylesRoot=g,u.inlineStylesPeak=E.lastElement),(g=(E=h.createBookmark()).startNode.getPrevious(n))&&e(g)&&a(g)&&p.push(g),(g=E.startNode.getNext(n))&&e(g)&&a(g)&&p.push(g),g=E.startNode;(g=g.getParent())&&a(g);)p.push(g);if(h.moveToBookmark(E),E=f){if(E=u.range,"text"==u.type&&u.inlineStylesRoot){for(h=(v=u.inlineStylesPeak).getDocument().createText("{cke-peak}"),p=u.inlineStylesRoot.getParent();!v.equals(p);)h=h.appendTo(v.clone()),v=v.getParent();f=h.getOuterHtml().split("{cke-peak}").join(f)}if(v=u.blockLimit.getName(),/^\s+|\s+$/.test(f)&&"span"in CKEDITOR.dtd[v]&&(f=(w='<span data-cke-marker="1">&nbsp;</span>')+f+w),f=u.editor.dataProcessor.toHtml(f,{context:null,fixForBody:!1,protectedWhitespaces:!!w,dontFilter:u.dontFilter,filter:u.editor.activeFilter,enterMode:u.editor.activeEnterMode}),(v=E.document.createElement("body")).setHtml(f),w&&(v.getFirst().remove(),v.getLast().remove()),(w=E.startPath().block)&&(1!=w.getChildCount()||!w.getBogus()))e:{var y;if(1==v.getChildCount()&&e(y=v.getFirst())&&y.is(c)&&!y.hasAttribute("contenteditable")){for(E=0,p=(w=y.getElementsByTag("*")).count();E<p;E++)if(!(h=w.getItem(E)).is(d))break e;y.moveChildren(y.getParent(1)),y.remove()}}u.dataWrapper=v,E=f}if(E){var b;E=(y=u.range).document,v=u.blockLimit,p=0;var I,O,D,_,R,w=[];f=g=0;var k,K=(m=u.endPath.elements[0]).getPosition(h=y.startContainer);for(C=!(!m.getCommonAncestor(h)||K==CKEDITOR.POSITION_IDENTICAL||K&CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED),function(t,n){function o(t,n){if(n.isBlock&&n.isElement&&!n.node.is("br")&&e(t)&&t.is("br"))return t.remove(),1}var r=n.endContainer.getChild(n.endOffset),i=n.endContainer.getChild(n.endOffset-1);r&&o(r,t[t.length-1]),i&&o(i,t[0])&&(n.setEnd(n.endContainer,n.endOffset-1),n.collapse())}(h=function t(n,o){var r,i,a,s,u=[],c=o.range.startContainer;r=o.range.startPath(),c=l[c.getName()];for(var d=0,h=n.getChildren(),f=h.count(),p=-1,g=-1,m=0,E=r.contains(l.$list);d<f;++d)e(r=h.getItem(d))?(a=r.getName(),E&&a in CKEDITOR.dtd.$list?u=u.concat(t(r,o)):(s=!!c[a],"br"!=a||!r.data("cke-eol")||d&&d!=f-1||(m=(i=d?u[d-1].node:h.getItem(d+1))&&(!e(i)||!i.is("br")),i=i&&e(i)&&l.$block[i.getName()]),-1!=p||s||(p=d),s||(g=d),u.push({isElement:1,isLineBreak:m,isBlock:r.isBlockBoundary(),hasBlockSibling:i,node:r,name:a,allowed:s}),i=m=0)):u.push({isElement:0,node:r,allowed:1});return-1<p&&(u[p].firstNotAllowed=1),-1<g&&(u[g].lastNotAllowed=1),u}(u.dataWrapper,u),y);p<h.length;p++){if(b=(K=h[p]).isLineBreak){b=y,_=v;var S=void 0,N=void 0;K.hasBlockSibling?b=1:(S=b.startContainer.getAscendant(l.$block,1))&&S.is({div:1,p:1})?(N=S.getPosition(_))==CKEDITOR.POSITION_IDENTICAL||N==CKEDITOR.POSITION_CONTAINS?b=0:(_=b.splitElement(S),b.moveToPosition(_,CKEDITOR.POSITION_AFTER_START),b=1):b=0}if(b)f=0<p;else{if(b=y.startPath(),!K.isBlock&&r(u.editor,b.block,b.blockLimit)&&(D=i(u.editor))&&((D=E.createElement(D)).appendBogus(),y.insertNode(D),CKEDITOR.env.needsBrFiller&&(I=D.getBogus())&&I.remove(),y.moveToPosition(D,CKEDITOR.POSITION_BEFORE_END)),(b=y.startPath().block)&&!b.equals(O)&&((I=b.getBogus())&&(I.remove(),w.push(b)),O=b),K.firstNotAllowed&&(g=1),g&&K.isElement){for(b=y.startContainer,_=null;b&&!l[b.getName()][K.name];){if(b.equals(v)){b=null;break}_=b,b=b.getParent()}if(b)_&&(R=y.splitElement(_),u.zombies.push(R),u.zombies.push(_));else{_=v.getName(),k=!p,b=p==h.length-1,S=[],N=(_=t(K.node,_)).length;for(var x=0,A=void 0,P=0,L=-1;x<N;x++)" "==(A=_[x])?(P||k&&!x||(S.push(new CKEDITOR.dom.text(" ")),L=S.length),P=1):(S.push(A),P=0);b&&L==S.length&&S.pop(),k=S}}if(k){for(;b=k.pop();)y.insertNode(b);k=0}else y.insertNode(K.node);K.lastNotAllowed&&p<h.length-1&&((R=C?m:R)&&y.setEndAt(R,CKEDITOR.POSITION_AFTER_START),g=0),y.collapse()}}(I=1==h.length&&(I=h[0]).isElement&&"false"==I.node.getAttribute("contenteditable"))&&(f=!0,y.setStartAt(b=h[0].node,CKEDITOR.POSITION_BEFORE_START),y.setEndAt(b,CKEDITOR.POSITION_AFTER_END)),u.dontMoveCaret=f,u.bogusNeededBlocks=w}for(R=u.bogusNeededBlocks,k=(I=u.range).createBookmark();O=u.zombies.pop();)O.getParent()&&((D=I.clone()).moveToElementEditStart(O),D.removeEmptyBlocksAtEnd());if(R)for(;O=R.pop();)CKEDITOR.env.needsBrFiller?O.appendBogus():O.append(I.document.createText("\xa0"));for(;O=u.mergeCandidates.pop();)O.mergeSiblings();if(I.moveToBookmark(k),!u.dontMoveCaret){for(O=o(I);O&&e(O)&&!O.is(l.$empty);){if(O.isBlockBoundary())I.moveToPosition(O,CKEDITOR.POSITION_BEFORE_END);else{if(a(O)&&O.getHtml().match(/(\s|&nbsp;)$/g)){T=null;break}(T=I.clone()).moveToPosition(O,CKEDITOR.POSITION_BEFORE_END)}O=O.getLast(n)}T&&I.moveToRange(T)}}}}(),p=function(){function e(e){return(e=new CKEDITOR.dom.walker(e)).guard=function(e,t){return!t&&(e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$tableContent):void 0)},e.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT},e}function t(e,t,n){return t=e.getDocument().createElement(t),e.append(t,n),t}function n(e){for(var t,n=e.count();0<n--;)t=e.getItem(n),CKEDITOR.tools.trim(t.getHtml())||(t.appendBogus(),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&t.getChildCount()&&t.getFirst().remove())}return function(o){var r=o.startContainer,i=r.getAscendant("table",1),a=!1;n(i.getElementsByTag("td")),n(i.getElementsByTag("th")),(i=o.clone()).setStart(r,0),(i=e(i).lastBackward())||((i=o.clone()).setEndAt(r,CKEDITOR.POSITION_BEFORE_END),i=e(i).lastForward(),a=!0),i||(i=r),i.is("table")?(o.setStartAt(i,CKEDITOR.POSITION_BEFORE_START),o.collapse(!0),i.remove()):(i.is({tbody:1,thead:1,tfoot:1})&&(i=t(i,"tr",a)),i.is("tr")&&(i=t(i,i.getParent().is("thead")?"th":"td",a)),(r=i.getBogus())&&r.remove(),o.moveToPosition(i,a?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END))}}(),g=function(){function e(e){return(e=new CKEDITOR.dom.walker(e)).guard=function(e,t){return!t&&(e.type==CKEDITOR.NODE_ELEMENT?e.is(CKEDITOR.dtd.$list)||e.is(CKEDITOR.dtd.$listItem):void 0)},e.evaluator=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is(CKEDITOR.dtd.$listItem)},e}return function(t){var n,o=t.startContainer,r=!1;(n=t.clone()).setStart(o,0),(n=e(n).lastBackward())||((n=t.clone()).setEndAt(o,CKEDITOR.POSITION_BEFORE_END),n=e(n).lastForward(),r=!0),n||(n=o),n.is(CKEDITOR.dtd.$list)?(t.setStartAt(n,CKEDITOR.POSITION_BEFORE_START),t.collapse(!0),n.remove()):((o=n.getBogus())&&o.remove(),t.moveToPosition(n,r?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),t.select())}}(),m={eol:{detect:function(e,t){var n=e.range,o=n.clone(),r=n.clone(),i=new CKEDITOR.dom.elementPath(n.startContainer,t),a=new CKEDITOR.dom.elementPath(n.endContainer,t);o.collapse(1),r.collapse(),i.block&&o.checkBoundaryOfElement(i.block,CKEDITOR.END)&&(n.setStartAfter(i.block),e.prependEolBr=1),a.block&&r.checkBoundaryOfElement(a.block,CKEDITOR.START)&&(n.setEndBefore(a.block),e.appendEolBr=1)},fix:function(e,t){var n,o=t.getDocument();e.appendEolBr&&(n=this.createEolBr(o),e.fragment.append(n)),!e.prependEolBr||n&&!n.getPrevious()||e.fragment.append(this.createEolBr(o),1)},createEolBr:function(e){return e.createElement("br",{attributes:{"data-cke-eol":1}})}},bogus:{exclude:function(e){var t,n=(t=e.range.getBoundaryNodes()).startNode;!(t=t.endNode)||!d(t)||n&&n.equals(t)||e.range.setEndBefore(t)}},tree:{rebuild:function(e,t){var n,o=(a=e.range).getCommonAncestor(),r=new CKEDITOR.dom.elementPath(o,t),i=new CKEDITOR.dom.elementPath(a.startContainer,t),a=new CKEDITOR.dom.elementPath(a.endContainer,t);if(o.type==CKEDITOR.NODE_TEXT&&(o=o.getParent()),r.blockLimit.is({tr:1,table:1})){var s=r.contains("table").getParent();n=function(e){return!e.equals(s)}}else if(r.block&&r.block.is(CKEDITOR.dtd.$listItem)&&(i=i.contains(CKEDITOR.dtd.$list),a=a.contains(CKEDITOR.dtd.$list),!i.equals(a))){var l=r.contains(CKEDITOR.dtd.$list).getParent();n=function(e){return!e.equals(l)}}n||(n=function(e){return!e.equals(r.block)&&!e.equals(r.blockLimit)}),this.rebuildFragment(e,t,o,n)},rebuildFragment:function(e,t,n,o){for(var r;n&&!n.equals(t)&&o(n);)r=n.clone(0,1),e.fragment.appendTo(r),e.fragment=r,n=n.getParent()}},cell:{shrink:function(e){var t=(e=e.range).startContainer,n=e.startOffset,o=e.endOffset;t.type==CKEDITOR.NODE_ELEMENT&&t.equals(e.endContainer)&&t.is("tr")&&++n==o&&e.shrink(CKEDITOR.SHRINK_TEXT)}}},E=function(){function e(e,t){var n=e.getParent();n.is(CKEDITOR.dtd.$inline)&&e[t?"insertBefore":"insertAfter"](n)}function t(t,n,o){e(n),e(o,1);for(var r;r=o.getNext();)r.insertAfter(n),n=r;c(t)&&t.remove()}function n(e,t){var n=new CKEDITOR.dom.range(e);return n.setStartAfter(t.startNode),n.setEndBefore(t.endNode),n}return{list:{detectMerge:function(e,t){var o=n(t,e.bookmark),r=o.startPath(),i=o.endPath(),a=r.contains(CKEDITOR.dtd.$list),s=i.contains(CKEDITOR.dtd.$list);e.mergeList=a&&s&&a.getParent().equals(s.getParent())&&!a.equals(s),e.mergeListItems=r.block&&i.block&&r.block.is(CKEDITOR.dtd.$listItem)&&i.block.is(CKEDITOR.dtd.$listItem),(e.mergeList||e.mergeListItems)&&((o=o.clone()).setStartBefore(e.bookmark.startNode),o.setEndAfter(e.bookmark.endNode),e.mergeListBookmark=o.createBookmark())},merge:function(e,n){if(e.mergeListBookmark){var o=e.mergeListBookmark.startNode,r=e.mergeListBookmark.endNode,i=new CKEDITOR.dom.elementPath(o,n),a=new CKEDITOR.dom.elementPath(r,n);if(e.mergeList){var s=i.contains(CKEDITOR.dtd.$list),l=a.contains(CKEDITOR.dtd.$list);s.equals(l)||(l.moveChildren(s),l.remove())}e.mergeListItems&&(i=i.contains(CKEDITOR.dtd.$listItem),a=a.contains(CKEDITOR.dtd.$listItem),i.equals(a)||t(a,o,r)),o.remove(),r.remove()}}},block:{detectMerge:function(e,t){if(!e.tableContentsRanges&&!e.mergeListBookmark){var n=new CKEDITOR.dom.range(t);n.setStartBefore(e.bookmark.startNode),n.setEndAfter(e.bookmark.endNode),e.mergeBlockBookmark=n.createBookmark()}},merge:function(e,n){if(e.mergeBlockBookmark&&!e.purgeTableBookmark){var o=e.mergeBlockBookmark.startNode,r=e.mergeBlockBookmark.endNode,i=new CKEDITOR.dom.elementPath(o,n),a=(a=new CKEDITOR.dom.elementPath(r,n)).block;(i=i.block)&&a&&!i.equals(a)&&t(a,o,r),o.remove(),r.remove()}}},table:function(){function e(e){var n,r=[],i=new CKEDITOR.dom.walker(e),a=e.startPath().contains(o),s=e.endPath().contains(o),l={};return i.guard=function(i,u){if(i.type==CKEDITOR.NODE_ELEMENT){if(i.getCustomData(c="visited_"+(u?"out":"in")))return;CKEDITOR.dom.element.setMarker(l,i,c,1)}if(u&&a&&i.equals(a))(n=e.clone()).setEndAt(a,CKEDITOR.POSITION_BEFORE_END),r.push(n);else if(!u&&s&&i.equals(s))(n=e.clone()).setStartAt(s,CKEDITOR.POSITION_AFTER_START),r.push(n);else{if((c=!u)&&(c=i.type==CKEDITOR.NODE_ELEMENT&&i.is(o)&&(!a||t(i,a))&&(!s||t(i,s))),!c&&(c=u))if(i.is(o)){var c=a&&a.getAscendant("table",!0),d=s&&s.getAscendant("table",!0),h=i.getAscendant("table",!0);c=c&&c.contains(h)||d&&d.contains(h)}else c=void 0;c&&((n=e.clone()).selectNodeContents(i),r.push(n))}},i.lastForward(),CKEDITOR.dom.element.clearAllMarkers(l),r}function t(e,t){var n=CKEDITOR.POSITION_CONTAINS+CKEDITOR.POSITION_IS_CONTAINED,o=e.getPosition(t);return o!==CKEDITOR.POSITION_IDENTICAL&&0==(o&n)}var o={td:1,th:1,caption:1};return{detectPurge:function(e){var t=e.range;(r=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT);var n=0;if((r=new CKEDITOR.dom.walker(r)).evaluator=function(e){e.type==CKEDITOR.NODE_ELEMENT&&e.is(o)&&++n},r.checkForward(),1<n){var r=t.startPath().contains("table"),i=t.endPath().contains("table");r&&i&&t.checkBoundaryOfElement(r,CKEDITOR.START)&&t.checkBoundaryOfElement(i,CKEDITOR.END)&&((t=e.range.clone()).setStartBefore(r),t.setEndAfter(i),e.purgeTableBookmark=t.createBookmark())}},detectRanges:function(r,i){var a,s,l=n(i,r.bookmark),u=l.clone(),c=l.getCommonAncestor();c.is(CKEDITOR.dtd.$tableContent)&&!c.is(o)&&(c=c.getAscendant("table",!0)),s=c,c=new CKEDITOR.dom.elementPath(l.startContainer,s),s=new CKEDITOR.dom.elementPath(l.endContainer,s),c=c.contains("table"),s=s.contains("table"),(c||s)&&(c&&s&&t(c,s)?(r.tableSurroundingRange=u,u.setStartAt(c,CKEDITOR.POSITION_AFTER_END),u.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),(u=l.clone()).setEndAt(c,CKEDITOR.POSITION_AFTER_END),(a=l.clone()).setStartAt(s,CKEDITOR.POSITION_BEFORE_START),a=e(u).concat(e(a))):c?s||(r.tableSurroundingRange=u,u.setStartAt(c,CKEDITOR.POSITION_AFTER_END),l.setEndAt(c,CKEDITOR.POSITION_AFTER_END)):(r.tableSurroundingRange=u,u.setEndAt(s,CKEDITOR.POSITION_BEFORE_START),l.setStartAt(s,CKEDITOR.POSITION_AFTER_START)),r.tableContentsRanges=a||e(l))},deleteRanges:function(e){for(var t;t=e.tableContentsRanges.pop();)t.extractContents(),c(t.startContainer)&&t.startContainer.appendBogus();e.tableSurroundingRange&&e.tableSurroundingRange.extractContents()},purge:function(e){if(e.purgeTableBookmark){var t=e.doc,n=e.range.clone();(t=t.createElement("p")).insertBefore(e.purgeTableBookmark.startNode),n.moveToBookmark(e.purgeTableBookmark),n.deleteContents(),e.range.moveToPosition(t,CKEDITOR.POSITION_AFTER_START)}}}}(),detectExtractMerge:function(e){return!(e.range.startPath().contains(CKEDITOR.dtd.$listItem)&&e.range.endPath().contains(CKEDITOR.dtd.$listItem))},fixUneditableRangePosition:function(e){e.startContainer.getDtd()["#"]||e.moveToClosestEditablePosition(null,!0)},autoParagraph:function(e,t){var n,o=t.startPath();r(e,o.block,o.blockLimit)&&(n=i(e))&&((n=t.document.createElement(n)).appendBogus(),t.insertNode(n),t.moveToPosition(n,CKEDITOR.POSITION_AFTER_START))}}}()}(),function(){function e(e){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(e)}function t(t,n){if(0===t.length||e(t[0].getEnclosedNode()))return!1;var o,r;if((o=!n&&1===t.length)&&!(o=t[0].collapsed)){var i=t[0];o=i.startContainer.getAscendant({td:1,th:1},!0);var a=i.endContainer.getAscendant({td:1,th:1},!0);r=CKEDITOR.tools.trim,o=!(!o||!o.equals(a)||o.findOne("td, th, tr, tbody, table")||(i=i.cloneContents()).getFirst()&&r(i.getFirst().getText())===r(o.getText()))}if(o)return!1;for(r=0;r<t.length;r++)if(!(o=t[r]._getTableElement()))return!1;return!0}function n(e){var t=this.root.editor,n=t.getSelection(1);this.reset(),d=!0,n.root.once("selectionchange",function(e){e.cancel()},null,null,0),n.selectRanges([e[0]]),(n=this._.cache).ranges=new CKEDITOR.dom.rangeList(e),n.type=CKEDITOR.SELECTION_TEXT,n.selectedElement=e[0]._getTableElement(),n.selectedText=function(e){e=function(e){function t(e){e=e.find("td, th");var t,n=[];for(t=0;t<e.count();t++)n.push(e.getItem(t));return n}var n,o,r=[];for(o=0;o<e.length;o++)(n=e[o]._getTableElement()).is&&n.is({td:1,th:1})?r.push(n):r=r.concat(t(n));return r}(e);var t,n,o="",r=[];for(n=0;n<e.length;n++)t&&!t.equals(e[n].getAscendant("tr"))?(o+=r.join("\t")+"\n",t=e[n].getAscendant("tr"),r=[]):0===n&&(t=e[n].getAscendant("tr")),r.push(e[n].getText());return o+r.join("\t")}(e),n.nativeSel=null,this.isFake=1,this.rev=g++,t._.fakeSelection=this,d=!1,this.root.fire("selectionchange")}function o(){var n,o=this._.fakeSelection;if(o){var r;if(!(r=!(n=this.getSelection(1)))&&(r=!n.isHidden())){r=o;var i=n.getRanges(),a=r.getRanges(),s=i.length&&i[0]._getTableElement()&&i[0]._getTableElement().getAscendant("table",!0),l=a.length&&a[0]._getTableElement()&&a[0]._getTableElement().getAscendant("table",!0),u=1===i.length&&i[0]._getTableElement()&&i[0]._getTableElement().is("table"),c=1===a.length&&a[0]._getTableElement()&&a[0]._getTableElement().is("table");if(e(r.getSelectedElement()))r=!1;else{var d=1===i.length&&i[0].collapsed;a=t(i,!!CKEDITOR.env.webkit)&&t(a),(s=!(!s||!l)&&(s.equals(l)||l.contains(s)))&&(d||a)?(u&&!c&&r.selectRanges(i),r=!0):r=!1}r=!r}r&&(o.reset(),o=0)}(o||(o=n||this.getSelection(1))&&o.getType()!=CKEDITOR.SELECTION_NONE)&&(this.fire("selectionCheck",o),(n=this.elementPath()).compare(this._.selectionPreviousPath)||(r=this._.selectionPreviousPath&&this._.selectionPreviousPath.blockLimit.equals(n.blockLimit),CKEDITOR.env.webkit&&!r&&(this._.previousActive=this.document.getActive()),this._.selectionPreviousPath=n,this.fire("selectionChange",{selection:o,path:n})))}function r(){f=!0,h||(i.call(this),h=CKEDITOR.tools.setTimeout(i,200,this))}function i(){h=null,f&&(CKEDITOR.tools.setTimeout(o,0,this),f=!1)}function a(e){return!(!v(e)&&(e.type!=CKEDITOR.NODE_ELEMENT||e.is(CKEDITOR.dtd.$empty)))}function s(e){function t(t,n){return!(!t||t.type==CKEDITOR.NODE_TEXT)&&e.clone()["moveToElementEdit"+(n?"End":"Start")](t)}if(!(e.root instanceof CKEDITOR.editable))return!1;var n=e.startContainer,o=e.getPreviousNode(a,null,n),r=e.getNextNode(a,null,n);return!(!t(o)&&!t(r,1)&&(o||r||n.type==CKEDITOR.NODE_ELEMENT&&n.isBlockBoundary()&&n.getBogus()))}function l(e){u(e,!1);var t=e.getDocument().createText(m);return e.setCustomData("cke-fillingChar",t),t}function u(e,t){var n=e&&e.removeCustomData("cke-fillingChar");if(n){if(!1!==t){var o=e.getDocument().getSelection().getNative(),r=o&&"None"!=o.type&&o.getRangeAt(0),i=m.length;if(n.getLength()>i&&r&&r.intersectsNode(n.$)){var a=[{node:o.anchorNode,offset:o.anchorOffset},{node:o.focusNode,offset:o.focusOffset}];o.anchorNode==n.$&&o.anchorOffset>i&&(a[0].offset-=i),o.focusNode==n.$&&o.focusOffset>i&&(a[1].offset-=i)}}n.setText(c(n.getText(),1)),a&&(o=(n=e.getDocument().$).getSelection(),(n=n.createRange()).setStart(a[0].node,a[0].offset),n.collapse(!0),o.removeAllRanges(),o.addRange(n),o.extend(a[1].node,a[1].offset))}}function c(e,t){return t?e.replace(E,function(e,t){return t?"\xa0":""}):e.replace(m,"")}var d,h,f,p="function"!=typeof window.getSelection,g=1,m=CKEDITOR.tools.repeat("\u200b",7),E=new RegExp(m+"( )?","g"),v=CKEDITOR.dom.walker.invisible(1),T=function(){function e(e){return function(t){var n=t.editor.createRange();return n.moveToClosestEditablePosition(t.selected,e)&&t.editor.getSelection().selectRanges([n]),!1}}function t(e){return function(t){var n,o=t.editor,r=o.createRange();if(!o.readOnly)return(n=r.moveToClosestEditablePosition(t.selected,e))||(n=r.moveToClosestEditablePosition(t.selected,!e)),n&&o.getSelection().selectRanges([r]),o.fire("saveSnapshot"),t.selected.remove(),n||(r.moveToElementEditablePosition(o.editable()),o.getSelection().selectRanges([r])),o.fire("saveSnapshot"),!1}}var n=e(),o=e(1);return{37:n,38:n,39:o,40:o,8:t(),46:t(1)}}();CKEDITOR.on("instanceCreated",function(e){function t(){var e=n.getSelection();e&&e.removeAllRanges()}var n=e.editor;n.on("contentDom",function(){function e(){(s=new CKEDITOR.dom.selection(n.getSelection())).lock()}function t(){g.removeListener("mouseup",t),v.removeListener("mouseup",t);var e=CKEDITOR.document.$.selection,n=e.createRange();"None"!=e.type&&n.parentElement()&&n.parentElement().ownerDocument==f.$&&n.select()}function i(e){if(CKEDITOR.env.ie){var t=(e=e.getRanges()[0])?e.startContainer.getAscendant(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&("false"==e.getAttribute("contenteditable")||"true"==e.getAttribute("contenteditable"))},!0):null;return e&&"false"==t.getAttribute("contenteditable")&&t}}var a,s,l,c,d,h,f=n.document,g=CKEDITOR.document,m=n.editable(),E=f.getBody(),v=f.getDocumentElement(),T=m.isInline();CKEDITOR.env.gecko&&m.attachListener(m,"focus",function(e){e.removeListener(),0!==a&&(e=n.getSelection().getNative())&&e.isCollapsed&&e.anchorNode==m.$&&((e=n.createRange()).moveToElementEditStart(m),e.select())},null,null,-2),m.attachListener(m,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){a&&CKEDITOR.env.webkit&&(a=n._.previousActive&&n._.previousActive.equals(f.getActive()))&&null!=n._.previousScrollTop&&n._.previousScrollTop!=m.$.scrollTop&&(m.$.scrollTop=n._.previousScrollTop),n.unlockSelection(a),a=0},null,null,-1),m.attachListener(m,"mousedown",function(){a=0}),(CKEDITOR.env.ie||T)&&(p?m.attachListener(m,"beforedeactivate",e,null,null,-1):m.attachListener(n,"selectionCheck",e,null,null,-1),m.attachListener(m,CKEDITOR.env.webkit?"DOMFocusOut":"blur",function(){n.lockSelection(s),a=1},null,null,-1),m.attachListener(m,"mousedown",function(){a=0})),CKEDITOR.env.ie&&!T&&(m.attachListener(m,"mousedown",function(e){2==e.data.$.button&&((e=n.document.getSelection())&&e.getType()!=CKEDITOR.SELECTION_NONE||(l=n.window.getScrollPosition()))}),m.attachListener(m,"mouseup",function(e){2==e.data.$.button&&l&&(n.document.$.documentElement.scrollLeft=l.x,n.document.$.documentElement.scrollTop=l.y),l=null}),"BackCompat"!=f.$.compatMode)&&((CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&v.on("mousedown",function(e){function t(e){if(e=e.data.$,d){var t=E.$.createTextRange();try{t.moveToPoint(e.clientX,e.clientY)}catch(e){}d.setEndPoint(0>h.compareEndPoints("StartToStart",t)?"EndToEnd":"StartToStart",t),d.select()}}function n(){v.removeListener("mousemove",t),g.removeListener("mouseup",n),v.removeListener("mouseup",n),d.select()}if((e=e.data).getTarget().is("html")&&e.$.y<v.$.clientHeight&&e.$.x<v.$.clientWidth){d=E.$.createTextRange();try{d.moveToPoint(e.$.clientX,e.$.clientY)}catch(e){}h=d.duplicate(),v.on("mousemove",t),g.on("mouseup",n),v.on("mouseup",n)}}),7<CKEDITOR.env.version&&11>CKEDITOR.env.version&&v.on("mousedown",function(e){e.data.getTarget().is("html")&&(g.on("mouseup",t),v.on("mouseup",t))})),m.attachListener(m,"selectionchange",o,n),m.attachListener(m,"keyup",r,n),m.attachListener(m,"keydown",function(e){var t=this.getSelection(1);i(t)&&(t.selectElement(i(t)),e.data.preventDefault())},n),m.attachListener(m,CKEDITOR.env.webkit?"DOMFocusIn":"focus",function(){n.forceNextSelectionCheck(),n.selectionChange(1)}),T&&(CKEDITOR.env.webkit||CKEDITOR.env.gecko)?(m.attachListener(m,"mousedown",function(){c=1}),m.attachListener(f.getDocumentElement(),"mouseup",function(){c&&r.call(n),c=0})):m.attachListener(CKEDITOR.env.ie?m:f.getDocumentElement(),"mouseup",r,n),CKEDITOR.env.webkit&&m.attachListener(f,"keydown",function(e){switch(e.data.getKey()){case 13:case 33:case 34:case 35:case 36:case 37:case 39:case 8:case 45:case 46:m.hasFocus&&u(m)}},null,null,-1),m.attachListener(m,"keydown",function(e){var t={37:1,39:1,8:1,46:1};return function(n){var o=n.data.getKeystroke();if(t[o]){var r=e.getSelection().getRanges(),i=r[0];1==r.length&&i.collapsed&&(o=i[38>o?"getPreviousEditableNode":"getNextEditableNode"]())&&o.type==CKEDITOR.NODE_ELEMENT&&"false"==o.getAttribute("contenteditable")&&(e.getSelection().fake(o),n.data.preventDefault(),n.cancel())}}}(n),null,null,-1)}),n.on("setData",function(){n.unlockSelection(),CKEDITOR.env.webkit&&t()}),n.on("contentDomUnload",function(){n.unlockSelection()}),CKEDITOR.env.ie9Compat&&n.on("beforeDestroy",t,null,null,9),n.on("dataReady",function(){delete n._.fakeSelection,delete n._.hiddenSelectionContainer,n.selectionChange(1)}),n.on("loadSnapshot",function(){var e=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),t=n.editable().getLast(e);t&&t.hasAttribute("data-cke-hidden-sel")&&(t.remove(),CKEDITOR.env.gecko&&(e=n.editable().getFirst(e))&&e.is("br")&&e.getAttribute("_moz_editor_bogus_node")&&e.remove())},null,null,100),n.on("key",function(e){if("wysiwyg"==n.mode){var t=n.getSelection();if(t.isFake){var o=T[e.data.keyCode];if(o)return o({editor:n,selected:t.getSelectedElement(),selection:t,keyEvent:e})}}})}),CKEDITOR.env.webkit&&CKEDITOR.on("instanceReady",function(e){var t=e.editor;t.on("selectionChange",function(){var e=t.editable(),n=e.getCustomData("cke-fillingChar");n&&(n.getCustomData("ready")?(u(e),e.editor.fire("selectionCheck")):n.setCustomData("ready",1))},null,null,-1),t.on("beforeSetMode",function(){u(t.editable())},null,null,-1),t.on("getSnapshot",function(e){e.data&&(e.data=c(e.data))},t,null,20),t.on("toDataFormat",function(e){e.data.dataValue=c(e.data.dataValue)},null,null,0)}),CKEDITOR.editor.prototype.selectionChange=function(e){(e?o:r).call(this)},CKEDITOR.editor.prototype.getSelection=function(e){return!this._.savedSelection&&!this._.fakeSelection||e?(e=this.editable())&&"wysiwyg"==this.mode?new CKEDITOR.dom.selection(e):null:this._.savedSelection||this._.fakeSelection},CKEDITOR.editor.prototype.lockSelection=function(e){return(e=e||this.getSelection(1)).getType()!=CKEDITOR.SELECTION_NONE&&(!e.isLocked&&e.lock(),this._.savedSelection=e,!0)},CKEDITOR.editor.prototype.unlockSelection=function(e){var t=this._.savedSelection;return!!t&&(t.unlock(e),delete this._.savedSelection,!0)},CKEDITOR.editor.prototype.forceNextSelectionCheck=function(){delete this._.selectionPreviousPath},CKEDITOR.dom.document.prototype.getSelection=function(){return new CKEDITOR.dom.selection(this)},CKEDITOR.dom.range.prototype.select=function(){var e=this.root instanceof CKEDITOR.editable?this.root.editor.getSelection():new CKEDITOR.dom.selection(this.root);return e.selectRanges([this]),e},CKEDITOR.SELECTION_NONE=1,CKEDITOR.SELECTION_TEXT=2,CKEDITOR.SELECTION_ELEMENT=3,CKEDITOR.dom.selection=function(e){if(e instanceof CKEDITOR.dom.selection){var t=e;e=e.root}var n,o,r=e instanceof CKEDITOR.dom.element;if(this.rev=t?t.rev:g++,this.document=e instanceof CKEDITOR.dom.document?e:e.getDocument(),this.root=r?e:this.document.getBody(),this.isLocked=0,this._={cache:{}},t)return CKEDITOR.tools.extend(this._.cache,t._.cache),this.isFake=t.isFake,this.isLocked=t.isLocked,this;if(e=this.getNative())if(e.getRangeAt)n=(o=e.rangeCount&&e.getRangeAt(0))&&new CKEDITOR.dom.node(o.commonAncestorContainer);else{try{o=e.createRange()}catch(e){}n=o&&CKEDITOR.dom.element.get(o.item&&o.item(0)||o.parentElement())}return(!n||n.type!=CKEDITOR.NODE_ELEMENT&&n.type!=CKEDITOR.NODE_TEXT||!this.root.equals(n)&&!this.root.contains(n))&&(this._.cache.type=CKEDITOR.SELECTION_NONE,this._.cache.startElement=null,this._.cache.selectedElement=null,this._.cache.selectedText="",this._.cache.ranges=new CKEDITOR.dom.rangeList),this};var C={img:1,hr:1,li:1,table:1,tr:1,td:1,th:1,embed:1,object:1,ol:1,ul:1,a:1,input:1,form:1,select:1,textarea:1,button:1,fieldset:1,thead:1,tfoot:1};CKEDITOR.tools.extend(CKEDITOR.dom.selection,{_removeFillingCharSequenceString:c,_createFillingCharSequenceNode:l,FILLING_CHAR_SEQUENCE:m}),CKEDITOR.dom.selection.prototype={getNative:function(){return void 0!==this._.cache.nativeSel?this._.cache.nativeSel:this._.cache.nativeSel=p?this.document.$.selection:this.document.getWindow().$.getSelection()},getType:p?function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_NONE;try{var n=this.getNative(),o=n.type;"Text"==o&&(t=CKEDITOR.SELECTION_TEXT),"Control"==o&&(t=CKEDITOR.SELECTION_ELEMENT),n.createRange().parentElement()&&(t=CKEDITOR.SELECTION_TEXT)}catch(e){}return e.type=t}:function(){var e=this._.cache;if(e.type)return e.type;var t=CKEDITOR.SELECTION_TEXT;if((n=this.getNative())&&n.rangeCount){if(1==n.rangeCount){var n,o=(n=n.getRangeAt(0)).startContainer;o==n.endContainer&&1==o.nodeType&&1==n.endOffset-n.startOffset&&C[o.childNodes[n.startOffset].nodeName.toLowerCase()]&&(t=CKEDITOR.SELECTION_ELEMENT)}}else t=CKEDITOR.SELECTION_NONE;return e.type=t},getRanges:function(){var e=p?function(){function e(e){return new CKEDITOR.dom.node(e).getIndex()}var t=function(t,n){(t=t.duplicate()).collapse(n);var o=t.parentElement();if(!o.hasChildNodes())return{container:o,offset:0};for(var r,i,a,s,l=o.children,u=t.duplicate(),c=0,d=l.length-1,h=-1;c<=d;)if(h=Math.floor((c+d)/2),u.moveToElementText(r=l[h]),0<(a=u.compareEndPoints("StartToStart",t)))d=h-1;else{if(!(0>a))return{container:o,offset:e(r)};c=h+1}if(-1==h||h==l.length-1&&0>a){if(u.moveToElementText(o),u.setEndPoint("StartToStart",t),u=u.text.replace(/(\r\n|\r)/g,"\n").length,l=o.childNodes,!u)return(r=l[l.length-1]).nodeType!=CKEDITOR.NODE_TEXT?{container:o,offset:l.length}:{container:r,offset:r.nodeValue.length};for(o=l.length;0<u&&0<o;)(i=l[--o]).nodeType==CKEDITOR.NODE_TEXT&&(s=i,u-=i.nodeValue.length);return{container:s,offset:-u}}if(u.collapse(0<a),u.setEndPoint(0<a?"StartToStart":"EndToStart",t),!(u=u.text.replace(/(\r\n|\r)/g,"\n").length))return{container:o,offset:e(r)+(0<a?0:1)};for(;0<u;)try{(i=r[0<a?"previousSibling":"nextSibling"]).nodeType==CKEDITOR.NODE_TEXT&&(u-=i.nodeValue.length,s=i),r=i}catch(t){return{container:o,offset:e(r)}}return{container:s,offset:0<a?-u:s.nodeValue.length+u}};return function(){var e=(s=this.getNative())&&s.createRange(),n=this.getType();if(!s)return[];if(n==CKEDITOR.SELECTION_TEXT)return s=new CKEDITOR.dom.range(this.root),n=t(e,!0),s.setStart(new CKEDITOR.dom.node(n.container),n.offset),n=t(e),s.setEnd(new CKEDITOR.dom.node(n.container),n.offset),s.endContainer.getPosition(s.startContainer)&CKEDITOR.POSITION_PRECEDING&&s.endOffset<=s.startContainer.getIndex()&&s.collapse(),[s];if(n==CKEDITOR.SELECTION_ELEMENT){n=[];for(var o=0;o<e.length;o++){for(var r=e.item(o),i=r.parentNode,a=0,s=new CKEDITOR.dom.range(this.root);a<i.childNodes.length&&i.childNodes[a]!=r;a++);s.setStart(new CKEDITOR.dom.node(i),a),s.setEnd(new CKEDITOR.dom.node(i),a+1),n.push(s)}return n}return[]}}():function(){var e,t=[],n=this.getNative();if(!n)return t;for(var o=0;o<n.rangeCount;o++){var r=n.getRangeAt(o);(e=new CKEDITOR.dom.range(this.root)).setStart(new CKEDITOR.dom.node(r.startContainer),r.startOffset),e.setEnd(new CKEDITOR.dom.node(r.endContainer),r.endOffset),t.push(e)}return t};return function(t){var n=this._.cache,o=n.ranges;return o||(n.ranges=o=new CKEDITOR.dom.rangeList(e.call(this))),t?function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.getCommonAncestor().isReadOnly()&&e.splice(t,1),!n.collapsed){if(n.startContainer.isReadOnly())for(var o,r=n.startContainer;r&&!((o=r.type==CKEDITOR.NODE_ELEMENT)&&r.is("body")||!r.isReadOnly());)o&&"false"==r.getAttribute("contentEditable")&&n.setStartAfter(r),r=r.getParent();r=n.startContainer,o=n.endContainer;var i=n.startOffset,a=n.endOffset,s=n.clone();r&&r.type==CKEDITOR.NODE_TEXT&&(i>=r.getLength()?s.setStartAfter(r):s.setStartBefore(r)),o&&o.type==CKEDITOR.NODE_TEXT&&(a?s.setEndAfter(o):s.setEndBefore(o)),(r=new CKEDITOR.dom.walker(s)).evaluator=function(o){if(o.type==CKEDITOR.NODE_ELEMENT&&o.isReadOnly()){var r=n.clone();return n.setEndBefore(o),n.collapsed&&e.splice(t--,1),o.getPosition(s.endContainer)&CKEDITOR.POSITION_CONTAINS||(r.setStartAfter(o),r.collapsed||e.splice(t+1,0,r)),!0}return!1},r.next()}}return e}(new CKEDITOR.dom.rangeList(o.slice())):o}}(),getStartElement:function(){var e,t=this._.cache;if(void 0!==t.startElement)return t.startElement;switch(this.getType()){case CKEDITOR.SELECTION_ELEMENT:return this.getSelectedElement();case CKEDITOR.SELECTION_TEXT:var n=this.getRanges()[0];if(n){if(n.collapsed)(e=n.startContainer).type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent());else{for(n.optimize();n.startOffset==((e=n.startContainer).getChildCount?e.getChildCount():e.getLength())&&!e.isBlockBoundary();)n.setStartAfter(e);if((e=n.startContainer).type!=CKEDITOR.NODE_ELEMENT)return e.getParent();if((e=e.getChild(n.startOffset))&&e.type==CKEDITOR.NODE_ELEMENT)for(n=e.getFirst();n&&n.type==CKEDITOR.NODE_ELEMENT;)e=n,n=n.getFirst();else e=n.startContainer}e=e.$}}return t.startElement=e?new CKEDITOR.dom.element(e):null},getSelectedElement:function(){var e=this._.cache;if(void 0!==e.selectedElement)return e.selectedElement;var t=this,n=CKEDITOR.tools.tryThese(function(){return t.getNative().createRange().item(0)},function(){for(var e,n,o=t.getRanges()[0].clone(),r=2;r&&!((e=o.getEnclosedNode())&&e.type==CKEDITOR.NODE_ELEMENT&&C[e.getName()]&&(n=e));r--)o.shrink(CKEDITOR.SHRINK_ELEMENT);return n&&n.$});return e.selectedElement=n?new CKEDITOR.dom.element(n):null},getSelectedText:function(){var e=this._.cache;if(void 0!==e.selectedText)return e.selectedText;var t=this.getNative();return t=p?"Control"==t.type?"":t.createRange().text:t.toString(),e.selectedText=t},lock:function(){this.getRanges(),this.getStartElement(),this.getSelectedElement(),this.getSelectedText(),this._.cache.nativeSel=null,this.isLocked=1},unlock:function(e){if(this.isLocked){if(e)var o=this.getSelectedElement(),r=this.getRanges(),i=this.isFake;this.isLocked=0,this.reset(),e&&(e=o||r[0]&&r[0].getCommonAncestor())&&e.getAscendant("body",1)&&(t(r)?n.call(this,r):i?this.fake(o):o?this.selectElement(o):this.selectRanges(r))}},reset:function(){this._.cache={},this.isFake=0;var e=this.root.editor;if(e&&e._.fakeSelection)if(this.rev==e._.fakeSelection.rev){delete e._.fakeSelection;var t=e._.hiddenSelectionContainer;if(t){var n=e.checkDirty();e.fire("lockSnapshot"),t.remove(),e.fire("unlockSnapshot"),!n&&e.resetDirty()}delete e._.hiddenSelectionContainer}else CKEDITOR.warn("selection-fake-reset");this.rev=g++},selectElement:function(e){var t=new CKEDITOR.dom.range(this.root);t.setStartBefore(e),t.setEndAfter(e),this.selectRanges([t])},selectRanges:function(e){var o=this.root.editor,r=o&&o._.hiddenSelectionContainer;if(this.reset(),r){r=this.root;for(var i,a=0;a<e.length;++a)(i=e[a]).endContainer.equals(r)&&(i.endOffset=Math.min(i.endOffset,r.getChildCount()))}if(e.length)if(this.isLocked){var c=CKEDITOR.document.getActive();this.unlock(),this.selectRanges(e),this.lock(),c&&!c.equals(this.root)&&c.focus()}else{var h,f,g;if(1==e.length&&!(g=e[0]).collapsed&&(h=g.getEnclosedNode())&&h.type==CKEDITOR.NODE_ELEMENT&&((g=g.clone()).shrink(CKEDITOR.SHRINK_ELEMENT,!0),(f=g.getEnclosedNode())&&f.type==CKEDITOR.NODE_ELEMENT&&(h=f),"false"==h.getAttribute("contenteditable"))||(h=void 0),h)this.fake(h);else if(o&&o.plugins.tableselection&&CKEDITOR.plugins.tableselection.isSupportedEnvironment&&t(e)&&!d)n.call(this,e);else{if(p){var m,E,v;if(f=CKEDITOR.dom.walker.whitespaces(!0),h=/\ufeff|\u00a0/,g={table:1,tbody:1,tr:1},1<e.length&&e[0].setEnd((o=e[e.length-1]).endContainer,o.endOffset),e=(o=e[0]).collapsed,(r=o.getEnclosedNode())&&r.type==CKEDITOR.NODE_ELEMENT&&r.getName()in C&&(!r.is("a")||!r.getText()))try{return(v=r.$.createControlRange()).addElement(r.$),void v.select()}catch(e){}(o.startContainer.type==CKEDITOR.NODE_ELEMENT&&o.startContainer.getName()in g||o.endContainer.type==CKEDITOR.NODE_ELEMENT&&o.endContainer.getName()in g)&&(o.shrink(CKEDITOR.NODE_ELEMENT,!0),e=o.collapsed),g=(v=o.createBookmark()).startNode,e||(c=v.endNode),(v=o.document.$.body.createTextRange()).moveToElementText(g.$),v.moveStart("character",1),c?((h=o.document.$.body.createTextRange()).moveToElementText(c.$),v.setEndPoint("EndToEnd",h),v.moveEnd("character",-1)):(m=g.getNext(f),E=g.hasAscendant("pre"),m=!(m&&m.getText&&m.getText().match(h))&&(E||!g.hasPrevious()||g.getPrevious().is&&g.getPrevious().is("br")),(E=o.document.createElement("span")).setHtml("&#65279;"),E.insertBefore(g),m&&o.document.createText("\ufeff").insertBefore(g)),o.setStartBefore(g),g.remove(),e?(m?(v.moveStart("character",-1),v.select(),o.document.$.selection.clear()):v.select(),o.moveToPosition(E,CKEDITOR.POSITION_BEFORE_START),E.remove()):(o.setEndBefore(c),c.remove(),v.select())}else{if(!(c=this.getNative()))return;for(this.removeAllRanges(),v=0;v<e.length;v++)if(v<e.length-1&&(E=e[v+1],(h=(m=e[v]).clone()).setStart(m.endContainer,m.endOffset),h.setEnd(E.startContainer,E.startOffset),!h.collapsed&&(h.shrink(CKEDITOR.NODE_ELEMENT,!0),o=h.getCommonAncestor(),h=h.getEnclosedNode(),o.isReadOnly()||h&&h.isReadOnly())))E.setStart(m.startContainer,m.startOffset),e.splice(v--,1);else{o=e[v],E=this.document.$.createRange(),o.collapsed&&CKEDITOR.env.webkit&&s(o)&&(h=l(this.root),o.insertNode(h),(m=h.getNext())&&!h.getPrevious()&&m.type==CKEDITOR.NODE_ELEMENT&&"br"==m.getName()?(u(this.root),o.moveToPosition(m,CKEDITOR.POSITION_BEFORE_START)):o.moveToPosition(h,CKEDITOR.POSITION_AFTER_END)),E.setStart(o.startContainer.$,o.startOffset);try{E.setEnd(o.endContainer.$,o.endOffset)}catch(e){if(!(0<=e.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))throw e;o.collapse(1),E.setEnd(o.endContainer.$,o.endOffset)}c.addRange(E)}}this.reset(),this.root.fire("selectionchange")}}},fake:function(e,t){var n=this.root.editor;void 0===t&&e.hasAttribute("aria-label")&&(t=e.getAttribute("aria-label")),this.reset(),function(e,t){var n=t&&CKEDITOR.tools.htmlEncode(t)||"&nbsp;";n=CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="'+(CKEDITOR.env.ie&&14>CKEDITOR.env.version?"display:none":"position:fixed;top:0;left:-1000px")+'">'+n+"</div>",e.document),e.fire("lockSnapshot"),e.editable().append(n);var o=e.getSelection(1),r=e.createRange(),i=o.root.on("selectionchange",function(e){e.cancel()},null,null,0);r.setStartAt(n,CKEDITOR.POSITION_AFTER_START),r.setEndAt(n,CKEDITOR.POSITION_BEFORE_END),o.selectRanges([r]),i.removeListener(),e.fire("unlockSnapshot"),e._.hiddenSelectionContainer=n}(n,t);var o=this._.cache,r=new CKEDITOR.dom.range(this.root);r.setStartBefore(e),r.setEndAfter(e),o.ranges=new CKEDITOR.dom.rangeList(r),o.selectedElement=o.startElement=e,o.type=CKEDITOR.SELECTION_ELEMENT,o.selectedText=o.nativeSel=null,this.isFake=1,this.rev=g++,n._.fakeSelection=this,this.root.fire("selectionchange")},isHidden:function(){var e=this.getCommonAncestor();return e&&e.type==CKEDITOR.NODE_TEXT&&(e=e.getParent()),!(!e||!e.data("cke-hidden-sel"))},isInTable:function(e){return t(this.getRanges(),e)},isCollapsed:function(){var e=this.getRanges();return 1===e.length&&e[0].collapsed},createBookmarks:function(e){return e=this.getRanges().createBookmarks(e),this.isFake&&(e.isFake=1),e},createBookmarks2:function(e){return e=this.getRanges().createBookmarks2(e),this.isFake&&(e.isFake=1),e},selectBookmarks:function(e){for(var n,o=[],r=0;r<e.length;r++){var i=new CKEDITOR.dom.range(this.root);i.moveToBookmark(e[r]),o.push(i)}return e.isFake&&((n=t(o)?o[0]._getTableElement():o[0].getEnclosedNode())&&n.type==CKEDITOR.NODE_ELEMENT||(CKEDITOR.warn("selection-not-fake"),e.isFake=0)),e.isFake&&!t(o)?this.fake(n):this.selectRanges(o),this},getCommonAncestor:function(){var e=this.getRanges();return e.length?e[0].startContainer.getCommonAncestor(e[e.length-1].endContainer):null},scrollIntoView:function(){this.type!=CKEDITOR.SELECTION_NONE&&this.getRanges()[0].scrollIntoView()},removeAllRanges:function(){if(this.getType()!=CKEDITOR.SELECTION_NONE){var e=this.getNative();try{e&&e[p?"empty":"removeAllRanges"]()}catch(e){}this.reset()}}}}(),CKEDITOR.STYLE_BLOCK=1,CKEDITOR.STYLE_INLINE=2,CKEDITOR.STYLE_OBJECT=3,function(){function e(e,t){for(var n,o;(e=e.getParent())&&!e.equals(t);)if(e.getAttribute("data-nostyle"))n=e;else if(!o){var r=e.getAttribute("contentEditable");"false"==r?n=e:"true"==r&&(o=1)}return n}function t(e,t,n,o){return(e.getPosition(t)|o)==o&&(!n.childRule||n.childRule(e))}function n(o){var i=o.document;if(o.collapsed)i=g(this,i),o.insertNode(i),o.moveToPosition(i,CKEDITOR.POSITION_BEFORE_END);else{var a,s=this.element,l=this._.definition,u=(v=l.ignoreReadonly)||l.includeReadonly;null==u&&(u=o.root.getCustomData("cke_includeReadonly"));var c=CKEDITOR.dtd[s];c||(a=!0,c=CKEDITOR.dtd.span),o.enlarge(CKEDITOR.ENLARGE_INLINE,1),o.trim();var d,f=o.createBookmark(),p=f.startNode,m=f.endNode,E=p;if(!v){var v=e(p,T=o.getCommonAncestor()),T=e(m,T);v&&(E=v.getNextSourceNode(!0)),T&&(m=T)}for(E.getPosition(m)==CKEDITOR.POSITION_FOLLOWING&&(E=0);E;){if(v=!1,E.equals(m))E=null,v=!0;else{T=(R=E.type==CKEDITOR.NODE_ELEMENT?E.getName():null)&&"false"==E.getAttribute("contentEditable");var C=R&&E.getAttribute("data-nostyle");if(R&&E.data("cke-bookmark")){E=E.getNextSourceNode(!0);continue}if(T&&u&&CKEDITOR.dtd.$block[R])for(var y=void 0,b=0,I=(A=(x=r(I=E)).length)&&new CKEDITOR.dom.range(I.getDocument());b<A;++b){y=x[b];var O=CKEDITOR.filter.instances[y.data("cke-filter")];O&&!O.check(this)||(I.selectNodeContents(y),n.call(this,I))}if(x=R?!c[R]||C?0:T&&!u?0:t(E,m,l,w):1){if(x=l,A=s,b=a,!(y=E.getParent())||!(y.getDtd()||CKEDITOR.dtd.span)[A]&&!b||x.parentRule&&!x.parentRule(y))v=!0;else if(d||R&&CKEDITOR.dtd.$removeEmpty[R]&&(E.getPosition(m)|w)!=w||(d=o.clone()).setStartBefore(E),(R=E.type)==CKEDITOR.NODE_TEXT||T||R==CKEDITOR.NODE_ELEMENT&&!E.getChildCount()){for(var D,R=E;(v=!R.getNext(_))&&c[(D=R.getParent()).getName()]&&t(D,p,l,k);)R=D;d.setEndAfter(R)}}else v=!0;E=E.getNextSourceNode(C||T)}if(v&&d&&!d.collapsed){T=(v=g(this,i)).hasAttributes(),C=d.getCommonAncestor(),R={};for(var K,S,N,x={},A=(y={},{});v&&C;){if(C.getName()==s){for(K in l.attributes)!A[K]&&(N=C.getAttribute(S))&&(v.getAttribute(K)==N?x[K]=1:A[K]=1);for(S in l.styles)!y[S]&&(N=C.getStyle(S))&&(v.getStyle(S)==N?R[S]=1:y[S]=1)}C=C.getParent()}for(K in x)v.removeAttribute(K);for(S in R)v.removeStyle(S);T&&!v.hasAttributes()&&(v=null),v?(d.extractContents().appendTo(v),d.insertNode(v),h.call(this,v),v.mergeSiblings(),CKEDITOR.env.ie||v.$.normalize()):(v=new CKEDITOR.dom.element("span"),d.extractContents().appendTo(v),d.insertNode(v),h.call(this,v),v.remove(!0)),d=null}}o.moveToBookmark(f),o.shrink(CKEDITOR.SHRINK_TEXT),o.shrink(CKEDITOR.NODE_ELEMENT,!0)}}function o(e){function t(){for(var e=new CKEDITOR.dom.elementPath(o.getParent()),t=new CKEDITOR.dom.elementPath(c.getParent()),n=null,r=null,i=0;i<e.elements.length;i++){var a=e.elements[i];if(a==e.block||a==e.blockLimit)break;h.checkElementRemovable(a,!0)&&(n=a)}for(i=0;i<t.elements.length&&(a=t.elements[i])!=t.block&&a!=t.blockLimit;i++)h.checkElementRemovable(a,!0)&&(r=a);r&&c.breakParent(r),n&&o.breakParent(n)}e.enlarge(CKEDITOR.ENLARGE_INLINE,1);var n=e.createBookmark(),o=n.startNode,r=this._.definition.alwaysRemoveElement;if(e.collapsed){for(var i,a,s=new CKEDITOR.dom.elementPath(o.getParent(),e.root),l=0;l<s.elements.length&&(a=s.elements[l])&&a!=s.block&&a!=s.blockLimit;l++)if(this.checkElementRemovable(a)){var u;!r&&e.collapsed&&(e.checkBoundaryOfElement(a,CKEDITOR.END)||(u=e.checkBoundaryOfElement(a,CKEDITOR.START)))?(i=a).match=u?"start":"end":(a.mergeSiblings(),a.is(this.element)?d.call(this,a):f(a,v(this)[a.getName()]))}if(i){for(r=o,l=0;!(a=s.elements[l]).equals(i);l++)a.match||((a=a.clone()).append(r),r=a);r["start"==i.match?"insertBefore":"insertAfter"](i)}}else{var c=n.endNode,h=this;for(t(),s=o;!s.equals(c);)i=s.getNextSourceNode(),s.type==CKEDITOR.NODE_ELEMENT&&this.checkElementRemovable(s)&&(s.getName()==this.element?d.call(this,s):f(s,v(this)[s.getName()]),i.type==CKEDITOR.NODE_ELEMENT&&i.contains(o)&&(t(),i=o.getNext())),s=i}e.moveToBookmark(n),e.shrink(CKEDITOR.NODE_ELEMENT,!0)}function r(e){var t=[];return e.forEach(function(e){if("true"==e.getAttribute("contenteditable"))return t.push(e),!1},CKEDITOR.NODE_ELEMENT,!0),t}function i(e){var t=e.getEnclosedNode()||e.getCommonAncestor(!1,!0);(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1))&&!e.isReadOnly()&&m(e,this)}function a(e){var t=e.getCommonAncestor(!0,!0);if(e=new CKEDITOR.dom.elementPath(t,e.root).contains(this.element,1)){var n=(t=this._.definition).attributes;if(n)for(var o in n)e.removeAttribute(o,n[o]);if(t.styles)for(var r in t.styles)t.styles.hasOwnProperty(r)&&e.removeStyle(r)}}function s(e){var t=e.createBookmark(!0),n=e.createIterator();n.enforceRealBlocks=!0,this._.enterMode&&(n.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR);for(var o,r=e.document;o=n.getNextParagraph();)!o.isReadOnly()&&(!n.activeFilter||n.activeFilter.check(this))&&u(o,g(this,r,o));e.moveToBookmark(t)}function l(e){var t,n,o=e.createBookmark(1),r=e.createIterator();for(r.enforceRealBlocks=!0,r.enlargeBr=this._.enterMode!=CKEDITOR.ENTER_BR;t=r.getNextParagraph();)this.checkElementRemovable(t)&&(t.is("pre")?((n=this._.enterMode==CKEDITOR.ENTER_BR?null:e.document.createElement(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))&&t.copyAttributes(n),u(t,n)):d.call(this,t));e.moveToBookmark(o)}function u(e,t){(n=!t)&&(t=e.getDocument().createElement("div"),e.copyAttributes(t));var n,o,r=t&&t.is("pre"),i=e.is("pre"),a=!r&&i;if(r&&!i){if(i=t,(a=e.getBogus())&&a.remove(),a=(a=(a=(a=c(a=e.getHtml(),/(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g,"")).replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi,"$1")).replace(/([ \t\n\r]+|&nbsp;)/g," ")).replace(/<br\b[^>]*>/gi,"\n"),CKEDITOR.env.ie){var s=e.getDocument().createElement("div");s.append(i),i.$.outerHTML="<pre>"+a+"</pre>",i.copyAttributes(s.getFirst()),i=s.getFirst().remove()}else i.setHtml(a);t=i}else a?t=function(e,t){var n;1<e.length&&(n=new CKEDITOR.dom.documentFragment(t.getDocument()));for(var o=0;o<e.length;o++){var r=(r=(r=c(r=c(r=c(r=(r=e[o]).replace(/(\r\n|\r)/g,"\n"),/^[ \t]*\n/,""),/\n$/,""),/^[ \t]+|[ \t]+$/g,function(e,t){return 1==e.length?"&nbsp;":t?" "+CKEDITOR.tools.repeat("&nbsp;",e.length-1):CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "})).replace(/\n/g,"<br>")).replace(/[ \t]{2,}/g,function(e){return CKEDITOR.tools.repeat("&nbsp;",e.length-1)+" "});if(n){var i=t.clone();i.setHtml(r),n.append(i)}else t.setHtml(r)}return n||t}(n?[e.getHtml()]:function(e){var t=[];return c(e.getOuterHtml(),/(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi,function(e,t,n){return t+"</pre>"+n+"<pre>"}).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi,function(e,n){t.push(n)}),t}(e),t):e.moveChildren(t);t.replace(e),r?(o=(n=t).getPrevious(R))&&o.type==CKEDITOR.NODE_ELEMENT&&o.is("pre")&&(r=c(o.getHtml(),/\n$/,"")+"\n\n"+c(n.getHtml(),/^\n/,""),CKEDITOR.env.ie?n.$.outerHTML="<pre>"+r+"</pre>":n.setHtml(r),o.remove()):n&&p(t)}function c(e,t,n){var o="",r="";return e=e.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi,function(e,t,n){return t&&(o=t),n&&(r=n),""}),o+e.replace(t,n)+r}function d(e,t){var n,o=(r=this._.definition).attributes,r=r.styles,i=v(this)[e.getName()],a=CKEDITOR.tools.isEmpty(o)&&CKEDITOR.tools.isEmpty(r);for(n in o)("class"!=n&&!this._.definition.fullMatch||e.getAttribute(n)==T(n,o[n]))&&(t&&"data-"==n.slice(0,5)||(a=e.hasAttribute(n),e.removeAttribute(n)));for(var s in r)this._.definition.fullMatch&&e.getStyle(s)!=T(s,r[s],!0)||(a=a||!!e.getStyle(s),e.removeStyle(s));f(e,i,b[e.getName()]),a&&(this._.definition.alwaysRemoveElement?p(e,1):!CKEDITOR.dtd.$block[e.getName()]||this._.enterMode==CKEDITOR.ENTER_BR&&!e.hasAttributes()?p(e):e.renameNode(this._.enterMode==CKEDITOR.ENTER_P?"p":"div"))}function h(e){for(var t,n=v(this),o=e.getElementsByTag(this.element),r=o.count();0<=--r;)(t=o.getItem(r)).isReadOnly()||d.call(this,t,!0);for(var i in n)if(i!=this.element)for(r=(o=e.getElementsByTag(i)).count()-1;0<=r;r--)(t=o.getItem(r)).isReadOnly()||f(t,n[i])}function f(e,t,n){if(t=t&&t.attributes)for(var o=0;o<t.length;o++){var r,i=t[o][0];if(r=e.getAttribute(i)){var a=t[o][1];(null===a||a.test&&a.test(r)||"string"==typeof a&&r==a)&&e.removeAttribute(i)}}n||p(e)}function p(e,t){if(!e.hasAttributes()||t)if(CKEDITOR.dtd.$block[e.getName()]){var n=e.getPrevious(R),o=e.getNext(R);!n||n.type!=CKEDITOR.NODE_TEXT&&n.isBlockBoundary({br:1})||e.append("br",1),!o||o.type!=CKEDITOR.NODE_TEXT&&o.isBlockBoundary({br:1})||e.append("br"),e.remove(!0)}else n=e.getFirst(),o=e.getLast(),e.remove(!0),n&&(n.type==CKEDITOR.NODE_ELEMENT&&n.mergeSiblings(),o&&!n.equals(o)&&o.type==CKEDITOR.NODE_ELEMENT&&o.mergeSiblings())}function g(e,t,n){var o;return"*"==(o=e.element)&&(o="span"),o=new CKEDITOR.dom.element(o,t),n&&n.copyAttributes(o),o=m(o,e),t.getCustomData("doc_processing_style")&&o.hasAttribute("id")?o.removeAttribute("id"):t.setCustomData("doc_processing_style",1),o}function m(e,t){var n=(o=t._.definition).attributes,o=CKEDITOR.style.getStyleText(o);if(n)for(var r in n)e.setAttribute(r,n[r]);return o&&e.setAttribute("style",o),e}function E(e,t){for(var n in e)e[n]=e[n].replace(D,function(e,n){return t[n]})}function v(e){if(e._.overrides)return e._.overrides;var t=e._.overrides={},n=e._.definition.overrides;if(n){CKEDITOR.tools.isArray(n)||(n=[n]);for(var o=0;o<n.length;o++){var r,i;if("string"==typeof(s=n[o])?r=s.toLowerCase():(r=s.element?s.element.toLowerCase():e.element,i=s.attributes),s=t[r]||(t[r]={}),i){var a,s=s.attributes=s.attributes||[];for(a in i)s.push([a.toLowerCase(),i[a]])}}}return t}function T(e,t,n){var o=new CKEDITOR.dom.element("span");return o[n?"setStyle":"setAttribute"](e,t),o[n?"getStyle":"getAttribute"](e)}function C(e,t){function n(e,t){return"font-family"==t.toLowerCase()?e.replace(/["']/g,""):e}for(var o in"string"==typeof e&&(e=CKEDITOR.tools.parseCssText(e)),"string"==typeof t&&(t=CKEDITOR.tools.parseCssText(t,!0)),e)if(!(o in t)||n(t[o],o)!=n(e[o],o)&&"inherit"!=e[o]&&"inherit"!=t[o])return!1;return!0}function y(e,t,n){var o,r,i=e.document,a=e.getRanges();if(t=t?this.removeFromRange:this.applyToRange,e.isFake&&e.isInTable())for(o=[],r=0;r<a.length;r++)o.push(a[r].clone());for(var s=a.createIterator();r=s.getNextRange();)t.call(this,r,n);e.selectRanges(o||a),i.removeCustomData("doc_processing_style")}var b={address:1,div:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,p:1,pre:1,section:1,header:1,footer:1,nav:1,article:1,aside:1,figure:1,dialog:1,hgroup:1,time:1,meter:1,menu:1,command:1,keygen:1,output:1,progress:1,details:1,datagrid:1,datalist:1},I={a:1,blockquote:1,embed:1,hr:1,img:1,li:1,object:1,ol:1,table:1,td:1,tr:1,th:1,ul:1,dl:1,dt:1,dd:1,form:1,audio:1,video:1},O=/\s*(?:;\s*|$)/,D=/#\((.+?)\)/g,_=CKEDITOR.dom.walker.bookmark(0,1),R=CKEDITOR.dom.walker.whitespaces(1);CKEDITOR.style=function(e,t){if("string"==typeof e.type)return new CKEDITOR.style.customHandlers[e.type](e);var n=e.attributes;n&&n.style&&(e.styles=CKEDITOR.tools.extend({},e.styles,CKEDITOR.tools.parseCssText(n.style)),delete n.style),t&&(E((e=CKEDITOR.tools.clone(e)).attributes,t),E(e.styles,t)),n=this.element=e.element?"string"==typeof e.element?e.element.toLowerCase():e.element:"*",this.type=e.type||(b[n]?CKEDITOR.STYLE_BLOCK:I[n]?CKEDITOR.STYLE_OBJECT:CKEDITOR.STYLE_INLINE),"object"==typeof this.element&&(this.type=CKEDITOR.STYLE_OBJECT),this._={definition:e}},CKEDITOR.style.prototype={apply:function(e){if(e instanceof CKEDITOR.dom.document)return y.call(this,e.getSelection());if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),y.call(this,e.getSelection(),0,e),this._.enterMode=t}},remove:function(e){if(e instanceof CKEDITOR.dom.document)return y.call(this,e.getSelection(),1);if(this.checkApplicable(e.elementPath(),e)){var t=this._.enterMode;t||(this._.enterMode=e.activeEnterMode),y.call(this,e.getSelection(),1,e),this._.enterMode=t}},applyToRange:function(e){return this.applyToRange=this.type==CKEDITOR.STYLE_INLINE?n:this.type==CKEDITOR.STYLE_BLOCK?s:this.type==CKEDITOR.STYLE_OBJECT?i:null,this.applyToRange(e)},removeFromRange:function(e){return this.removeFromRange=this.type==CKEDITOR.STYLE_INLINE?o:this.type==CKEDITOR.STYLE_BLOCK?l:this.type==CKEDITOR.STYLE_OBJECT?a:null,this.removeFromRange(e)},applyToObject:function(e){m(e,this)},checkActive:function(e,t){switch(this.type){case CKEDITOR.STYLE_BLOCK:return this.checkElementRemovable(e.block||e.blockLimit,!0,t);case CKEDITOR.STYLE_OBJECT:case CKEDITOR.STYLE_INLINE:for(var n,o=e.elements,r=0;r<o.length;r++)if(n=o[r],this.type!=CKEDITOR.STYLE_INLINE||n!=e.block&&n!=e.blockLimit){if(this.type==CKEDITOR.STYLE_OBJECT){var i=n.getName();if(!("string"==typeof this.element?i==this.element:i in this.element))continue}if(this.checkElementRemovable(n,!0,t))return!0}}return!1},checkApplicable:function(e,t,n){if(t&&t instanceof CKEDITOR.filter&&(n=t),n&&!n.check(this))return!1;switch(this.type){case CKEDITOR.STYLE_OBJECT:return!!e.contains(this.element);case CKEDITOR.STYLE_BLOCK:return!!e.blockLimit.getDtd()[this.element]}return!0},checkElementMatch:function(e,t){var n=this._.definition;if(!e||!n.ignoreReadonly&&e.isReadOnly())return!1;var o=e.getName();if("string"==typeof this.element?o==this.element:o in this.element){if(!t&&!e.hasAttributes())return!0;if(o=n._AC)n=o;else{o={};var r=0,i=n.attributes;if(i)for(var a in i)r++,o[a]=i[a];(a=CKEDITOR.style.getStyleText(n))&&(o.style||r++,o.style=a),o._length=r,n=n._AC=o}if(!n._length)return!0;for(var s in n)if("_length"!=s)if(o=e.getAttribute(s)||"","style"==s?C(n[s],o):n[s]==o){if(!t)return!0}else if(t)return!1;if(t)return!0}return!1},checkElementRemovable:function(e,t,n){if(this.checkElementMatch(e,t,n))return!0;if(t=v(this)[e.getName()]){var o;if(!(t=t.attributes))return!0;for(n=0;n<t.length;n++)if(o=e.getAttribute(o=t[n][0])){var r=t[n][1];if(null===r)return!0;if("string"==typeof r){if(o==r)return!0}else if(r.test(o))return!0}}return!1},buildPreview:function(e){var t=this._.definition,n=[],o=t.element;"bdo"==o&&(o="span"),n=["<",o];var r=t.attributes;if(r)for(var i in r)n.push(" ",i,'="',r[i],'"');return(r=CKEDITOR.style.getStyleText(t))&&n.push(' style="',r,'"'),n.push(">",e||t.name,"</",o,">"),n.join("")},getDefinition:function(){return this._.definition}},CKEDITOR.style.getStyleText=function(e){if(t=e._ST)return t;var t=e.styles,n=e.attributes&&e.attributes.style||"",o="";for(var r in n.length&&(n=n.replace(O,";")),t){var i=t[r],a=(r+":"+i).replace(O,";");"inherit"==i?o+=a:n+=a}return n.length&&(n=CKEDITOR.tools.normalizeCssText(n,!0)),e._ST=n+o},CKEDITOR.style.customHandlers={},CKEDITOR.style.addCustomHandler=function(e){var t=function(e){this._={definition:e},this.setup&&this.setup(e)};return t.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype),{assignedTo:CKEDITOR.STYLE_OBJECT},e,!0),this.customHandlers[e.type]=t};var w=CKEDITOR.POSITION_PRECEDING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED,k=CKEDITOR.POSITION_FOLLOWING|CKEDITOR.POSITION_IDENTICAL|CKEDITOR.POSITION_IS_CONTAINED}(),CKEDITOR.styleCommand=function(e,t){this.requiredContent=this.allowedContent=this.style=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.styleCommand.prototype.exec=function(e){e.focus(),this.state==CKEDITOR.TRISTATE_OFF?e.applyStyle(this.style):this.state==CKEDITOR.TRISTATE_ON&&e.removeStyle(this.style)},CKEDITOR.stylesSet=new CKEDITOR.resourceManager("","stylesSet"),CKEDITOR.addStylesSet=CKEDITOR.tools.bind(CKEDITOR.stylesSet.add,CKEDITOR.stylesSet),CKEDITOR.loadStylesSet=function(e,t,n){CKEDITOR.stylesSet.addExternal(e,t,""),CKEDITOR.stylesSet.load(e,n)},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{attachStyleStateChange:function(e,t){var n=this._.styleStateChangeCallbacks;n||(n=this._.styleStateChangeCallbacks=[],this.on("selectionChange",function(e){for(var t=0;t<n.length;t++){var o=n[t],r=o.style.checkActive(e.data.path,this)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF;o.fn.call(this,r)}})),n.push({style:e,fn:t})},applyStyle:function(e){e.apply(this)},removeStyle:function(e){e.remove(this)},getStylesSet:function(e){if(this._.stylesDefinitions)e(this._.stylesDefinitions);else{var t=this;if(!1===(n=t.config.stylesCombo_stylesSet||t.config.stylesSet))e(null);else if(n instanceof Array)t._.stylesDefinitions=n,e(n);else{n||(n="default");var n,o=(n=n.split(":"))[0];CKEDITOR.stylesSet.addExternal(o,n[1]?n.slice(1).join(":"):CKEDITOR.getUrl("styles.js"),""),CKEDITOR.stylesSet.load(o,function(n){t._.stylesDefinitions=n[o],e(t._.stylesDefinitions)})}}}}),CKEDITOR.dom.comment=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createComment(e)),CKEDITOR.dom.domObject.call(this,e)},CKEDITOR.dom.comment.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype,{type:CKEDITOR.NODE_COMMENT,getOuterHtml:function(){return"\x3c!--"+this.$.nodeValue+"--\x3e"}}),function(){var e,t={},n={};for(e in CKEDITOR.dtd.$blockLimit)e in CKEDITOR.dtd.$list||(t[e]=1);for(e in CKEDITOR.dtd.$block)e in CKEDITOR.dtd.$blockLimit||e in CKEDITOR.dtd.$empty||(n[e]=1);CKEDITOR.dom.elementPath=function(e,o){var r,i=null,a=null,s=[],l=e;o=o||e.getDocument().getBody(),l||(l=o);do{if(l.type==CKEDITOR.NODE_ELEMENT){if(s.push(l),!this.lastElement&&(this.lastElement=l,l.is(CKEDITOR.dtd.$object)||"false"==l.getAttribute("contenteditable")))continue;if(l.equals(o))break;if(!a&&(r=l.getName(),"true"==l.getAttribute("contenteditable")?a=l:!i&&n[r]&&(i=l),t[r])){if(r=!i&&"div"==r){e:{for(var u=0,c=(r=l.getChildren()).count();u<c;u++){var d=r.getItem(u);if(d.type==CKEDITOR.NODE_ELEMENT&&CKEDITOR.dtd.$block[d.getName()]){r=!0;break e}}r=!1}r=!r}r?i=l:a=l}}}while(l=l.getParent());a||(a=o),this.block=i,this.blockLimit=a,this.root=o,this.elements=s}}(),CKEDITOR.dom.elementPath.prototype={compare:function(e){var t=this.elements;if(!(e=e&&e.elements)||t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0},contains:function(e,t,n){var o,r=0;"string"==typeof e&&(o=function(t){return t.getName()==e}),e instanceof CKEDITOR.dom.element?o=function(t){return t.equals(e)}:CKEDITOR.tools.isArray(e)?o=function(t){return-1<CKEDITOR.tools.indexOf(e,t.getName())}:"function"==typeof e?o=e:"object"==typeof e&&(o=function(t){return t.getName()in e});var i=this.elements,a=i.length;for(t&&(n?r+=1:--a),n&&(i=Array.prototype.slice.call(i,0)).reverse();r<a;r++)if(o(i[r]))return i[r];return null},isContextFor:function(e){return!(e in CKEDITOR.dtd.$block&&!(this.contains(CKEDITOR.dtd.$intermediate)||this.root.equals(this.block)&&this.block||this.blockLimit).getDtd()[e])},direction:function(){return(this.block||this.blockLimit||this.root).getDirection(1)}},CKEDITOR.dom.text=function(e,t){"string"==typeof e&&(e=(t?t.$:document).createTextNode(e)),this.$=e},CKEDITOR.dom.text.prototype=new CKEDITOR.dom.node,CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype,{type:CKEDITOR.NODE_TEXT,getLength:function(){return this.$.nodeValue.length},getText:function(){return this.$.nodeValue},setText:function(e){this.$.nodeValue=e},split:function(e){var t=this.$.parentNode,n=t.childNodes.length,o=this.getLength(),r=this.getDocument(),i=new CKEDITOR.dom.text(this.$.splitText(e),r);return t.childNodes.length==n&&(e>=o?(i=r.createText("")).insertAfter(this):((e=r.createText("")).insertAfter(i),e.remove())),i},substring:function(e,t){return"number"!=typeof t?this.$.nodeValue.substr(e):this.$.nodeValue.substring(e,t)}}),function(){function e(e,t,n){var o=e.serializable,r=t[n?"endContainer":"startContainer"],i=n?"endOffset":"startOffset",a=o?t.document.getById(e.startNode):e.startNode;return e=o?t.document.getById(e.endNode):e.endNode,r.equals(a.getPrevious())?(t.startOffset=t.startOffset-r.getLength()-e.getPrevious().getLength(),r=e.getNext()):r.equals(e.getPrevious())&&(t.startOffset-=r.getLength(),r=e.getNext()),r.equals(a.getParent())&&t[i]++,r.equals(e.getParent())&&t[i]++,t[n?"endContainer":"startContainer"]=r,t}CKEDITOR.dom.rangeList=function(e){return e instanceof CKEDITOR.dom.rangeList?e:(e?e instanceof CKEDITOR.dom.range&&(e=[e]):e=[],CKEDITOR.tools.extend(e,t))};var t={createIterator:function(){var e,t=this,n=CKEDITOR.dom.walker.bookmark(),o=[];return{getNextRange:function(r){var i=t[e=void 0===e?0:e+1];if(i&&1<t.length){if(!e)for(var a=t.length-1;0<=a;a--)o.unshift(t[a].createBookmark(!0));if(r)for(var s=0;t[e+s+1];){var l=i.document;for(r=0,a=l.getById(o[s].endNode),l=l.getById(o[s+1].startNode);;){if(a=a.getNextSourceNode(!1),l.equals(a))r=1;else if(n(a)||a.type==CKEDITOR.NODE_ELEMENT&&a.isBlockBoundary())continue;break}if(!r)break;s++}for(i.moveToBookmark(o.shift());s--;)(a=t[++e]).moveToBookmark(o.shift()),i.setEnd(a.endContainer,a.endOffset)}return i}}},createBookmarks:function(t){for(var n,o=[],r=0;r<this.length;r++){o.push(n=this[r].createBookmark(t,!0));for(var i=r+1;i<this.length;i++)this[i]=e(n,this[i]),this[i]=e(n,this[i],!0)}return o},createBookmarks2:function(e){for(var t=[],n=0;n<this.length;n++)t.push(this[n].createBookmark2(e));return t},moveToBookmarks:function(e){for(var t=0;t<this.length;t++)this[t].moveToBookmark(e[t])}}}(),function(){function e(){return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1]||"skins/"+CKEDITOR.skinName.split(",")[0]+"/")}function t(t){var n=CKEDITOR.skin["ua_"+t],o=CKEDITOR.env;if(n){n=n.split(",").sort(function(e,t){return e>t?-1:1});for(var r,i=0;i<n.length;i++)if(r=n[i],o.ie&&(r.replace(/^ie/,"")==o.version||o.quirks&&"iequirks"==r)&&(r="ie"),o[r]){t+="_"+n[i];break}}return CKEDITOR.getUrl(e()+t+".css")}function n(e,n){i[e]||(CKEDITOR.document.appendStyleSheet(t(e)),i[e]=1),n&&n()}function o(e){var t=e.getById(a);return t||((t=e.getHead().append("style")).setAttribute("id",a),t.setAttribute("type","text/css")),t}function r(e,t,n){var o,r,i;if(CKEDITOR.env.webkit)for(t=t.split("}").slice(0,-1),r=0;r<t.length;r++)t[r]=t[r].split("{");for(var a=0;a<e.length;a++)if(CKEDITOR.env.webkit)for(r=0;r<t.length;r++){for(i=t[r][1],o=0;o<n.length;o++)i=i.replace(n[o][0],n[o][1]);e[a].$.sheet.addRule(t[r][0],i)}else{for(i=t,o=0;o<n.length;o++)i=i.replace(n[o][0],n[o][1]);CKEDITOR.env.ie&&11>CKEDITOR.env.version?e[a].$.styleSheet.cssText+=i:e[a].$.innerHTML+=i}}var i={};CKEDITOR.skin={path:e,loadPart:function(t,o){CKEDITOR.skin.name!=CKEDITOR.skinName.split(",")[0]?CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e()+"skin.js"),function(){n(t,o)}):n(t,o)},getPath:function(e){return CKEDITOR.getUrl(t(e))},icons:{},addIcon:function(e,t,n,o){e=e.toLowerCase(),this.icons[e]||(this.icons[e]={path:t,offset:n||0,bgsize:o||"16px"})},getIconStyle:function(e,t,n,o,r){var i;return e&&(e=e.toLowerCase(),t&&(i=this.icons[e+"-rtl"]),i||(i=this.icons[e])),e=n||i&&i.path||"",o=o||i&&i.offset,r=r||i&&i.bgsize||"16px",e&&(e=e.replace(/'/g,"\\'")),e&&"background-image:url('"+CKEDITOR.getUrl(e)+"');background-position:0 "+o+"px;background-size:"+r+";"}},CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{getUiColor:function(){return this.uiColor},setUiColor:function(e){var t=o(CKEDITOR.document);return(this.setUiColor=function(e){this.uiColor=e;var n=CKEDITOR.skin.chameleon,o="",i="";"function"==typeof n&&(o=n(this,"editor"),i=n(this,"panel")),r([t],o,e=[[l,e]]),r(s,i,e)}).call(this,e)}});var a="cke_ui_color",s=[],l=/\$color/g;CKEDITOR.on("instanceLoaded",function(e){if(!CKEDITOR.env.ie||!CKEDITOR.env.quirks){var t=e.editor;t.on("panelShow",e=function(e){if(!(e=(e.data[0]||e.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument()).getById("cke_ui_color")){e=o(e),s.push(e);var n=t.getUiColor();n&&r([e],CKEDITOR.skin.chameleon(t,"panel"),[[l,n]])}}),t.on("menuShow",e),t.config.uiColor&&t.setUiColor(t.config.uiColor)}})}(),function(){if(CKEDITOR.env.webkit)CKEDITOR.env.hc=!1;else{var e=CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>',CKEDITOR.document);e.appendTo(CKEDITOR.document.getHead());try{var t=e.getComputedStyle("border-top-color"),n=e.getComputedStyle("border-right-color");CKEDITOR.env.hc=!(!t||t!=n)}catch(e){CKEDITOR.env.hc=!1}e.remove()}if(CKEDITOR.env.hc&&(CKEDITOR.env.cssClass+=" cke_hc"),CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"),CKEDITOR.status="loaded",CKEDITOR.fireOnce("loaded"),e=CKEDITOR._.pending)for(delete CKEDITOR._.pending,t=0;t<e.length;t++)CKEDITOR.editor.prototype.constructor.apply(e[t][0],e[t][1]),CKEDITOR.add(e[t][0])}(),CKEDITOR.skin.name="moono-lisa",CKEDITOR.skin.ua_editor="ie,iequirks,ie8,gecko",CKEDITOR.skin.ua_dialog="ie,iequirks,ie8",CKEDITOR.skin.chameleon=function(){var e=function(e,t){for(var n=e.match(/[^#]./g),o=0;3>o;o++){var r,i=o;r=parseInt(n[o],16),r=("0"+(0>t?0|r*(1+t):0|r+(255-r)*t).toString(16)).slice(-2),n[i]=r}return"#"+n.join("")},t={editor:new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),panel:new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")};return function(n,o){var r=e(n.uiColor,.4);return r={id:"."+n.id,defaultBorder:e(r,-.2),toolbarElementsBorder:e(r,-.25),defaultBackground:r,lightBackground:e(r,.8),darkBackground:e(r,-.15),ckeButtonOn:e(r,.4),ckeResizer:e(r,-.4),ckeColorauto:e(r,.8),dialogBody:e(r,.7),dialogTab:e(r,.65),dialogTabSelected:"#FFF",dialogTabSelectedBorder:"#FFF",elementsPathColor:e(r,-.6),menubuttonHover:e(r,.1),menubuttonIcon:e(r,.5),menubuttonIconHover:e(r,.3)},t[o].output(r).replace(/\[/g,"{").replace(/\]/g,"}")}}(),CKEDITOR.plugins.add("dialogui",{onLoad:function(){var e=function(e){this._||(this._={}),this._.default=this._.initValue=e.default||"",this._.required=e.required||!1;for(var t=[this._],n=1;n<arguments.length;n++)t.push(arguments[n]);return t.push(!0),CKEDITOR.tools.extend.apply(CKEDITOR.tools,t),this._},t={build:function(e,t,n){return new CKEDITOR.ui.dialog.textInput(e,t,n)}},n={build:function(e,t,n){return new CKEDITOR.ui.dialog[t.type](e,t,n)}},o={isChanged:function(){return this.getValue()!=this.getInitValue()},reset:function(e){this.setValue(this.getInitValue(),e)},setInitValue:function(){this._.initValue=this.getValue()},resetInitValue:function(){this._.initValue=this._.default},getInitValue:function(){return this._.initValue}},r=CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onChange:function(e,t){this._.domOnChangeRegistered||(e.on("load",function(){this.getInputElement().on("change",function(){e.parts.dialog.isVisible()&&this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",t)}},!0),i=/^on([A-Z]\w+)/,a=function(e){for(var t in e)(i.test(t)||"title"==t||"type"==t)&&delete e[t];return e},s=function(e){(e=e.data.getKeystroke())==CKEDITOR.SHIFT+CKEDITOR.ALT+36?this.setDirectionMarker("ltr"):e==CKEDITOR.SHIFT+CKEDITOR.ALT+35&&this.setDirectionMarker("rtl")};CKEDITOR.tools.extend(CKEDITOR.ui.dialog,{labeledElement:function(t,n,o,r){if(!(4>arguments.length)){var i=e.call(this,n);i.labelId=CKEDITOR.tools.getNextId()+"_label",this._.children=[];var a={role:n.role||"presentation"};n.includeLabel&&(a["aria-labelledby"]=i.labelId),CKEDITOR.ui.dialog.uiElement.call(this,t,n,o,"div",null,a,function(){var e=[],o=n.required?" cke_required":"";return"horizontal"!=n.labelLayout?e.push('<label class="cke_dialog_ui_labeled_label'+o+'" ',' id="'+i.labelId+'"',i.inputId?' for="'+i.inputId+'"':"",(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",n.label,"</label>",'<div class="cke_dialog_ui_labeled_content"',n.controlStyle?' style="'+n.controlStyle+'"':"",' role="presentation">',r.call(this,t,n),"</div>"):(o={type:"hbox",widths:n.widths,padding:0,children:[{type:"html",html:'<label class="cke_dialog_ui_labeled_label'+o+'" id="'+i.labelId+'" for="'+i.inputId+'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">"+CKEDITOR.tools.htmlEncode(n.label)+"</label>"},{type:"html",html:'<span class="cke_dialog_ui_labeled_content"'+(n.controlStyle?' style="'+n.controlStyle+'"':"")+">"+r.call(this,t,n)+"</span>"}]},CKEDITOR.dialog._.uiElementBuilders.hbox.build(t,o,e)),e.join("")})}},textInput:function(t,n,o){if(!(3>arguments.length)){e.call(this,n);var r=this._.inputId=CKEDITOR.tools.getNextId()+"_textInput",i={class:"cke_dialog_ui_input_"+n.type,id:r,type:n.type};n.validate&&(this.validate=n.validate),n.maxLength&&(i.maxlength=n.maxLength),n.size&&(i.size=n.size),n.inputStyle&&(i.style=n.inputStyle);var a=this,l=!1;t.on("load",function(){a.getInputElement().on("keydown",function(e){13==e.data.getKeystroke()&&(l=!0)}),a.getInputElement().on("keyup",function(e){13==e.data.getKeystroke()&&l&&(t.getButton("ok")&&setTimeout(function(){t.getButton("ok").click()},0),l=!1),a.bidi&&s.call(a,e)},null,null,1e3)}),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,o,function(){var e=['<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'];for(var t in n.width&&e.push('style="width:'+n.width+'" '),e.push("><input "),i["aria-labelledby"]=this._.labelId,this._.required&&(i["aria-required"]=this._.required),i)e.push(t+'="'+i[t]+'" ');return e.push(" /></div>"),e.join("")})}},textarea:function(t,n,o){if(!(3>arguments.length)){e.call(this,n);var r=this,i=this._.inputId=CKEDITOR.tools.getNextId()+"_textarea",a={};n.validate&&(this.validate=n.validate),a.rows=n.rows||5,a.cols=n.cols||20,a.class="cke_dialog_ui_input_textarea "+(n.class||""),void 0!==n.inputStyle&&(a.style=n.inputStyle),n.dir&&(a.dir=n.dir),r.bidi&&t.on("load",function(){r.getInputElement().on("keyup",s)},r),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,o,function(){a["aria-labelledby"]=this._.labelId,this._.required&&(a["aria-required"]=this._.required);var e,t=['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="',i,'" '];for(e in a)t.push(e+'="'+CKEDITOR.tools.htmlEncode(a[e])+'" ');return t.push(">",CKEDITOR.tools.htmlEncode(r._.default),"</textarea></div>"),t.join("")})}},checkbox:function(t,n,o){if(!(3>arguments.length)){var r=e.call(this,n,{default:!!n.default});n.validate&&(this.validate=n.validate),CKEDITOR.ui.dialog.uiElement.call(this,t,n,o,"span",null,null,function(){var e=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_checkbox":CKEDITOR.tools.getNextId()+"_checkbox"},!0),o=[],i=CKEDITOR.tools.getNextId()+"_label",s={class:"cke_dialog_ui_checkbox_input",type:"checkbox","aria-labelledby":i};return a(e),n.default&&(s.checked="checked"),void 0!==e.inputStyle&&(e.style=e.inputStyle),r.checkbox=new CKEDITOR.ui.dialog.uiElement(t,e,o,"input",null,s),o.push(' <label id="',i,'" for="',s.id,'"'+(n.labelStyle?' style="'+n.labelStyle+'"':"")+">",CKEDITOR.tools.htmlEncode(n.label),"</label>"),o.join("")})}},radio:function(t,n,o){if(!(3>arguments.length)){e.call(this,n),this._.default||(this._.default=this._.initValue=n.items[0][1]),n.validate&&(this.validate=n.validate);var r=[],i=this;n.role="radiogroup",n.includeLabel=!0,CKEDITOR.ui.dialog.labeledElement.call(this,t,n,o,function(){for(var e=[],o=[],s=(n.id?n.id:CKEDITOR.tools.getNextId())+"_radio",l=0;l<n.items.length;l++){var u=n.items[l],c=void 0!==u[2]?u[2]:u[0],d=void 0!==u[1]?u[1]:u[0],h=(f=CKEDITOR.tools.getNextId()+"_radio_input")+"_label",f=CKEDITOR.tools.extend({},n,{id:f,title:null,type:null},!0),p=(c=CKEDITOR.tools.extend({},f,{title:c},!0),{type:"radio",class:"cke_dialog_ui_radio_input",name:s,value:d,"aria-labelledby":h}),g=[];i._.default==d&&(p.checked="checked"),a(f),a(c),void 0!==f.inputStyle&&(f.style=f.inputStyle),f.keyboardFocusable=!0,r.push(new CKEDITOR.ui.dialog.uiElement(t,f,g,"input",null,p)),g.push(" "),new CKEDITOR.ui.dialog.uiElement(t,c,g,"label",null,{id:h,for:p.id},u[0]),e.push(g.join(""))}return new CKEDITOR.ui.dialog.hbox(t,r,e,o),o.join("")}),this._.children=r}},button:function(t,n,o){if(arguments.length){"function"==typeof n&&(n=n(t.getParentEditor())),e.call(this,n,{disabled:n.disabled||!1}),CKEDITOR.event.implementOn(this);var r=this;t.on("load",function(){var e=this.getElement();e.on("click",function(e){r.click(),e.data.preventDefault()}),e.on("keydown",function(e){e.data.getKeystroke()in{32:1}&&(r.click(),e.data.preventDefault())}),e.unselectable()},this);var i=CKEDITOR.tools.extend({},n);delete i.style;var a=CKEDITOR.tools.getNextId()+"_label";CKEDITOR.ui.dialog.uiElement.call(this,t,i,o,"a",null,{style:n.style,href:"javascript:void(0)",title:n.label,hidefocus:"true",class:n.class,role:"button","aria-labelledby":a},'<span id="'+a+'" class="cke_dialog_ui_button">'+CKEDITOR.tools.htmlEncode(n.label)+"</span>")}},select:function(t,n,o){if(!(3>arguments.length)){var r=e.call(this,n);n.validate&&(this.validate=n.validate),r.inputId=CKEDITOR.tools.getNextId()+"_select",CKEDITOR.ui.dialog.labeledElement.call(this,t,n,o,function(){var e=CKEDITOR.tools.extend({},n,{id:n.id?n.id+"_select":CKEDITOR.tools.getNextId()+"_select"},!0),o=[],i=[],s={id:r.inputId,class:"cke_dialog_ui_input_select","aria-labelledby":this._.labelId};o.push('<div class="cke_dialog_ui_input_',n.type,'" role="presentation"'),n.width&&o.push('style="width:'+n.width+'" '),o.push(">"),void 0!==n.size&&(s.size=n.size),void 0!==n.multiple&&(s.multiple=n.multiple),a(e);for(var l,u=0;u<n.items.length&&(l=n.items[u]);u++)i.push('<option value="',CKEDITOR.tools.htmlEncode(void 0!==l[1]?l[1]:l[0]).replace(/"/g,"&quot;"),'" /> ',CKEDITOR.tools.htmlEncode(l[0]));return void 0!==e.inputStyle&&(e.style=e.inputStyle),r.select=new CKEDITOR.ui.dialog.uiElement(t,e,o,"select",null,s,i.join("")),o.push("</div>"),o.join("")})}},file:function(t,n,o){if(!(3>arguments.length)){void 0===n.default&&(n.default="");var r=CKEDITOR.tools.extend(e.call(this,n),{definition:n,buttons:[]});n.validate&&(this.validate=n.validate),t.on("load",function(){CKEDITOR.document.getById(r.frameId).getParent().addClass("cke_dialog_ui_input_file")}),CKEDITOR.ui.dialog.labeledElement.call(this,t,n,o,function(){r.frameId=CKEDITOR.tools.getNextId()+"_fileInput";var e=['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="',r.frameId,'" title="',n.label,'" src="javascript:void('];return e.push(CKEDITOR.env.ie?"(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"})()":"0"),e.push(')"></iframe>'),e.join("")})}},fileButton:function(t,n,o){var r=this;if(!(3>arguments.length)){e.call(this,n),n.validate&&(this.validate=n.validate);var i=CKEDITOR.tools.extend({},n),a=i.onClick;i.className=(i.className?i.className+" ":"")+"cke_dialog_ui_button",i.onClick=function(e){var o=n.for;!1!==(e=!!a&&a.call(this,e))&&("xhr"!==e&&t.getContentElement(o[0],o[1]).submit(),this.disable())},t.on("load",function(){t.getContentElement(n.for[0],n.for[1])._.buttons.push(r)}),CKEDITOR.ui.dialog.button.call(this,t,i,o)}},html:function(){var e=/^\s*<[\w:]+\s+([^>]*)?>/,t=/^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,n=/\/$/;return function(o,r,i){if(!(3>arguments.length)){var a=[],s=r.html;"<"!=s.charAt(0)&&(s="<span>"+s+"</span>");var l=r.focus;if(l){var u=this.focus;this.focus=function(){("function"==typeof l?l:u).call(this),this.fire("focus")},r.isFocusable&&(this.isFocusable=this.isFocusable),this.keyboardFocusable=!0}CKEDITOR.ui.dialog.uiElement.call(this,o,r,a,"span",null,null,""),a=a.join("").match(e),s=s.match(t)||["","",""],n.test(s[1])&&(s[1]=s[1].slice(0,-1),s[2]="/"+s[2]),i.push([s[1]," ",a[1]||"",s[2]].join(""))}}}(),fieldset:function(e,t,n,o,r){var i=r.label;this._={children:t},CKEDITOR.ui.dialog.uiElement.call(this,e,r,o,"fieldset",null,null,function(){var e=[];i&&e.push("<legend"+(r.labelStyle?' style="'+r.labelStyle+'"':"")+">"+i+"</legend>");for(var t=0;t<n.length;t++)e.push(n[t]);return e.join("")})}},!0),CKEDITOR.ui.dialog.html.prototype=new CKEDITOR.ui.dialog.uiElement,CKEDITOR.ui.dialog.labeledElement.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setLabel:function(e){var t=CKEDITOR.document.getById(this._.labelId);return 1>t.getChildCount()?new CKEDITOR.dom.text(e,CKEDITOR.document).appendTo(t):t.getChild(0).$.nodeValue=e,this},getLabel:function(){var e=CKEDITOR.document.getById(this._.labelId);return!e||1>e.getChildCount()?"":e.getChild(0).getText()},eventProcessors:r},!0),CKEDITOR.ui.dialog.button.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{click:function(){return!this._.disabled&&this.fire("click",{dialog:this._.dialog})},enable:function(){this._.disabled=!1;var e=this.getElement();e&&e.removeClass("cke_disabled")},disable:function(){this._.disabled=!0,this.getElement().addClass("cke_disabled")},isVisible:function(){return this.getElement().getFirst().isVisible()},isEnabled:function(){return!this._.disabled},eventProcessors:CKEDITOR.tools.extend({},CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors,{onClick:function(e,t){this.on("click",function(){t.apply(this,arguments)})}},!0),accessKeyUp:function(){this.click()},accessKeyDown:function(){this.focus()},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.textInput.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return CKEDITOR.document.getById(this._.inputId)},focus:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&t.$.focus()},0)},select:function(){var e=this.selectParentTab();setTimeout(function(){var t=e.getInputElement();t&&(t.$.focus(),t.$.select())},0)},accessKeyUp:function(){this.select()},setValue:function(e){if(this.bidi){var t=e&&e.charAt(0);(t="\u202a"==t?"ltr":"\u202b"==t?"rtl":null)&&(e=e.slice(1)),this.setDirectionMarker(t)}return e||(e=""),CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this,arguments)},getValue:function(){var e=CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);if(this.bidi&&e){var t=this.getDirectionMarker();t&&(e=("ltr"==t?"\u202a":"\u202b")+e)}return e},setDirectionMarker:function(e){var t=this.getInputElement();e?t.setAttributes({dir:e,"data-cke-dir-marker":e}):this.getDirectionMarker()&&t.removeAttributes(["dir","data-cke-dir-marker"])},getDirectionMarker:function(){return this.getInputElement().data("cke-dir-marker")},keyboardFocusable:!0},o,!0),CKEDITOR.ui.dialog.textarea.prototype=new CKEDITOR.ui.dialog.textInput,CKEDITOR.ui.dialog.select.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,{getInputElement:function(){return this._.select.getElement()},add:function(e,t,n){var o=new CKEDITOR.dom.element("option",this.getDialog().getParentEditor().document),r=this.getInputElement().$;return o.$.text=e,o.$.value=void 0===t||null===t?e:t,void 0===n||null===n?CKEDITOR.env.ie?r.add(o.$):r.add(o.$,null):r.add(o.$,n),this},remove:function(e){return this.getInputElement().$.remove(e),this},clear:function(){for(var e=this.getInputElement().$;0<e.length;)e.remove(0);return this},keyboardFocusable:!0},o,!0),CKEDITOR.ui.dialog.checkbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getInputElement:function(){return this._.checkbox.getElement()},setValue:function(e,t){this.getInputElement().$.checked=e,!t&&this.fire("change",{value:e})},getValue:function(){return this.getInputElement().$.checked},accessKeyUp:function(){this.setValue(!this.getValue())},eventProcessors:{onChange:function(e,t){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?r.onChange.apply(this,arguments):(e.on("load",function(){var e=this._.checkbox.getElement();e.on("propertychange",function(t){"checked"==(t=t.data.$).propertyName&&this.fire("change",{value:e.$.checked})},this)},this),this.on("change",t),null)}},keyboardFocusable:!0},o,!0),CKEDITOR.ui.dialog.radio.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{setValue:function(e,t){for(var n,o=this._.children,r=0;r<o.length&&(n=o[r]);r++)n.getElement().$.checked=n.getValue()==e;!t&&this.fire("change",{value:e})},getValue:function(){for(var e=this._.children,t=0;t<e.length;t++)if(e[t].getElement().$.checked)return e[t].getValue();return null},accessKeyUp:function(){var e,t=this._.children;for(e=0;e<t.length;e++)if(t[e].getElement().$.checked)return void t[e].getElement().focus();t[0].getElement().focus()},eventProcessors:{onChange:function(e,t){return!CKEDITOR.env.ie||8<CKEDITOR.env.version?r.onChange.apply(this,arguments):(e.on("load",function(){for(var e=this._.children,t=this,n=0;n<e.length;n++)e[n].getElement().on("propertychange",function(e){"checked"==(e=e.data.$).propertyName&&this.$.checked&&t.fire("change",{value:this.getAttribute("value")})})},this),this.on("change",t),null)}}},o,!0),CKEDITOR.ui.dialog.file.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement,o,{getInputElement:function(){var e=CKEDITOR.document.getById(this._.frameId).getFrameDocument();return 0<e.$.forms.length?new CKEDITOR.dom.element(e.$.forms[0].elements[0]):this.getElement()},submit:function(){return this.getInputElement().getParent().$.submit(),this},getAction:function(){return this.getInputElement().getParent().$.action},registerEvents:function(e){var t,n,o=/^on([A-Z]\w+)/,r=function(e,t,n,o){e.on("formLoaded",function(){e.getInputElement().on(n,o,e)})};for(n in e)(t=n.match(o))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,e[n]):r(this,0,t[1].toLowerCase(),e[n]));return this},reset:function(){function e(){n.$.open();var e="";o.size&&(e=o.size-(CKEDITOR.env.ie?7:0));var u=t.frameId+"_input";for(n.$.write(['<html dir="'+s+'" lang="'+l+'"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">','<form enctype="multipart/form-data" method="POST" dir="'+s+'" lang="'+l+'" action="',CKEDITOR.tools.htmlEncode(o.action),'"><label id="',t.labelId,'" for="',u,'" style="display:none">',CKEDITOR.tools.htmlEncode(o.label),'</label><input style="width:100%" id="',u,'" aria-labelledby="',t.labelId,'" type="file" name="',CKEDITOR.tools.htmlEncode(o.id||"cke_upload"),'" size="',CKEDITOR.tools.htmlEncode(0<e?e:""),'" /></form></body></html><script>',CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"","window.parent.CKEDITOR.tools.callFunction("+i+");","window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction("+a+")}","<\/script>"].join("")),n.$.close(),e=0;e<r.length;e++)r[e].enable()}var t=this._,n=CKEDITOR.document.getById(t.frameId).getFrameDocument(),o=t.definition,r=t.buttons,i=this.formLoadedNumber,a=this.formUnloadNumber,s=t.dialog._.editor.lang.dir,l=t.dialog._.editor.langCode;i||(i=this.formLoadedNumber=CKEDITOR.tools.addFunction(function(){this.fire("formLoaded")},this),a=this.formUnloadNumber=CKEDITOR.tools.addFunction(function(){this.getInputElement().clearCustomData()},this),this.getDialog()._.editor.on("destroy",function(){CKEDITOR.tools.removeFunction(i),CKEDITOR.tools.removeFunction(a)})),CKEDITOR.env.gecko?setTimeout(e,500):e()},getValue:function(){return this.getInputElement().$.value||""},setInitValue:function(){this._.initValue=""},eventProcessors:{onChange:function(e,t){this._.domOnChangeRegistered||(this.on("formLoaded",function(){this.getInputElement().on("change",function(){this.fire("change",{value:this.getValue()})},this)},this),this._.domOnChangeRegistered=!0),this.on("change",t)}},keyboardFocusable:!0},!0),CKEDITOR.ui.dialog.fileButton.prototype=new CKEDITOR.ui.dialog.button,CKEDITOR.ui.dialog.fieldset.prototype=CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype),CKEDITOR.dialog.addUIElement("text",t),CKEDITOR.dialog.addUIElement("password",t),CKEDITOR.dialog.addUIElement("textarea",n),CKEDITOR.dialog.addUIElement("checkbox",n),CKEDITOR.dialog.addUIElement("radio",n),CKEDITOR.dialog.addUIElement("button",n),CKEDITOR.dialog.addUIElement("select",n),CKEDITOR.dialog.addUIElement("file",n),CKEDITOR.dialog.addUIElement("fileButton",n),CKEDITOR.dialog.addUIElement("html",n),CKEDITOR.dialog.addUIElement("fieldset",{build:function(e,t,n){for(var o,r=t.children,i=[],a=[],s=0;s<r.length&&(o=r[s]);s++){var l=[];i.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[o.type].build(e,o,l))}return new CKEDITOR.ui.dialog[t.type](e,a,i,n,t)}})}}),CKEDITOR.DIALOG_RESIZE_NONE=0,CKEDITOR.DIALOG_RESIZE_WIDTH=1,CKEDITOR.DIALOG_RESIZE_HEIGHT=2,CKEDITOR.DIALOG_RESIZE_BOTH=3,CKEDITOR.DIALOG_STATE_IDLE=1,CKEDITOR.DIALOG_STATE_BUSY=2,function(){function e(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId)+e,n=t-1;n>t-e;n--)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}function t(e,t){for(var n=e.$.getElementsByTagName("input"),o=0,r=n.length;o<r;o++){var i=new CKEDITOR.dom.element(n[o]);"text"==i.getAttribute("type").toLowerCase()&&(t?(i.setAttribute("value",i.getCustomData("fake_value")||""),i.removeCustomData("fake_value")):(i.setCustomData("fake_value",i.getAttribute("value")),i.setAttribute("value","")))}}function n(e){var t=CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog",d).output({id:CKEDITOR.tools.getNextNumber(),editorId:e.id,langDir:e.lang.dir,langCode:e.langCode,editorDialogClass:"cke_editor_"+e.name.replace(/\./g,"\\.")+"_dialog",closeTitle:e.lang.common.close,hidpi:CKEDITOR.env.hidpi?"cke_hidpi":""})),n=t.getChild([0,0,0,0,0]),o=n.getChild(0),r=n.getChild(1);return e.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n),!CKEDITOR.env.ie||CKEDITOR.env.quirks||CKEDITOR.env.edge||(e="javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())",CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="'+e+'" tabIndex="-1"></iframe>').appendTo(n.getParent())),o.unselectable(),r.unselectable(),{element:t,parts:{dialog:t.getChild(0),title:o,close:r,tabs:n.getChild(2),contents:n.getChild([3,0,0,0]),footer:n.getChild([3,0,1,0])}}}function o(e,t,n){this.element=t,this.focusIndex=n,this.tabIndex=0,this.isFocusable=function(){return!t.getAttribute("disabled")&&t.isVisible()},this.focus=function(){e._.currentFocusIndex=this.focusIndex,this.element.focus()},t.on("keydown",function(e){e.data.getKeystroke()in{32:1,13:1}&&this.fire("click")}),t.on("focus",function(){this.fire("mouseover")}),t.on("blur",function(){this.fire("mouseout")})}function r(e,t){this._={dialog:e},CKEDITOR.tools.extend(this,t)}function i(e){function t(t){var n=e.getSize(),l=CKEDITOR.document.getWindow().getViewPaneSize(),u=t.data.$.screenX,c=t.data.$.screenY,d=u-o.x,h=c-o.y;o={x:u,y:c},r.x+=d,r.y+=h,e.move(r.x+s[3]<a?-s[3]:r.x-s[1]>l.width-n.width-a?l.width-n.width+("rtl"==i.lang.dir?0:s[1]):r.x,r.y+s[0]<a?-s[0]:r.y-s[2]>l.height-n.height-a?l.height-n.height+s[2]:r.y,1),t.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.env.ie6Compat){var e=v.getChild(0).getFrameDocument();e.removeListener("mousemove",t),e.removeListener("mouseup",n)}}var o=null,r=null,i=e.getParentEditor(),a=i.config.dialog_magnetDistance,s=CKEDITOR.skin.margins||[0,0,0,0];void 0===a&&(a=20),e.parts.title.on("mousedown",function(i){if(o={x:i.data.$.screenX,y:i.data.$.screenY},CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),r=e.getPosition(),CKEDITOR.env.ie6Compat){var a=v.getChild(0).getFrameDocument();a.on("mousemove",t),a.on("mouseup",n)}i.data.preventDefault()},e)}function a(e){function t(t){var n="rtl"==d.lang.dir,c=u.width,h=u.height,f=c+(t.data.$.screenX-l.x)*(n?-1:1)*(e._.moved?1:2),p=h+(t.data.$.screenY-l.y)*(e._.moved?1:2),g=e._.element.getFirst(),m=(g=n&&g.getComputedStyle("right"),e.getPosition());m.y+p>s.height&&(p=s.height-m.y),(n?g:m.x)+f>s.width&&(f=s.width-(n?g:m.x)),r!=CKEDITOR.DIALOG_RESIZE_WIDTH&&r!=CKEDITOR.DIALOG_RESIZE_BOTH||(c=Math.max(o.minWidth||0,f-i)),r!=CKEDITOR.DIALOG_RESIZE_HEIGHT&&r!=CKEDITOR.DIALOG_RESIZE_BOTH||(h=Math.max(o.minHeight||0,p-a)),e.resize(c,h),e._.moved||e.layout(),t.data.preventDefault()}function n(){if(CKEDITOR.document.removeListener("mouseup",n),CKEDITOR.document.removeListener("mousemove",t),c&&(c.remove(),c=null),CKEDITOR.env.ie6Compat){var e=v.getChild(0).getFrameDocument();e.removeListener("mouseup",n),e.removeListener("mousemove",t)}}var o=e.definition,r=o.resizable;if(r!=CKEDITOR.DIALOG_RESIZE_NONE){var i,a,s,l,u,c,d=e.getParentEditor(),h=CKEDITOR.tools.addFunction(function(o){u=e.getSize();var r=e.parts.contents;r.$.getElementsByTagName("iframe").length&&(c=CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'),r.append(c)),a=u.height-e.parts.contents.getSize("height",!(CKEDITOR.env.gecko||CKEDITOR.env.ie&&CKEDITOR.env.quirks)),i=u.width-e.parts.contents.getSize("width",1),l={x:o.screenX,y:o.screenY},s=CKEDITOR.document.getWindow().getViewPaneSize(),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),CKEDITOR.env.ie6Compat&&((r=v.getChild(0).getFrameDocument()).on("mousemove",t),r.on("mouseup",n)),o.preventDefault&&o.preventDefault()});e.on("load",function(){var t="";r==CKEDITOR.DIALOG_RESIZE_WIDTH?t=" cke_resizer_horizontal":r==CKEDITOR.DIALOG_RESIZE_HEIGHT&&(t=" cke_resizer_vertical"),t=CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer'+t+" cke_resizer_"+d.lang.dir+'" title="'+CKEDITOR.tools.htmlEncode(d.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+h+', event )">'+("ltr"==d.lang.dir?"\u25e2":"\u25e3")+"</div>"),e.parts.footer.append(t,1)}),d.on("destroy",function(){CKEDITOR.tools.removeFunction(h)})}}function s(e){e.data.preventDefault(1)}function l(e){var t=CKEDITOR.document.getWindow(),n=e.config,o=CKEDITOR.skinName||e.config.skin,r=n.dialog_backgroundCoverColor||("moono-lisa"==o?"black":"white"),i=(o=n.dialog_backgroundCoverOpacity,n.baseFloatZIndex),a=(n=CKEDITOR.tools.genKey(r,o,i),T[n]);a?a.show():(i=['<div tabIndex="-1" style="position: ',CKEDITOR.env.ie6Compat?"absolute":"fixed","; z-index: ",i,"; top: 0px; left: 0px; ",CKEDITOR.env.ie6Compat?"":"background-color: "+r,'" class="cke_dialog_background_cover">'],CKEDITOR.env.ie6Compat&&(r="<html><body style=\\'background-color:"+r+";\\'></body></html>",i.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'),i.push("void((function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.write( '"+r+"' );document.close();")+"})())"),i.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')),i.push("</div>"),(a=CKEDITOR.dom.element.createFromHtml(i.join(""))).setOpacity(void 0!==o?o:.5),a.on("keydown",s),a.on("keypress",s),a.on("keyup",s),a.appendTo(CKEDITOR.document.getBody()),T[n]=a),e.focusManager.add(a),v=a;var l=function(){var e=t.getScrollPosition(),n=CKEDITOR.dialog._.currentTop;if(a.setStyles({left:e.x+"px",top:e.y+"px"}),n)do{e=n.getPosition(),n.move(e.x,e.y)}while(n=n._.parentDialog)};if(E=e=function(){var e=t.getViewPaneSize();a.setStyles({width:e.width+"px",height:e.height+"px"})},t.on("resize",e),e(),CKEDITOR.env.mac&&CKEDITOR.env.webkit||a.focus(),CKEDITOR.env.ie6Compat){var u=function(){l(),arguments.callee.prevScrollHandler.apply(this,arguments)};t.$.setTimeout(function(){u.prevScrollHandler=window.onscroll||function(){},window.onscroll=u},0),l()}}function u(e){v&&(e.focusManager.remove(v),e=CKEDITOR.document.getWindow(),v.hide(),e.removeListener("resize",E),CKEDITOR.env.ie6Compat&&e.$.setTimeout(function(){window.onscroll=window.onscroll&&window.onscroll.prevScrollHandler||null},0),E=null)}var c=CKEDITOR.tools.cssLength,d='<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog '+CKEDITOR.env.cssClass+' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';CKEDITOR.dialog=function(t,o){function r(e){var t=T._.focusList;if(e=e||0,!(1>t.length)){var n=T._.currentFocusIndex;T._.tabBarMode&&0>e&&(n=0);try{t[n].getInputElement().$.blur()}catch(e){}var o=n,r=1<T._.pageCount;do{if(o+=e,r&&!T._.tabBarMode&&(o==t.length||-1==o))return T._.tabBarMode=!0,T._.tabs[T._.currentTabId][0].focus(),void(T._.currentFocusIndex=-1);if((o=(o+t.length)%t.length)==n)break}while(e&&!t[o].isFocusable());t[o].focus(),"text"==t[o].type&&t[o].select()}}function s(n){if(T==CKEDITOR.dialog._.currentTop){var o=n.data.getKeystroke(),i="rtl"==t.lang.dir;if(u=c=0,9==o||o==CKEDITOR.SHIFT+9)r(o==CKEDITOR.SHIFT+9?-1:1),u=1;else if(o==CKEDITOR.ALT+121&&!T._.tabBarMode&&1<T.getPageCount())T._.tabBarMode=!0,T._.tabs[T._.currentTabId][0].focus(),T._.currentFocusIndex=-1,u=1;else if(-1!=CKEDITOR.tools.indexOf([37,38,39,40],o)&&T._.tabBarMode)o=-1!=CKEDITOR.tools.indexOf([i?39:37,38],o)?e.call(T):(function(){for(var e=this._.tabIdList.length,t=CKEDITOR.tools.indexOf(this._.tabIdList,this._.currentTabId),n=t+1;n<t+e;n++)if(this._.tabs[this._.tabIdList[n%e]][0].$.offsetHeight)return this._.tabIdList[n%e];return null}).call(T),T.selectPage(o),T._.tabs[o][0].focus(),u=1;else if(13!=o&&32!=o||!T._.tabBarMode)if(13==o)(o=n.data.getTarget()).is("a","button","select","textarea")||o.is("input")&&"button"==o.$.type||((o=this.getButton("ok"))&&CKEDITOR.tools.setTimeout(o.click,0,o),u=1),c=1;else{if(27!=o)return;(o=this.getButton("cancel"))?CKEDITOR.tools.setTimeout(o.click,0,o):!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),c=1}else this.selectPage(this._.currentTabId),this._.tabBarMode=!1,this._.currentFocusIndex=-1,r(1),u=1;l(n)}}function l(e){u?e.data.preventDefault(1):c&&e.data.stopPropagation()}var u,c,d=CKEDITOR.dialog._.dialogDefinitions[o],f=CKEDITOR.tools.clone(h),p=t.config.dialog_buttonsOrder||"OS",g=t.lang.dir,E={};if(("OS"==p&&CKEDITOR.env.mac||"rtl"==p&&"ltr"==g||"ltr"==p&&"rtl"==g)&&f.buttons.reverse(),d=CKEDITOR.tools.extend(d(t),f),d=CKEDITOR.tools.clone(d),d=new m(this,d),f=n(t),this._={editor:t,element:f.element,name:o,contentSize:{width:0,height:0},size:{width:0,height:0},contents:{},buttons:{},accessKeyMap:{},tabs:{},tabIdList:[],currentTabId:null,currentTabIndex:null,pageCount:0,lastTab:null,tabBarMode:!1,focusList:[],currentFocusIndex:0,hasFocus:!1},this.parts=f.parts,CKEDITOR.tools.setTimeout(function(){t.fire("ariaWidget",this.parts.contents)},0,this),(f={position:CKEDITOR.env.ie6Compat?"absolute":"fixed",top:0,visibility:"hidden"})["rtl"==g?"right":"left"]=0,this.parts.dialog.setStyles(f),CKEDITOR.event.call(this),this.definition=d=CKEDITOR.fire("dialogDefinition",{name:o,definition:d},t).definition,!("removeDialogTabs"in t._)&&t.config.removeDialogTabs){for(f=t.config.removeDialogTabs.split(";"),g=0;g<f.length;g++)if(2==(p=f[g].split(":")).length){var v=p[0];E[v]||(E[v]=[]),E[v].push(p[1])}t._.removeDialogTabs=E}if(t._.removeDialogTabs&&(E=t._.removeDialogTabs[o]))for(g=0;g<E.length;g++)d.removeContents(E[g]);d.onLoad&&this.on("load",d.onLoad),d.onShow&&this.on("show",d.onShow),d.onHide&&this.on("hide",d.onHide),d.onOk&&this.on("ok",function(e){t.fire("saveSnapshot"),setTimeout(function(){t.fire("saveSnapshot")},0),!1===d.onOk.call(this,e)&&(e.data.hide=!1)}),this.state=CKEDITOR.DIALOG_STATE_IDLE,d.onCancel&&this.on("cancel",function(e){!1===d.onCancel.call(this,e)&&(e.data.hide=!1)});var T=this,C=function(e){var t,n=T._.contents;for(t in n)for(var o in n[t])if(e.call(this,n[t][o]))return};this.on("ok",function(e){C(function(t){if(t.validate){var n=t.validate(this),o="string"==typeof n||!1===n;return o&&(e.data.hide=!1,e.stop()),(function(e,t){var n=this.getInputElement();n&&(e?n.removeAttribute("aria-invalid"):n.setAttribute("aria-invalid",!0)),e||(this.select?this.select():this.focus()),t&&alert(t),this.fire("validated",{valid:e,msg:t})}).call(t,!o,"string"==typeof n?n:void 0),o}})},this,null,0),this.on("cancel",function(e){C(function(n){if(n.isChanged())return t.config.dialog_noConfirmCancel||confirm(t.lang.common.confirmCancel)||(e.data.hide=!1),!0})},this,null,0),this.parts.close.on("click",function(e){!1!==this.fire("cancel",{hide:!0}).hide&&this.hide(),e.data.preventDefault()},this),this.changeFocus=r;var y=this._.element;for(t.focusManager.add(y,1),this.on("show",function(){y.on("keydown",s,this),CKEDITOR.env.gecko&&y.on("keypress",l,this)}),this.on("hide",function(){y.removeListener("keydown",s),CKEDITOR.env.gecko&&y.removeListener("keypress",l),C(function(e){(function(){var e=this.getInputElement();e&&e.removeAttribute("aria-invalid")}).apply(e)})}),this.on("iframeAdded",function(e){new CKEDITOR.dom.document(e.data.iframe.$.contentWindow.document).on("keydown",s,this,null,0)}),this.on("show",function(){!function(){var e=T._.focusList;e.sort(function(e,t){return e.tabIndex!=t.tabIndex?t.tabIndex-e.tabIndex:e.focusIndex-t.focusIndex});for(var t=e.length,n=0;n<t;n++)e[n].focusIndex=n}();var e=1<T._.pageCount;t.config.dialog_startupFocusTab&&e?(T._.tabBarMode=!0,T._.tabs[T._.currentTabId][0].focus(),T._.currentFocusIndex=-1):this._.hasFocus||(this._.currentFocusIndex=e?-1:this._.focusList.length-1,d.onFocus?(e=d.onFocus.call(this))&&e.focus():r(1))},this,null,4294967295),CKEDITOR.env.ie6Compat&&this.on("load",function(){var e=this.getElement(),t=e.getFirst();t.remove(),t.appendTo(e)},this),i(this),a(this),new CKEDITOR.dom.text(d.title,CKEDITOR.document).appendTo(this.parts.title),g=0;g<d.contents.length;g++)(E=d.contents[g])&&this.addPage(E);for(this.parts.tabs.on("click",function(e){var t=e.data.getTarget();t.hasClass("cke_dialog_tab")&&(this.selectPage((t=t.$.id).substring(4,t.lastIndexOf("_"))),this._.tabBarMode&&(this._.tabBarMode=!1,this._.currentFocusIndex=-1,r(1)),e.data.preventDefault())},this),g=[],E=CKEDITOR.dialog._.uiElementBuilders.hbox.build(this,{type:"hbox",className:"cke_dialog_footer_buttons",widths:[],children:d.buttons},g).getChild(),this.parts.footer.setHtml(g.join("")),g=0;g<E.length;g++)this._.buttons[E[g].id]=E[g]},CKEDITOR.dialog.prototype={destroy:function(){this.hide(),this._.element.remove()},resize:function(e,t){this._.contentSize&&this._.contentSize.width==e&&this._.contentSize.height==t||(CKEDITOR.dialog.fire("resize",{dialog:this,width:e,height:t},this._.editor),this.fire("resize",{width:e,height:t},this._.editor),this.parts.contents.setStyles({width:e+"px",height:t+"px"}),"rtl"==this._.editor.lang.dir&&this._.position&&(this._.position.x=CKEDITOR.document.getWindow().getViewPaneSize().width-this._.contentSize.width-parseInt(this._.element.getFirst().getStyle("right"),10)),this._.contentSize={width:e,height:t})},getSize:function(){var e=this._.element.getFirst();return{width:e.$.offsetWidth||0,height:e.$.offsetHeight||0}},move:function(e,t,n){var o=this._.element.getFirst(),r="rtl"==this._.editor.lang.dir,i="fixed"==o.getComputedStyle("position");CKEDITOR.env.ie&&o.setStyle("zoom","100%"),i&&this._.position&&this._.position.x==e&&this._.position.y==t||(this._.position={x:e,y:t},i||(e+=(i=CKEDITOR.document.getWindow().getScrollPosition()).x,t+=i.y),r&&(i=this.getSize(),e=CKEDITOR.document.getWindow().getViewPaneSize().width-i.width-e),(t={top:(0<t?t:0)+"px"})[r?"right":"left"]=(0<e?e:0)+"px",o.setStyles(t),n&&(this._.moved=1))},getPosition:function(){return CKEDITOR.tools.extend({},this._.position)},show:function(){var e=this._.element,t=this.definition;for(var n in e.getParent()&&e.getParent().equals(CKEDITOR.document.getBody())?e.setStyle("display","block"):e.appendTo(CKEDITOR.document.getBody()),this.resize(this._.contentSize&&this._.contentSize.width||t.width||t.minWidth,this._.contentSize&&this._.contentSize.height||t.height||t.minHeight),this.reset(),null===this._.currentTabId&&this.selectPage(this.definition.contents[0].id),null===CKEDITOR.dialog._.currentZIndex&&(CKEDITOR.dialog._.currentZIndex=this._.editor.config.baseFloatZIndex),this._.element.getFirst().setStyle("z-index",CKEDITOR.dialog._.currentZIndex+=10),null===CKEDITOR.dialog._.currentTop?(CKEDITOR.dialog._.currentTop=this,this._.parentDialog=null,l(this._.editor)):(this._.parentDialog=CKEDITOR.dialog._.currentTop,this._.parentDialog.getElement().getFirst().$.style.zIndex-=Math.floor(this._.editor.config.baseFloatZIndex/2),CKEDITOR.dialog._.currentTop=this),e.on("keydown",y),e.on("keyup",b),this._.hasFocus=!1,t.contents)if(t.contents[n]){var o=this._.tabs[(e=t.contents[n]).id],r=e.requiredContent,i=0;if(o){for(var a in this._.contents[e.id]){var s=this._.contents[e.id][a];"hbox"!=s.type&&"vbox"!=s.type&&s.getInputElement()&&(s.requiredContent&&!this._.editor.activeFilter.check(s.requiredContent)?s.disable():(s.enable(),i++))}!i||r&&!this._.editor.activeFilter.check(r)?o[0].addClass("cke_dialog_tab_disabled"):o[0].removeClass("cke_dialog_tab_disabled")}}CKEDITOR.tools.setTimeout(function(){this.layout(),function(e){function t(){e.layout()}var n=CKEDITOR.document.getWindow();n.on("resize",t),e.on("hide",function(){n.removeListener("resize",t)})}(this),this.parts.dialog.setStyle("visibility",""),this.fireOnce("load",{}),CKEDITOR.ui.fire("ready",this),this.fire("show",{}),this._.editor.fire("dialogShow",this),this._.parentDialog||this._.editor.focusManager.lock(),this.foreach(function(e){e.setInitValue&&e.setInitValue()})},100,this)},layout:function(){var e=this.parts.dialog,t=this.getSize(),n=CKEDITOR.document.getWindow().getViewPaneSize(),o=(n.width-t.width)/2,r=(n.height-t.height)/2;CKEDITOR.env.ie6Compat||e.setStyle("position",t.height+(0<r?r:0)>n.height||t.width+(0<o?o:0)>n.width?"absolute":"fixed"),this.move(this._.moved?this._.position.x:o,this._.moved?this._.position.y:r)},foreach:function(e){for(var t in this._.contents)for(var n in this._.contents[t])e.call(this,this._.contents[t][n]);return this},reset:function(){var e=function(e){e.reset&&e.reset(1)};return function(){return this.foreach(e),this}}(),setupContent:function(){var e=arguments;this.foreach(function(t){t.setup&&t.setup.apply(t,e)})},commitContent:function(){var e=arguments;this.foreach(function(t){CKEDITOR.env.ie&&this._.currentFocusIndex==t.focusIndex&&t.getInputElement().$.blur(),t.commit&&t.commit.apply(t,e)})},hide:function(){if(this.parts.dialog.isVisible()){this.fire("hide",{}),this._.editor.fire("dialogHide",this),this.selectPage(this._.tabIdList[0]);var e=this._.element;for(e.setStyle("display","none"),this.parts.dialog.setStyle("visibility","hidden"),O(this);CKEDITOR.dialog._.currentTop!=this;)CKEDITOR.dialog._.currentTop.hide();if(this._.parentDialog){var t=this._.parentDialog.getElement().getFirst();t.setStyle("z-index",parseInt(t.$.style.zIndex,10)+Math.floor(this._.editor.config.baseFloatZIndex/2))}else u(this._.editor);if(CKEDITOR.dialog._.currentTop=this._.parentDialog)CKEDITOR.dialog._.currentZIndex-=10;else{CKEDITOR.dialog._.currentZIndex=null,e.removeListener("keydown",y),e.removeListener("keyup",b);var n=this._.editor;n.focus(),setTimeout(function(){n.focusManager.unlock(),CKEDITOR.env.iOS&&n.window.focus()},0)}delete this._.parentDialog,this.foreach(function(e){e.resetInitValue&&e.resetInitValue()}),this.setState(CKEDITOR.DIALOG_STATE_IDLE)}},addPage:function(e){if(!e.requiredContent||this._.editor.filter.check(e.requiredContent)){for(var t=[],n=e.label?' title="'+CKEDITOR.tools.htmlEncode(e.label)+'"':"",o=CKEDITOR.dialog._.uiElementBuilders.vbox.build(this,{type:"vbox",className:"cke_dialog_page_contents",children:e.elements,expand:!!e.expand,padding:e.padding,style:e.style||"width: 100%;"},t),r=this._.contents[e.id]={},i=o.getChild(),a=0;o=i.shift();)o.notAllowed||"hbox"==o.type||"vbox"==o.type||a++,r[o.id]=o,"function"==typeof o.getChild&&i.push.apply(i,o.getChild());a||(e.hidden=!0),(t=CKEDITOR.dom.element.createFromHtml(t.join(""))).setAttribute("role","tabpanel"),o=CKEDITOR.env,r="cke_"+e.id+"_"+CKEDITOR.tools.getNextNumber(),n=CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"',0<this._.pageCount?" cke_last":"cke_first",n,e.hidden?' style="display:none"':"",' id="',r,'"',o.gecko&&!o.hc?"":' href="javascript:void(0)"',' tabIndex="-1" hidefocus="true" role="tab">',e.label,"</a>"].join("")),t.setAttribute("aria-labelledby",r),this._.tabs[e.id]=[n,t],this._.tabIdList.push(e.id),!e.hidden&&this._.pageCount++,this._.lastTab=n,this.updateStyle(),t.setAttribute("name",e.id),t.appendTo(this.parts.contents),n.unselectable(),this.parts.tabs.append(n),e.accessKey&&(I(this,this,"CTRL+"+e.accessKey,_,D),this._.accessKeyMap["CTRL+"+e.accessKey]=e.id)}},selectPage:function(e){if(this._.currentTabId!=e&&!this._.tabs[e][0].hasClass("cke_dialog_tab_disabled")&&!1!==this.fire("selectPage",{page:e,currentPage:this._.currentTabId})){for(var n in this._.tabs){var o=this._.tabs[n][1];n!=e&&(this._.tabs[n][0].removeClass("cke_dialog_tab_selected"),o.hide()),o.setAttribute("aria-hidden",n!=e)}var r=this._.tabs[e];r[0].addClass("cke_dialog_tab_selected"),CKEDITOR.env.ie6Compat||CKEDITOR.env.ie7Compat?(t(r[1]),r[1].show(),setTimeout(function(){t(r[1],1)},0)):r[1].show(),this._.currentTabId=e,this._.currentTabIndex=CKEDITOR.tools.indexOf(this._.tabIdList,e)}},updateStyle:function(){this.parts.dialog[(1===this._.pageCount?"add":"remove")+"Class"]("cke_single_page")},hidePage:function(t){var n=this._.tabs[t]&&this._.tabs[t][0];n&&1!=this._.pageCount&&n.isVisible()&&(t==this._.currentTabId&&this.selectPage(e.call(this)),n.hide(),this._.pageCount--,this.updateStyle())},showPage:function(e){(e=this._.tabs[e]&&this._.tabs[e][0])&&(e.show(),this._.pageCount++,this.updateStyle())},getElement:function(){return this._.element},getName:function(){return this._.name},getContentElement:function(e,t){var n=this._.contents[e];return n&&n[t]},getValueOf:function(e,t){return this.getContentElement(e,t).getValue()},setValueOf:function(e,t,n){return this.getContentElement(e,t).setValue(n)},getButton:function(e){return this._.buttons[e]},click:function(e){return this._.buttons[e].click()},disableButton:function(e){return this._.buttons[e].disable()},enableButton:function(e){return this._.buttons[e].enable()},getPageCount:function(){return this._.pageCount},getParentEditor:function(){return this._.editor},getSelectedElement:function(){return this.getParentEditor().getSelection().getSelectedElement()},addFocusable:function(e,t){if(void 0===t)this._.focusList.push(new o(this,e,t=this._.focusList.length));else{this._.focusList.splice(t,0,new o(this,e,t));for(var n=t+1;n<this._.focusList.length;n++)this._.focusList[n].focusIndex++}},setState:function(e){if(this.state!=e){if(this.state=e,e==CKEDITOR.DIALOG_STATE_BUSY){if(!this.parts.spinner){var t=this.getParentEditor().lang.dir,n={attributes:{class:"cke_dialog_spinner"},styles:{float:"rtl"==t?"right":"left"}};n.styles["margin-"+("rtl"==t?"left":"right")]="8px",this.parts.spinner=CKEDITOR.document.createElement("div",n),this.parts.spinner.setHtml("&#8987;"),this.parts.spinner.appendTo(this.parts.title,1)}this.parts.spinner.show(),this.getButton("ok").disable()}else e==CKEDITOR.DIALOG_STATE_IDLE&&(this.parts.spinner&&this.parts.spinner.hide(),this.getButton("ok").enable());this.fire("state",e)}}},CKEDITOR.tools.extend(CKEDITOR.dialog,{add:function(e,t){this._.dialogDefinitions[e]&&"function"!=typeof t||(this._.dialogDefinitions[e]=t)},exists:function(e){return!!this._.dialogDefinitions[e]},getCurrent:function(){return CKEDITOR.dialog._.currentTop},isTabEnabled:function(e,t,n){return!((e=e.config.removeDialogTabs)&&e.match(new RegExp("(?:^|;)"+t+":"+n+"(?:$|;)","i")))},okButton:function(){var e=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"ok",type:"button",label:e.lang.common.ok,class:"cke_dialog_ui_button_ok",onClick:function(e){!1!==(e=e.data.dialog).fire("ok",{hide:!0}).hide&&e.hide()}},t,!0)};return e.type="button",e.override=function(t){return CKEDITOR.tools.extend(function(n){return e(n,t)},{type:"button"},!0)},e}(),cancelButton:function(){var e=function(e,t){return t=t||{},CKEDITOR.tools.extend({id:"cancel",type:"button",label:e.lang.common.cancel,class:"cke_dialog_ui_button_cancel",onClick:function(e){!1!==(e=e.data.dialog).fire("cancel",{hide:!0}).hide&&e.hide()}},t,!0)};return e.type="button",e.override=function(t){return CKEDITOR.tools.extend(function(n){return e(n,t)},{type:"button"},!0)},e}(),addUIElement:function(e,t){this._.uiElementBuilders[e]=t}}),CKEDITOR.dialog._={uiElementBuilders:{},dialogDefinitions:{},currentTop:null,currentZIndex:null},CKEDITOR.event.implementOn(CKEDITOR.dialog),CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);var h={resizable:CKEDITOR.DIALOG_RESIZE_BOTH,minWidth:600,minHeight:400,buttons:[CKEDITOR.dialog.okButton,CKEDITOR.dialog.cancelButton]},f=function(e,t,n){for(var o,r=0;o=e[r];r++)if(o.id==t||n&&o[n]&&(o=f(o[n],t,n)))return o;return null},p=function(e,t,n,o,r){if(n){for(var i,a=0;i=e[a];a++){if(i.id==n)return e.splice(a,0,t),t;if(o&&i[o]&&(i=p(i[o],t,n,o,!0)))return i}if(r)return null}return e.push(t),t},g=function(e,t,n){for(var o,r=0;o=e[r];r++){if(o.id==t)return e.splice(r,1);if(n&&o[n]&&(o=g(o[n],t,n)))return o}return null},m=function(e,t){this.dialog=e;for(var n,o=t.contents,i=0;n=o[i];i++)o[i]=n&&new r(e,n);CKEDITOR.tools.extend(this,t)};m.prototype={getContents:function(e){return f(this.contents,e)},getButton:function(e){return f(this.buttons,e)},addContents:function(e,t){return p(this.contents,e,t)},addButton:function(e,t){return p(this.buttons,e,t)},removeContents:function(e){g(this.contents,e)},removeButton:function(e){g(this.buttons,e)}},r.prototype={get:function(e){return f(this.elements,e,"children")},add:function(e,t){return p(this.elements,e,t,"children")},remove:function(e){g(this.elements,e,"children")}};var E,v,T={},C={},y=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,o=e.data.$.shiftKey,r=String.fromCharCode(e.data.$.keyCode);(t=C[(t?"CTRL+":"")+(n?"ALT+":"")+(o?"SHIFT+":"")+r])&&t.length&&((t=t[t.length-1]).keydown&&t.keydown.call(t.uiElement,t.dialog,t.key),e.data.preventDefault())},b=function(e){var t=e.data.$.ctrlKey||e.data.$.metaKey,n=e.data.$.altKey,o=e.data.$.shiftKey,r=String.fromCharCode(e.data.$.keyCode);(t=C[(t?"CTRL+":"")+(n?"ALT+":"")+(o?"SHIFT+":"")+r])&&t.length&&(t=t[t.length-1]).keyup&&(t.keyup.call(t.uiElement,t.dialog,t.key),e.data.preventDefault())},I=function(e,t,n,o,r){(C[n]||(C[n]=[])).push({uiElement:e,dialog:t,key:n,keyup:r||e.accessKeyUp,keydown:o||e.accessKeyDown})},O=function(e){for(var t in C){for(var n=C[t],o=n.length-1;0<=o;o--)n[o].dialog!=e&&n[o].uiElement!=e||n.splice(o,1);0===n.length&&delete C[t]}},D=function(e,t){e._.accessKeyMap[t]&&e.selectPage(e._.accessKeyMap[t])},_=function(){};CKEDITOR.ui.dialog={uiElement:function(e,t,n,o,r,i,a){if(!(4>arguments.length)){var s=(o.call?o(t):o)||"div",l=["<",s," "],u=(r&&r.call?r(t):r)||{},c=(i&&i.call?i(t):i)||{},d=(a&&a.call?a.call(this,e,t):a)||"",h=this.domId=c.id||CKEDITOR.tools.getNextId()+"_uiElement";t.requiredContent&&!e.getParentEditor().filter.check(t.requiredContent)&&(u.display="none",this.notAllowed=!0),c.id=h;var f={};t.type&&(f["cke_dialog_ui_"+t.type]=1),t.className&&(f[t.className]=1),t.disabled&&(f.cke_disabled=1);var p=c.class&&c.class.split?c.class.split(" "):[];for(h=0;h<p.length;h++)p[h]&&(f[p[h]]=1);for(h in p=[],f)p.push(h);for(h in c.class=p.join(" "),t.title&&(c.title=t.title),f=(t.style||"").split(";"),t.align&&(u["margin-left"]="left"==(p=t.align)?0:"auto",u["margin-right"]="right"==p?0:"auto"),u)f.push(h+":"+u[h]);for(t.hidden&&f.push("display:none"),h=f.length-1;0<=h;h--)""===f[h]&&f.splice(h,1);for(h in 0<f.length&&(c.style=(c.style?c.style+"; ":"")+f.join("; ")),c)l.push(h+'="'+CKEDITOR.tools.htmlEncode(c[h])+'" ');l.push(">",d,"</",s,">"),n.push(l.join("")),(this._||(this._={})).dialog=e,"boolean"==typeof t.isChanged&&(this.isChanged=function(){return t.isChanged}),"function"==typeof t.isChanged&&(this.isChanged=t.isChanged),"function"==typeof t.setValue&&(this.setValue=CKEDITOR.tools.override(this.setValue,function(e){return function(n){e.call(this,t.setValue.call(this,n))}})),"function"==typeof t.getValue&&(this.getValue=CKEDITOR.tools.override(this.getValue,function(e){return function(){return t.getValue.call(this,e.call(this))}})),CKEDITOR.event.implementOn(this),this.registerEvents(t),this.accessKeyUp&&this.accessKeyDown&&t.accessKey&&I(this,e,"CTRL+"+t.accessKey);var g=this;e.on("load",function(){var t=g.getInputElement();if(t){var n=g.type in{checkbox:1,ratio:1}&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?"cke_dialog_ui_focused":"";t.on("focus",function(){e._.tabBarMode=!1,e._.hasFocus=!0,g.fire("focus"),n&&this.addClass(n)}),t.on("blur",function(){g.fire("blur"),n&&this.removeClass(n)})}}),CKEDITOR.tools.extend(this,t),this.keyboardFocusable&&(this.tabIndex=t.tabIndex||0,this.focusIndex=e._.focusList.push(this)-1,this.on("focus",function(){e._.currentFocusIndex=g.focusIndex}))}},hbox:function(e,t,n,o,r){if(!(4>arguments.length)){this._||(this._={});var i,a=this._.children=t,s=r&&r.widths||null,l=r&&r.height||null,u={role:"presentation"};r&&r.align&&(u.align=r.align),CKEDITOR.ui.dialog.uiElement.call(this,e,r||{type:"hbox"},o,"table",{},u,function(){var e=['<tbody><tr class="cke_dialog_ui_hbox">'];for(i=0;i<n.length;i++){var t="cke_dialog_ui_hbox_child",o=[];0===i&&(t="cke_dialog_ui_hbox_first"),i==n.length-1&&(t="cke_dialog_ui_hbox_last"),e.push('<td class="',t,'" role="presentation" '),s?s[i]&&o.push("width:"+c(s[i])):o.push("width:"+Math.floor(100/n.length)+"%"),l&&o.push("height:"+c(l)),r&&void 0!==r.padding&&o.push("padding:"+c(r.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&a[i].align&&o.push("text-align:"+a[i].align),0<o.length&&e.push('style="'+o.join("; ")+'" '),e.push(">",n[i],"</td>")}return e.push("</tr></tbody>"),e.join("")})}},vbox:function(e,t,n,o,r){if(!(3>arguments.length)){this._||(this._={});var i=this._.children=t,a=r&&r.width||null,s=r&&r.heights||null;CKEDITOR.ui.dialog.uiElement.call(this,e,r||{type:"vbox"},o,"div",null,{role:"presentation"},function(){var t=['<table role="presentation" cellspacing="0" border="0" '];t.push('style="'),r&&r.expand&&t.push("height:100%;"),t.push("width:"+c(a||"100%"),";"),CKEDITOR.env.webkit&&t.push("float:none;"),t.push('"'),t.push('align="',CKEDITOR.tools.htmlEncode(r&&r.align||("ltr"==e.getParentEditor().lang.dir?"left":"right")),'" '),t.push("><tbody>");for(var o=0;o<n.length;o++){var l=[];t.push('<tr><td role="presentation" '),a&&l.push("width:"+c(a||"100%")),s?l.push("height:"+c(s[o])):r&&r.expand&&l.push("height:"+Math.floor(100/n.length)+"%"),r&&void 0!==r.padding&&l.push("padding:"+c(r.padding)),CKEDITOR.env.ie&&CKEDITOR.env.quirks&&i[o].align&&l.push("text-align:"+i[o].align),0<l.length&&t.push('style="',l.join("; "),'" '),t.push(' class="cke_dialog_ui_vbox_child">',n[o],"</td></tr>")}return t.push("</tbody></table>"),t.join("")})}}},CKEDITOR.ui.dialog.uiElement.prototype={getElement:function(){return CKEDITOR.document.getById(this.domId)},getInputElement:function(){return this.getElement()},getDialog:function(){return this._.dialog},setValue:function(e,t){return this.getInputElement().setValue(e),!t&&this.fire("change",{value:e}),this},getValue:function(){return this.getInputElement().getValue()},isChanged:function(){return!1},selectParentTab:function(){for(var e=this.getInputElement();(e=e.getParent())&&-1==e.$.className.search("cke_dialog_page_contents"););return e?(e=e.getAttribute("name"),this._.dialog._.currentTabId!=e&&this._.dialog.selectPage(e),this):this},focus:function(){return this.selectParentTab().getInputElement().focus(),this},registerEvents:function(e){var t,n,o=/^on([A-Z]\w+)/,r=function(e,t,n,o){t.on("load",function(){e.getInputElement().on(n,o,e)})};for(n in e)(t=n.match(o))&&(this.eventProcessors[n]?this.eventProcessors[n].call(this,this._.dialog,e[n]):r(this,this._.dialog,t[1].toLowerCase(),e[n]));return this},eventProcessors:{onLoad:function(e,t){e.on("load",t,this)},onShow:function(e,t){e.on("show",t,this)},onHide:function(e,t){e.on("hide",t,this)}},accessKeyDown:function(){this.focus()},accessKeyUp:function(){},disable:function(){var e=this.getElement();this.getInputElement().setAttribute("disabled","true"),e.addClass("cke_disabled")},enable:function(){var e=this.getElement();this.getInputElement().removeAttribute("disabled"),e.removeClass("cke_disabled")},isEnabled:function(){return!this.getElement().hasClass("cke_disabled")},isVisible:function(){return this.getInputElement().isVisible()},isFocusable:function(){return!(!this.isEnabled()||!this.isVisible())}},CKEDITOR.ui.dialog.hbox.prototype=CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement,{getChild:function(e){return 1>arguments.length?this._.children.concat():(e.splice||(e=[e]),2>e.length?this._.children[e[0]]:this._.children[e[0]]&&this._.children[e[0]].getChild?this._.children[e[0]].getChild(e.slice(1,e.length)):null)}},!0),CKEDITOR.ui.dialog.vbox.prototype=new CKEDITOR.ui.dialog.hbox,function(){var e={build:function(e,t,n){for(var o,r=t.children,i=[],a=[],s=0;s<r.length&&(o=r[s]);s++){var l=[];i.push(l),a.push(CKEDITOR.dialog._.uiElementBuilders[o.type].build(e,o,l))}return new CKEDITOR.ui.dialog[t.type](e,a,i,n,t)}};CKEDITOR.dialog.addUIElement("hbox",e),CKEDITOR.dialog.addUIElement("vbox",e)}(),CKEDITOR.dialogCommand=function(e,t){this.dialogName=e,CKEDITOR.tools.extend(this,t,!0)},CKEDITOR.dialogCommand.prototype={exec:function(e){var t=this.tabId;e.openDialog(this.dialogName,function(e){t&&e.selectPage(t)})},canUndo:!1,editorFocus:1},function(){var e=/^([a]|[^a])+$/,t=/^\d*$/,n=/^\d*(?:\.\d+)?$/,o=/^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,r=/^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,i=/^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;CKEDITOR.VALIDATE_OR=1,CKEDITOR.VALIDATE_AND=2,CKEDITOR.dialog.validate={functions:function(){var e=arguments;return function(){var t,n,o=this&&this.getValue?this.getValue():e[0],r=CKEDITOR.VALIDATE_AND,i=[];for(n=0;n<e.length&&"function"==typeof e[n];n++)i.push(e[n]);n<e.length&&"string"==typeof e[n]&&(t=e[n],n++),n<e.length&&"number"==typeof e[n]&&(r=e[n]);var a=r==CKEDITOR.VALIDATE_AND;for(n=0;n<i.length;n++)a=r==CKEDITOR.VALIDATE_AND?a&&i[n](o):a||i[n](o);return!!a||t}},regex:function(e,t){return function(n){return n=this&&this.getValue?this.getValue():n,!!e.test(n)||t}},notEmpty:function(t){return this.regex(e,t)},integer:function(e){return this.regex(t,e)},number:function(e){return this.regex(n,e)},cssLength:function(e){return this.functions(function(e){return r.test(CKEDITOR.tools.trim(e))},e)},htmlLength:function(e){return this.functions(function(e){return o.test(CKEDITOR.tools.trim(e))},e)},inlineStyle:function(e){return this.functions(function(e){return i.test(CKEDITOR.tools.trim(e))},e)},equals:function(e,t){return this.functions(function(t){return t==e},t)},notEqual:function(e,t){return this.functions(function(t){return t!=e},t)}},CKEDITOR.on("instanceDestroyed",function(e){if(CKEDITOR.tools.isEmpty(CKEDITOR.instances)){for(var t;t=CKEDITOR.dialog._.currentTop;)t.hide();for(var n in T)T[n].remove();T={}}for(var o in e=e.editor._.storedDialogs)e[o].destroy()})}(),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{openDialog:function(e,t){var n=null,o=CKEDITOR.dialog._.dialogDefinitions[e];if(null===CKEDITOR.dialog._.currentTop&&l(this),"function"==typeof o)n=(n=this._.storedDialogs||(this._.storedDialogs={}))[e]||(n[e]=new CKEDITOR.dialog(this,e)),t&&t.call(n,n),n.show();else{if("failed"==o)throw u(this),Error('[CKEDITOR.dialog.openDialog] Dialog "'+e+'" failed when loading definition.');"string"==typeof o&&CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(o),function(){"function"!=typeof CKEDITOR.dialog._.dialogDefinitions[e]&&(CKEDITOR.dialog._.dialogDefinitions[e]="failed"),this.openDialog(e,t)},this,0,1)}return CKEDITOR.skin.loadPart("dialog"),n}})}(),CKEDITOR.plugins.add("dialog",{requires:"dialogui",init:function(e){e.on("doubleclick",function(t){t.data.dialog&&e.openDialog(t.data.dialog)},null,null,999)}}),CKEDITOR.plugins.add("a11yhelp",{requires:"dialog",availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fo:1,fr:1,"fr-ca":1,gl:1,gu:1,he:1,hi:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,mk:1,mn:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sr:1,"sr-latn":1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},init:function(e){var t=this;e.addCommand("a11yHelp",{exec:function(){var n=t.availableLangs[n=e.langCode]?n:t.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+n+".js"),function(){e.lang.a11yhelp=t.langEntries[n],e.openDialog("a11yHelp")})},modes:{wysiwyg:1,source:1},readOnly:1,canUndo:!1}),e.setKeystroke(CKEDITOR.ALT+48,"a11yHelp"),CKEDITOR.dialog.add("a11yHelp",this.path+"dialogs/a11yhelp.js"),e.on("ariaEditorHelpLabel",function(t){t.data.label=e.lang.common.editorHelp})}}),CKEDITOR.plugins.add("about",{requires:"dialog",init:function(e){var t=e.addCommand("about",new CKEDITOR.dialogCommand("about"));t.modes={wysiwyg:1,source:1},t.canUndo=!1,t.readOnly=1,e.ui.addButton&&e.ui.addButton("About",{label:e.lang.about.dlgTitle,command:"about",toolbar:"about"}),CKEDITOR.dialog.add("about",this.path+"dialogs/about.js")}}),CKEDITOR.plugins.add("basicstyles",{init:function(e){var t=0,n=function(n,r,i,a){if(a){a=new CKEDITOR.style(a);var s=o[i];s.unshift(a),e.attachStyleStateChange(a,function(t){!e.readOnly&&e.getCommand(i).setState(t)}),e.addCommand(i,new CKEDITOR.styleCommand(a,{contentForms:s})),e.ui.addButton&&e.ui.addButton(n,{label:r,command:i,toolbar:"basicstyles,"+(t+=10)})}},o={bold:["strong","b",["span",function(e){return"bold"==(e=e.styles["font-weight"])||700<=+e}]],italic:["em","i",["span",function(e){return"italic"==e.styles["font-style"]}]],underline:["u",["span",function(e){return"underline"==e.styles["text-decoration"]}]],strike:["s","strike",["span",function(e){return"line-through"==e.styles["text-decoration"]}]],subscript:["sub"],superscript:["sup"]},r=e.config,i=e.lang.basicstyles;n("Bold",i.bold,"bold",r.coreStyles_bold),n("Italic",i.italic,"italic",r.coreStyles_italic),n("Underline",i.underline,"underline",r.coreStyles_underline),n("Strike",i.strike,"strike",r.coreStyles_strike),n("Subscript",i.subscript,"subscript",r.coreStyles_subscript),n("Superscript",i.superscript,"superscript",r.coreStyles_superscript),e.setKeystroke([[CKEDITOR.CTRL+66,"bold"],[CKEDITOR.CTRL+73,"italic"],[CKEDITOR.CTRL+85,"underline"]])}}),CKEDITOR.config.coreStyles_bold={element:"strong",overrides:"b"},CKEDITOR.config.coreStyles_italic={element:"em",overrides:"i"},CKEDITOR.config.coreStyles_underline={element:"u"},CKEDITOR.config.coreStyles_strike={element:"s",overrides:"strike"},CKEDITOR.config.coreStyles_subscript={element:"sub"},CKEDITOR.config.coreStyles_superscript={element:"sup"},function(){var e={exec:function(e){var t=e.getCommand("blockquote").state,n=e.getSelection(),o=n&&n.getRanges()[0];if(o){var r=n.createBookmarks();if(CKEDITOR.env.ie){var i,a=r[0].startNode,s=r[0].endNode;if(a&&"blockquote"==a.getParent().getName())for(i=a;i=i.getNext();)if(i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()){a.move(i,!0);break}if(s&&"blockquote"==s.getParent().getName())for(i=s;i=i.getPrevious();)if(i.type==CKEDITOR.NODE_ELEMENT&&i.isBlockBoundary()){s.move(i);break}}if((l=o.createIterator()).enlargeBr=e.config.enterMode!=CKEDITOR.ENTER_BR,t==CKEDITOR.TRISTATE_OFF){for(a=[];t=l.getNextParagraph();)a.push(t);for(1>a.length&&(t=e.document.createElement(e.config.enterMode==CKEDITOR.ENTER_P?"p":"div"),s=r.shift(),o.insertNode(t),t.append(new CKEDITOR.dom.text("\ufeff",e.document)),o.moveToBookmark(s),o.selectNodeContents(t),o.collapse(!0),s=o.createBookmark(),a.push(t),r.unshift(s)),i=a[0].getParent(),o=[],s=0;s<a.length;s++)i=i.getCommonAncestor((t=a[s]).getParent());for(t={table:1,tbody:1,tr:1,ol:1,ul:1};t[i.getName()];)i=i.getParent();for(s=null;0<a.length;){for(t=a.shift();!t.getParent().equals(i);)t=t.getParent();t.equals(s)||o.push(t),s=t}for(;0<o.length;)if("blockquote"==(t=o.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(e.document);t.getFirst();)s.append(t.getFirst().remove()),a.push(s.getLast());s.replace(t)}else a.push(t);for((o=e.document.createElement("blockquote")).insertBefore(a[0]);0<a.length;)t=a.shift(),o.append(t)}else if(t==CKEDITOR.TRISTATE_ON){for(s=[],i={};t=l.getNextParagraph();){for(a=o=null;t.getParent();){if("blockquote"==t.getParent().getName()){o=t.getParent(),a=t;break}t=t.getParent()}o&&a&&!a.getCustomData("blockquote_moveout")&&(s.push(a),CKEDITOR.dom.element.setMarker(i,a,"blockquote_moveout",!0))}for(CKEDITOR.dom.element.clearAllMarkers(i),t=[],a=[],i={};0<s.length;)o=(l=s.shift()).getParent(),l.getPrevious()?l.getNext()?(l.breakParent(l.getParent()),a.push(l.getNext())):l.remove().insertAfter(o):l.remove().insertBefore(o),o.getCustomData("blockquote_processed")||(a.push(o),CKEDITOR.dom.element.setMarker(i,o,"blockquote_processed",!0)),t.push(l);for(CKEDITOR.dom.element.clearAllMarkers(i),s=a.length-1;0<=s;s--){e:{for(var l=0,u=(i=o=a[s]).getChildCount(),c=void 0;l<u&&(c=i.getChild(l));l++)if(c.type==CKEDITOR.NODE_ELEMENT&&c.isBlockBoundary()){i=!1;break e}i=!0}i&&o.remove()}if(e.config.enterMode==CKEDITOR.ENTER_BR)for(o=!0;t.length;)if("div"==(l=t.shift()).getName()){for(s=new CKEDITOR.dom.documentFragment(e.document),!o||!l.getPrevious()||l.getPrevious().type==CKEDITOR.NODE_ELEMENT&&l.getPrevious().isBlockBoundary()||s.append(e.document.createElement("br")),o=l.getNext()&&!(l.getNext().type==CKEDITOR.NODE_ELEMENT&&l.getNext().isBlockBoundary());l.getFirst();)l.getFirst().remove().appendTo(s);o&&s.append(e.document.createElement("br")),s.replace(l),o=!1}}n.selectBookmarks(r),e.focus()}},refresh:function(e,t){this.setState(e.elementPath(t.block||t.blockLimit).contains("blockquote",1)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)},context:"blockquote",allowedContent:"blockquote",requiredContent:"blockquote"};CKEDITOR.plugins.add("blockquote",{init:function(t){t.blockless||(t.addCommand("blockquote",e),t.ui.addButton&&t.ui.addButton("Blockquote",{label:t.lang.blockquote.toolbar,command:"blockquote",toolbar:"blocks,10"}))}})}(),function(){function e(e,t){CKEDITOR.tools.extend(this,t,{editor:e,id:"cke-"+CKEDITOR.tools.getUniqueId(),area:e._.notificationArea}),t.type||(this.type="info"),this.element=this._createElement(),e.plugins.clipboard&&CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)}function t(e){var t=this;this.editor=e,this.notifications=[],this.element=this._createElement(),this._uiBuffer=CKEDITOR.tools.eventsBuffer(10,this._layout,this),this._changeBuffer=CKEDITOR.tools.eventsBuffer(500,this._layout,this),e.on("destroy",function(){t._removeListeners(),t.element.remove()})}CKEDITOR.plugins.add("notification",{init:function(e){e._.notificationArea=new t(e),e.showNotification=function(t,n,o){var r,i;return"progress"==n?r=o:i=o,(t=new CKEDITOR.plugins.notification(e,{message:t,type:n,progress:r,duration:i})).show(),t},e.on("key",function(t){if(27==t.data.keyCode){var n=e._.notificationArea.notifications;n.length&&(function(e){var t=new CKEDITOR.dom.element("div");t.setStyles({position:"fixed","margin-left":"-9999px"}),t.setAttributes({"aria-live":"assertive","aria-atomic":"true"}),t.setText(e),CKEDITOR.document.getBody().append(t),setTimeout(function(){t.remove()},100)}(e.lang.notification.closed),n[n.length-1].hide(),t.cancel())}})}}),e.prototype={show:function(){!1!==this.editor.fire("notificationShow",{notification:this})&&(this.area.add(this),this._hideAfterTimeout())},update:function(e){var t=!0;!1===this.editor.fire("notificationUpdate",{notification:this,options:e})&&(t=!1);var n=this.element,o=n.findOne(".cke_notification_message"),r=n.findOne(".cke_notification_progress"),i=e.type;n.removeAttribute("role"),e.progress&&"progress"!=this.type&&(i="progress"),i&&(n.removeClass(this._getClass()),n.removeAttribute("aria-label"),this.type=i,n.addClass(this._getClass()),n.setAttribute("aria-label",this.type),"progress"!=this.type||r?"progress"!=this.type&&r&&r.remove():(r=this._createProgressElement()).insertBefore(o)),void 0!==e.message&&(this.message=e.message,o.setHtml(this.message)),void 0!==e.progress&&(this.progress=e.progress,r&&r.setStyle("width",this._getPercentageProgress())),t&&e.important&&(n.setAttribute("role","alert"),this.isVisible()||this.area.add(this)),this.duration=e.duration,this._hideAfterTimeout()},hide:function(){!1!==this.editor.fire("notificationHide",{notification:this})&&this.area.remove(this)},isVisible:function(){return 0<=CKEDITOR.tools.indexOf(this.area.notifications,this)},_createElement:function(){var e,t,n=this,o=this.editor.lang.common.close;return(e=new CKEDITOR.dom.element("div")).addClass("cke_notification"),e.addClass(this._getClass()),e.setAttributes({id:this.id,role:"alert","aria-label":this.type}),"progress"==this.type&&e.append(this._createProgressElement()),(t=new CKEDITOR.dom.element("p")).addClass("cke_notification_message"),t.setHtml(this.message),e.append(t),t=CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="'+o+'" role="button" tabindex="-1"><span class="cke_label">X</span></a>'),e.append(t),t.on("click",function(){n.editor.focus(),n.hide()}),e},_getClass:function(){return"progress"==this.type?"cke_notification_info":"cke_notification_"+this.type},_createProgressElement:function(){var e=new CKEDITOR.dom.element("span");return e.addClass("cke_notification_progress"),e.setStyle("width",this._getPercentageProgress()),e},_getPercentageProgress:function(){return Math.round(100*(this.progress||0))+"%"},_hideAfterTimeout:function(){var e,t=this;this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),"number"==typeof this.duration?e=this.duration:"info"!=this.type&&"success"!=this.type||(e="number"==typeof this.editor.config.notification_duration?this.editor.config.notification_duration:5e3),e&&(t._hideTimeoutId=setTimeout(function(){t.hide()},e))}},t.prototype={add:function(e){this.notifications.push(e),this.element.append(e.element),1==this.element.getChildCount()&&(CKEDITOR.document.getBody().append(this.element),this._attachListeners()),this._layout()},remove:function(e){var t=CKEDITOR.tools.indexOf(this.notifications,e);0>t||(this.notifications.splice(t,1),e.element.remove(),this.element.getChildCount()||(this._removeListeners(),this.element.remove()))},_createElement:function(){var e=this.editor,t=e.config,n=new CKEDITOR.dom.element("div");return n.addClass("cke_notifications_area"),n.setAttribute("id","cke_notifications_area_"+e.name),n.setStyle("z-index",t.baseFloatZIndex-2),n},_attachListeners:function(){var e=CKEDITOR.document.getWindow(),t=this.editor;e.on("scroll",this._uiBuffer.input),e.on("resize",this._uiBuffer.input),t.on("change",this._changeBuffer.input),t.on("floatingSpaceLayout",this._layout,this,null,20),t.on("blur",this._layout,this,null,20)},_removeListeners:function(){var e=CKEDITOR.document.getWindow(),t=this.editor;e.removeListener("scroll",this._uiBuffer.input),e.removeListener("resize",this._uiBuffer.input),t.removeListener("change",this._changeBuffer.input),t.removeListener("floatingSpaceLayout",this._layout),t.removeListener("blur",this._layout)},_layout:function(){function e(){r.setStyle("left",g(m+a.width-u-c))}var t,n,o,r=this.element,i=this.editor,a=i.ui.contentsElement.getClientRect(),s=i.ui.contentsElement.getDocumentPosition(),l=r.getClientRect(),u=this._notificationWidth,c=this._notificationMargin,d=(o=CKEDITOR.document.getWindow()).getScrollPosition(),h=o.getViewPaneSize(),f=CKEDITOR.document.getBody(),p=f.getDocumentPosition(),g=CKEDITOR.tools.cssLength;u&&c||(o=this.element.getChild(0),u=this._notificationWidth=o.getClientRect().width,c=this._notificationMargin=parseInt(o.getComputedStyle("margin-left"),10)+parseInt(o.getComputedStyle("margin-right"),10)),i.toolbar&&(n=(t=i.ui.space("top")).getClientRect()),t&&t.isVisible()&&n.bottom>a.top&&n.bottom<a.bottom-l.height?r.setStyles({position:"fixed",top:g(n.bottom)}):r.setStyles(0<a.top?{position:"absolute",top:g(s.y)}:s.y+a.height-l.height>d.y?{position:"fixed",top:0}:{position:"absolute",top:g(s.y+a.height-l.height)});var m="fixed"==r.getStyle("position")?a.left:"static"!=f.getComputedStyle("position")?s.x-p.x:s.x;a.width<u+c?s.x+u+c>d.x+h.width?e():r.setStyle("left",g(m)):s.x+u+c>d.x+h.width?r.setStyle("left",g(m)):s.x+a.width/2+u/2+c>d.x+h.width?r.setStyle("left",g(m-s.x+d.x+h.width-u-c)):0>a.left+a.width-u-c?e():r.setStyle("left",g(0>a.left+a.width/2-u/2?m-s.x+d.x:m+a.width/2-u/2-c/2))}},CKEDITOR.plugins.notification=e}(),function(){var e='<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"'),e=(e=e+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"')+'>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcut}</span>{arrowHtml}</a>';var t=CKEDITOR.addTemplate("buttonArrow",'<span class="cke_button_arrow">'+(CKEDITOR.env.hc?"&#9660;":"")+"</span>"),n=CKEDITOR.addTemplate("button",e);CKEDITOR.plugins.add("button",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_BUTTON,CKEDITOR.ui.button.handler)}}),CKEDITOR.UI_BUTTON="button",CKEDITOR.ui.button=function(e){CKEDITOR.tools.extend(this,e,{title:e.label,click:e.click||function(t){t.execCommand(e.command)}}),this._={}},CKEDITOR.ui.button.handler={create:function(e){return new CKEDITOR.ui.button(e)}},CKEDITOR.ui.button.prototype={render:function(e,o){function r(){var t=e.mode;t&&(t=this.modes[t]?void 0!==l[t]?l[t]:CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,t=e.readOnly&&!this.readOnly?CKEDITOR.TRISTATE_DISABLED:t,this.setState(t),this.refresh&&this.refresh())}var i,a,s,l=null,u=CKEDITOR.env,c=this._.id=CKEDITOR.tools.getNextId(),d="",h=this.command;this._.editor=e;var f,p={id:c,button:this,editor:e,focus:function(){CKEDITOR.document.getById(c).focus()},execute:function(){this.button.click(e)},attach:function(e){this.button.attach(e)}},g=CKEDITOR.tools.addFunction(function(e){if(p.onkey)return e=new CKEDITOR.dom.event(e),!1!==p.onkey(p,e.getKeystroke())}),m=CKEDITOR.tools.addFunction(function(e){var t;return p.onfocus&&(t=!1!==p.onfocus(p,new CKEDITOR.dom.event(e))),t}),E=0;p.clickFn=i=CKEDITOR.tools.addFunction(function(){E&&(e.unlockSelection(1),E=0),p.execute(),u.iOS&&e.focus()}),this.modes?(l={},e.on("beforeModeUnload",function(){e.mode&&this._.state!=CKEDITOR.TRISTATE_DISABLED&&(l[e.mode]=this._.state)},this),e.on("activeFilterChange",r,this),e.on("mode",r,this),!this.readOnly&&e.on("readOnly",r,this)):h&&(h=e.getCommand(h))&&(h.on("state",function(){this.setState(h.state)},this),d+=h.state==CKEDITOR.TRISTATE_ON?"on":h.state==CKEDITOR.TRISTATE_DISABLED?"disabled":"off"),this.directional&&e.on("contentDirChanged",function(t){var n=CKEDITOR.document.getById(this._.id),o=n.getFirst();(t=t.data)!=e.lang.dir?n.addClass("cke_"+t):n.removeClass("cke_ltr").removeClass("cke_rtl"),o.setAttribute("style",CKEDITOR.skin.getIconStyle(f,"rtl"==t,this.icon,this.iconOffset))},this),h?(a=e.getCommandKeystroke(h))&&(s=CKEDITOR.tools.keystrokeToString(e.lang.common.keyboard,a)):d+="off";var v=null,T=this.icon;return f=a=this.name||this.command,this.icon&&!/\./.test(this.icon)?(f=this.icon,T=null):(this.icon&&(v=this.icon),CKEDITOR.env.hidpi&&this.iconHiDpi&&(v=this.iconHiDpi)),v?(CKEDITOR.skin.addIcon(v,v),T=null):v=f,d={id:c,name:a,iconName:f,label:this.label,cls:this.className||"",state:d,ariaDisabled:"disabled"==d?"true":"false",title:this.title+(s?" ("+s.display+")":""),ariaShortcut:s?e.lang.common.keyboardShortcut+" "+s.aria:"",titleJs:u.gecko&&!u.hc?"":(this.title||"").replace("'",""),hasArrow:this.hasArrow?"true":"false",keydownFn:g,focusFn:m,clickFn:i,style:CKEDITOR.skin.getIconStyle(v,"rtl"==e.lang.dir,T,this.iconOffset),arrowHtml:this.hasArrow?t.output():""},n.output(d,o),this.onRender&&this.onRender(),p},setState:function(e){if(this._.state==e)return!1;this._.state=e;var t=CKEDITOR.document.getById(this._.id);return!!t&&(t.setState(e,"cke_button"),e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),this.hasArrow?(e=e==CKEDITOR.TRISTATE_ON?this._.editor.lang.button.selectedLabel.replace(/%1/g,this.label):this.label,CKEDITOR.document.getById(this._.id+"_label").setText(e)):e==CKEDITOR.TRISTATE_ON?t.setAttribute("aria-pressed",!0):t.removeAttribute("aria-pressed"),!0)},getState:function(){return this._.state},toFeature:function(e){if(this._.feature)return this._.feature;var t=this;return this.allowedContent||this.requiredContent||!this.command||(t=e.getCommand(this.command)||t),this._.feature=t}},CKEDITOR.ui.prototype.addButton=function(e,t){this.add(e,CKEDITOR.UI_BUTTON,t)}}(),function(){function e(e){function n(t,n){if(n.length){t.items?t.items.push(e.ui.create("-")):t.items=[];for(var r;r=n.shift();)r="string"==typeof r?r:r.name,o&&-1!=CKEDITOR.tools.indexOf(o,r)||(r=e.ui.create(r))&&e.addFeature(r)&&t.items.push(r)}}var o=(o=e.config.removeButtons)&&o.split(","),r=e.config.toolbar;return"string"==typeof r&&(r=e.config["toolbar_"+r]),e.toolbar=r?function(e){var t,o,r,i=[];for(t=0;t<e.length;++t)r={},"/"==(o=e[t])?i.push(o):CKEDITOR.tools.isArray(o)?(n(r,CKEDITOR.tools.clone(o)),i.push(r)):o.items&&(n(r,CKEDITOR.tools.clone(o.items)),r.name=o.name,i.push(r));return i}(r):function(){for(var o=function(){var t,n,o,r={};for(t in e.ui.items)o=(o=(n=e.ui.items[t]).toolbar||"others").split(","),n=o[0],o=parseInt(o[1]||-1,10),r[n]||(r[n]=[]),r[n].push({name:t,order:o});for(n in r)r[n]=r[n].sort(function(e,t){return e.order==t.order?0:0>t.order?-1:0>e.order?1:e.order<t.order?-1:1});return r}(),r=CKEDITOR.tools.clone(e.config.toolbarGroups)||t(e),i=0;i<r.length;i++){var a=r[i];if("/"!=a){"string"==typeof a&&(a=r[i]={name:a});var s,l=a.groups;if(l)for(var u=0;u<l.length;u++)(s=o[s=l[u]])&&n(a,s);(s=o[a.name])&&n(a,s)}}return r}()}function t(e){return e._.toolbarGroups||(e._.toolbarGroups=[{name:"document",groups:["mode","document","doctools"]},{name:"clipboard",groups:["clipboard","undo"]},{name:"editing",groups:["find","selection","spellchecker"]},{name:"forms"},"/",{name:"basicstyles",groups:["basicstyles","cleanup"]},{name:"paragraph",groups:["list","indent","blocks","align","bidi"]},{name:"links"},{name:"insert"},"/",{name:"styles"},{name:"colors"},{name:"tools"},{name:"others"},{name:"about"}])}var n=function(){this.toolbars=[],this.focusCommandExecuted=!1};n.prototype.focus=function(){for(var e,t=0;e=this.toolbars[t++];)for(var n,o=0;n=e.items[o++];)if(n.focus)return void n.focus()};var o={modes:{wysiwyg:1,source:1},readOnly:1,exec:function(e){e.toolbox&&(e.toolbox.focusCommandExecuted=!0,CKEDITOR.env.ie||CKEDITOR.env.air?setTimeout(function(){e.toolbox.focus()},100):e.toolbox.focus())}};CKEDITOR.plugins.add("toolbar",{requires:"button",init:function(t){var r,i=function(e,n){var o,a=t.config.toolbarGroupCycling,s=(l="rtl"==t.lang.dir)?37:39,l=l?39:37;switch(a=void 0===a||a,n){case 9:case CKEDITOR.SHIFT+9:for(;!o||!o.items.length;)if((o=9==n?(o?o.next:e.toolbar.next)||t.toolbox.toolbars[0]:(o?o.previous:e.toolbar.previous)||t.toolbox.toolbars[t.toolbox.toolbars.length-1]).items.length)for(e=o.items[r?o.items.length-1:0];e&&!e.focus;)(e=r?e.previous:e.next)||(o=0);return e&&e.focus(),!1;case s:o=e;do{!(o=o.next)&&a&&(o=e.toolbar.items[0])}while(o&&!o.focus);return o?o.focus():i(e,9),!1;case 40:return e.button&&e.button.hasArrow?e.execute():i(e,40==n?s:l),!1;case l:case 38:o=e;do{!(o=o.previous)&&a&&(o=e.toolbar.items[e.toolbar.items.length-1])}while(o&&!o.focus);return o?o.focus():(r=1,i(e,CKEDITOR.SHIFT+9),r=0),!1;case 27:return t.focus(),!1;case 13:case 32:return e.execute(),!1}return!0};t.on("uiSpace",function(o){if(o.data.space==t.config.toolbarLocation){o.removeListener(),t.toolbox=new n;var r,a,s=['<span id="',l=CKEDITOR.tools.getNextId(),'" class="cke_voice_label">',t.lang.toolbar.toolbars,"</span>",'<span id="'+t.ui.spaceId("toolbox")+'" class="cke_toolbox" role="group" aria-labelledby="',l,'" onmousedown="return false;">'],l=!1!==t.config.toolbarStartupExpanded;t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE&&s.push('<span class="cke_toolbox_main"'+(l?">":' style="display:none">'));for(var u=t.toolbox.toolbars,c=e(t),d=c.length,h=0;h<d;h++){var f,p,g,m=0,E=c[h],v="/"!==E&&("/"===c[h+1]||h==d-1);if(E)if(r&&(s.push("</span>"),a=r=0),"/"===E)s.push('<span class="cke_toolbar_break"></span>');else{g=E.items||E;for(var T=0;T<g.length;T++){var C,y=g[T];if(y){var b=function(e){e=e.render(t,s),0<(I=m.items.push(e)-1)&&(e.previous=m.items[I-1],e.previous.next=e),e.toolbar=m,e.onkey=i,e.onfocus=function(){t.toolbox.focusCommandExecuted||t.focus()}};if(y.type==CKEDITOR.UI_SEPARATOR)a=r&&y;else{if(C=!1!==y.canGroup,!m){f=CKEDITOR.tools.getNextId(),m={id:f,items:[]},p=E.name&&(t.lang.toolbar.toolbarGroups[E.name]||E.name),s.push('<span id="',f,'" class="cke_toolbar'+(v?' cke_toolbar_last"':'"'),p?' aria-labelledby="'+f+'_label"':"",' role="toolbar">'),p&&s.push('<span id="',f,'_label" class="cke_voice_label">',p,"</span>"),s.push('<span class="cke_toolbar_start"></span>');var I=u.push(m)-1;0<I&&(m.previous=u[I-1],m.previous.next=m)}C?r||(s.push('<span class="cke_toolgroup" role="presentation">'),r=1):r&&(s.push("</span>"),r=0),a&&(b(a),a=0),b(y)}}}r&&(s.push("</span>"),a=r=0),m&&s.push('<span class="cke_toolbar_end"></span></span>')}}if(t.config.toolbarCanCollapse&&s.push("</span>"),t.config.toolbarCanCollapse&&t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var O=CKEDITOR.tools.addFunction(function(){t.execCommand("toolbarCollapse")});t.on("destroy",function(){CKEDITOR.tools.removeFunction(O)}),t.addCommand("toolbarCollapse",{readOnly:1,exec:function(e){var t=e.ui.space("toolbar_collapser"),n=t.getPrevious(),o=e.ui.space("contents"),r=n.getParent(),i=parseInt(o.$.style.height,10),a=r.$.offsetHeight,s=t.hasClass("cke_toolbox_collapser_min");s?(n.show(),t.removeClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarCollapse)):(n.hide(),t.addClass("cke_toolbox_collapser_min"),t.setAttribute("title",e.lang.toolbar.toolbarExpand)),t.getFirst().setText(s?"\u25b2":"\u25c0"),o.setStyle("height",i-(r.$.offsetHeight-a)+"px"),e.fire("resize",{outerHeight:e.container.$.offsetHeight,contentsHeight:o.$.offsetHeight,outerWidth:e.container.$.offsetWidth})},modes:{wysiwyg:1,source:1}}),t.setKeystroke(CKEDITOR.ALT+(CKEDITOR.env.ie||CKEDITOR.env.webkit?189:109),"toolbarCollapse"),s.push('<a title="'+(l?t.lang.toolbar.toolbarCollapse:t.lang.toolbar.toolbarExpand)+'" id="'+t.ui.spaceId("toolbar_collapser")+'" tabIndex="-1" class="cke_toolbox_collapser'),l||s.push(" cke_toolbox_collapser_min"),s.push('" onclick="CKEDITOR.tools.callFunction('+O+')">','<span class="cke_arrow">&#9650;</span>',"</a>")}s.push("</span>"),o.data.html+=s.join("")}}),t.on("destroy",function(){if(this.toolbox){var e,t,n,o,r=0;for(e=this.toolbox.toolbars;r<e.length;r++)for(n=e[r].items,t=0;t<n.length;t++)(o=n[t]).clickFn&&CKEDITOR.tools.removeFunction(o.clickFn),o.keyDownFn&&CKEDITOR.tools.removeFunction(o.keyDownFn)}}),t.on("uiReady",function(){var e=t.ui.space("toolbox");e&&t.focusManager.add(e,1)}),t.addCommand("toolbarFocus",o),t.setKeystroke(CKEDITOR.ALT+121,"toolbarFocus"),t.ui.add("-",CKEDITOR.UI_SEPARATOR,{}),t.ui.addHandler(CKEDITOR.UI_SEPARATOR,{create:function(){return{render:function(e,t){return t.push('<span class="cke_toolbar_separator" role="separator"></span>'),{}}}}})}}),CKEDITOR.ui.prototype.addToolbarGroup=function(e,n,o){var r=t(this.editor),i=0===n,a={name:e};if(o){if(o=CKEDITOR.tools.search(r,function(e){return e.name==o}))return!o.groups&&(o.groups=[]),n&&0<=(n=CKEDITOR.tools.indexOf(o.groups,n))?void o.groups.splice(n+1,0,e):void(i?o.groups.splice(0,0,e):o.groups.push(e));n=null}n&&(n=CKEDITOR.tools.indexOf(r,function(e){return e.name==n})),i?r.splice(0,0,e):"number"==typeof n?r.splice(n+1,0,a):r.push(e)}}(),CKEDITOR.UI_SEPARATOR="separator",CKEDITOR.config.toolbarLocation="top",function(){function e(e,t,n){return t.type||(t.type="auto"),!(n&&!1===e.fire("beforePaste",t)||!t.dataValue&&t.dataTransfer.isEmpty())&&(t.dataValue||(t.dataValue=""),CKEDITOR.env.gecko&&"drop"==t.method&&e.toolbox&&e.once("afterPaste",function(){e.toolbox.focus()}),e.fire("paste",t))}function t(t){function n(){var e,n=t.editable();if(CKEDITOR.plugins.clipboard.isCustomCopyCutSupported){var o=function(e){t.getSelection().isCollapsed()||(t.readOnly&&"cut"==e.name||p.initPasteDataTransfer(e,t),e.data.preventDefault())};n.on("copy",o),n.on("cut",o),n.on("cut",function(){t.readOnly||t.extractSelectedHtml()},null,null,999)}n.on(p.mainPasteEvent,function(e){"beforepaste"==p.mainPasteEvent&&g||d(e)}),"beforepaste"==p.mainPasteEvent&&(n.on("paste",function(e){m||(i(),e.data.preventDefault(),d(e),s("paste"))}),n.on("contextmenu",a,null,null,0),n.on("beforepaste",function(e){!e.data||e.data.$.ctrlKey||e.data.$.shiftKey||a()},null,null,0)),n.on("beforecut",function(){!g&&l()}),n.attachListener(CKEDITOR.env.ie?n:t.document.getDocumentElement(),"mouseup",function(){e=setTimeout(function(){h()},0)}),t.on("destroy",function(){clearTimeout(e)}),n.on("keyup",h)}function o(e){return{type:e,canUndo:"cut"==e,startDisabled:!0,fakeKeystroke:"cut"==e?CKEDITOR.CTRL+88:CKEDITOR.CTRL+67,exec:function(){var e;"cut"==this.type&&l();var n=this.type;if(CKEDITOR.env.ie)e=s(n);else try{e=t.document.$.execCommand(n,!1,null)}catch(t){e=!1}return e||t.showNotification(t.lang.clipboard[this.type+"Error"]),e}}}function r(){return{canUndo:!1,async:!0,fakeKeystroke:CKEDITOR.CTRL+86,exec:function(t,n){function o(n,o){o=void 0===o||o,n?(n.method="paste",n.dataTransfer||(n.dataTransfer=p.initPasteDataTransfer()),e(t,n,o)):i&&!t._.forcePasteDialog&&t.showNotification(l,"info",t.config.clipboard_notificationDuration),t._.forcePasteDialog=!1,t.fire("afterCommandExec",{name:"paste",command:r,returnValue:!!n})}var r=this,i=void 0===(n=void 0!==n&&null!==n?n:{}).notification||n.notification,a=n.type,s=CKEDITOR.tools.keystrokeToString(t.lang.common.keyboard,t.getCommandKeystroke(this)),l="string"==typeof i?i:t.lang.clipboard.pasteNotification.replace(/%1/,'<kbd aria-label="'+s.aria+'">'+s.display+"</kbd>");s="string"==typeof n?n:n.dataValue,a&&!0!==t.config.forcePasteAsPlainText&&"allow-word"!==t.config.forcePasteAsPlainText?t._.nextPasteType=a:delete t._.nextPasteType,"string"==typeof s?o({dataValue:s}):t.getClipboardData(o)}}}function i(){m=1,setTimeout(function(){m=0},100)}function a(){g=1,setTimeout(function(){g=0},10)}function s(e){var n=t.document,o=n.getBody(),r=!1,i=function(){r=!0};return o.on(e,i),7<CKEDITOR.env.version?n.$.execCommand(e):n.$.selection.createRange().execCommand(e),o.removeListener(e,i),r}function l(){if(CKEDITOR.env.ie&&!CKEDITOR.env.quirks){var e,n,o,r=t.getSelection();r.getType()==CKEDITOR.SELECTION_ELEMENT&&(e=r.getSelectedElement())&&(n=r.getRanges()[0],(o=t.document.createText("")).insertBefore(e),n.setStartBefore(o),n.setEndAfter(e),r.selectRanges([n]),setTimeout(function(){e.getParent()&&(o.remove(),r.selectElement(e))},0))}}function u(){if("paste"==p.mainPasteEvent)return t.fire("beforePaste",{type:"auto",method:"paste"}),!1;t.focus(),i();var e=t.focusManager;return e.lock(),t.editable().fire(p.mainPasteEvent)&&!s("paste")?(e.unlock(),!1):(e.unlock(),!0)}function c(e){if("wysiwyg"==t.mode)switch(e.data.keyCode){case CKEDITOR.CTRL+86:case CKEDITOR.SHIFT+45:e=t.editable(),i(),"paste"==p.mainPasteEvent&&e.fire("beforepaste");break;case CKEDITOR.CTRL+88:case CKEDITOR.SHIFT+46:t.fire("saveSnapshot"),setTimeout(function(){t.fire("saveSnapshot")},50)}}function d(n){var o={type:"auto",method:"paste",dataTransfer:p.initPasteDataTransfer(n)};o.dataTransfer.cacheData();var r=!1!==t.fire("beforePaste",o);r&&p.canClipboardApiBeTrusted(o.dataTransfer,t)?(n.data.preventDefault(),setTimeout(function(){e(t,o)},0)):function(e,n){var o,r=t.document,i=t.editable(),a=function(e){e.cancel()};if(!r.getById("cke_pastebin")){var s=t.getSelection(),l=s.createBookmarks();CKEDITOR.env.ie&&s.root.fire("selectionchange");var u=new CKEDITOR.dom.element(!CKEDITOR.env.webkit&&!i.is("body")||CKEDITOR.env.ie?"div":"body",r);u.setAttributes({id:"cke_pastebin","data-cke-temp":"1"});var c=0;r=r.getWindow(),CKEDITOR.env.webkit?(i.append(u),u.addClass("cke_editable"),i.is("body")||(c=(c="static"!=i.getComputedStyle("position")?i:CKEDITOR.dom.element.get(i.$.offsetParent)).getDocumentPosition().y)):i.getAscendant(CKEDITOR.env.ie?"body":"html",1).append(u),u.setStyles({position:"absolute",top:r.getScrollPosition().y-c+10+"px",width:"1px",height:Math.max(1,r.getViewPaneSize().height-20)+"px",overflow:"hidden",margin:0,padding:0}),CKEDITOR.env.safari&&u.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select","text")),(c=u.getParent().isReadOnly())?(u.setOpacity(0),u.setAttribute("contenteditable",!0)):u.setStyle("ltr"==t.config.contentsLangDirection?"left":"right","-10000px"),t.on("selectionChange",a,null,null,0),(CKEDITOR.env.webkit||CKEDITOR.env.gecko)&&(o=i.once("blur",a,null,null,-100)),c&&u.focus(),(c=new CKEDITOR.dom.range(u)).selectNodeContents(u);var d=c.select();CKEDITOR.env.ie&&(o=i.once("blur",function(){t.lockSelection(d)}));var h=CKEDITOR.document.getWindow().getScrollPosition().y;setTimeout(function(){var e;CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=h),o&&o.removeListener(),CKEDITOR.env.ie&&i.focus(),s.selectBookmarks(l),u.remove(),CKEDITOR.env.webkit&&(e=u.getFirst())&&e.is&&e.hasClass("Apple-style-span")&&(u=e),t.removeListener("selectionChange",a),n(u.getHtml())},0)}}(0,function(n){o.dataValue=n.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi,""),r&&e(t,o)})}function h(){if("wysiwyg"==t.mode){var e=f("paste");t.getCommand("cut").setState(f("cut")),t.getCommand("copy").setState(f("copy")),t.getCommand("paste").setState(e),t.fire("pasteState",e)}}function f(e){if(E&&e in{paste:1,cut:1})return CKEDITOR.TRISTATE_DISABLED;if("paste"==e)return CKEDITOR.TRISTATE_OFF;var n=(e=t.getSelection()).getRanges();return e.getType()==CKEDITOR.SELECTION_NONE||1==n.length&&n[0].collapsed?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_OFF}var p=CKEDITOR.plugins.clipboard,g=0,m=0,E=0;!function(){if(t.on("key",c),t.on("contentDom",n),t.on("selectionChange",function(e){E=e.data.selection.getRanges()[0].checkReadOnly(),h()}),t.contextMenu){t.contextMenu.addListener(function(e,t){return E=t.getRanges()[0].checkReadOnly(),{cut:f("cut"),copy:f("copy"),paste:f("paste")}});var e=null;t.on("menuShow",function(){e&&(e.removeListener(),e=null);var n=t.contextMenu.findItemByCommandName("paste");n&&n.element&&(e=n.element.on("touchend",function(){t._.forcePasteDialog=!0}))})}t.ui.addButton&&t.once("instanceReady",function(){t._.pasteButtons&&CKEDITOR.tools.array.forEach(t._.pasteButtons,function(e){(e=t.ui.get(e))&&CKEDITOR.document.getById(e._.id).on("touchend",function(){t._.forcePasteDialog=!0})})})}(),function(){function e(e,n,o,r,i){var a=t.lang.clipboard[n];t.addCommand(n,o),t.ui.addButton&&t.ui.addButton(e,{label:a,command:n,toolbar:"clipboard,"+r}),t.addMenuItems&&t.addMenuItem(n,{label:a,command:n,group:"clipboard",order:i})}e("Cut","cut",o("cut"),10,1),e("Copy","copy",o("copy"),20,4),e("Paste","paste",r(),30,8),t._.pasteButtons||(t._.pasteButtons=[]),t._.pasteButtons.push("Paste")}(),t.getClipboardData=function(e,n){function o(e){e.removeListener(),e.cancel(),n(e.data)}function r(e){e.removeListener(),e.cancel(),n({type:a,dataValue:e.data.dataValue,dataTransfer:e.data.dataTransfer,method:"paste"})}var i=!1,a="auto";n||(n=e,e=null),t.on("beforePaste",function(e){e.removeListener(),i=!0,a=e.data.type},null,null,1e3),t.on("paste",o,null,null,0),!1===u()&&(t.removeListener("paste",o),t._.forcePasteDialog&&i&&t.fire("pasteDialog")?(t.on("pasteDialogCommit",r),t.on("dialogHide",function(e){e.removeListener(),e.data.removeListener("pasteDialogCommit",r),e.data._.committed||n(null)})):n(null))}}function n(e,t,n){t=CKEDITOR.htmlParser.fragment.fromHtml(t);var o=new CKEDITOR.htmlParser.basicWriter;return n.applyTo(t,!0,!1,e.activeEnterMode),t.writeHtml(o),o.getHtml()}function o(e){e.data.preventDefault(),e.data.$.dataTransfer.dropEffect="none"}function r(t){var n=CKEDITOR.plugins.clipboard;t.on("contentDom",function(){function o(n,o,r){o.select(),e(t,{dataTransfer:r,method:"drop"},1),r.sourceEditor.fire("saveSnapshot"),r.sourceEditor.editable().extractHtmlFromRange(n),r.sourceEditor.getSelection().selectRanges([n]),r.sourceEditor.fire("saveSnapshot")}function r(o,r){o.select(),e(t,{dataTransfer:r,method:"drop"},1),n.resetDragDataTransfer()}function i(e,n,o){var r={$:e.data.$,target:e.data.getTarget()};n&&(r.dragRange=n),o&&(r.dropRange=o),!1===t.fire(e.name,r)&&e.data.preventDefault()}function a(e){return e.type!=CKEDITOR.NODE_ELEMENT&&(e=e.getParent()),e.getChildCount()}var s=t.editable(),l=CKEDITOR.plugins.clipboard.getDropTarget(t),u=t.ui.space("top"),c=t.ui.space("bottom");n.preventDefaultDropOnElement(u),n.preventDefaultDropOnElement(c),s.attachListener(l,"dragstart",i),s.attachListener(t,"dragstart",n.resetDragDataTransfer,n,null,1),s.attachListener(t,"dragstart",function(e){n.initDragDataTransfer(e,t)},null,null,2),s.attachListener(t,"dragstart",function(){var e=n.dragRange=t.getSelection().getRanges()[0];CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(n.dragStartContainerChildCount=e?a(e.startContainer):null,n.dragEndContainerChildCount=e?a(e.endContainer):null)},null,null,100),s.attachListener(l,"dragend",i),s.attachListener(t,"dragend",n.initDragDataTransfer,n,null,1),s.attachListener(t,"dragend",n.resetDragDataTransfer,n,null,100),s.attachListener(l,"dragover",function(e){if(CKEDITOR.env.edge)e.data.preventDefault();else{var t=e.data.getTarget();t&&t.is&&t.is("html")?e.data.preventDefault():CKEDITOR.env.ie&&CKEDITOR.plugins.clipboard.isFileApiSupported&&e.data.$.dataTransfer.types.contains("Files")&&e.data.preventDefault()}}),s.attachListener(l,"drop",function(e){var o;e.data.$.defaultPrevented||(e.data.preventDefault(),(!(o=e.data.getTarget()).isReadOnly()||o.type==CKEDITOR.NODE_ELEMENT&&o.is("html"))&&(o=n.getRangeAtDropPosition(e,t))&&i(e,n.dragRange,o))},null,null,9999),s.attachListener(t,"drop",n.initDragDataTransfer,n,null,1),s.attachListener(t,"drop",function(e){if(e=e.data){var i=e.dropRange,a=e.dragRange,s=e.dataTransfer;s.getTransferType(t)==CKEDITOR.DATA_TRANSFER_INTERNAL?setTimeout(function(){n.internalDrop(a,i,s,t)},0):s.getTransferType(t)==CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?o(a,i,s):r(i,s)}},null,null,9999)})}var i;CKEDITOR.plugins.add("clipboard",{requires:"dialog,notification,toolbar",init:function(e){var o,i,a=(i={},{get:function(e){return"plain-text"==e?i.plainText||(i.plainText=new CKEDITOR.filter("br")):"semantic-content"==e?((e=i.semanticContent)||((e=new CKEDITOR.filter).allow({$1:{elements:function(){var e,t={};for(e in CKEDITOR.dtd)"$"!=e.charAt(0)&&"div"!=e&&"span"!=e&&(t[e]=1);return t}(),attributes:!0,styles:!1,classes:!1}}),e=i.semanticContent=e),e):e?new CKEDITOR.filter(e):null}});if(e.config.forcePasteAsPlainText?o="plain-text":e.config.pasteFilter?o=e.config.pasteFilter:!CKEDITOR.env.webkit||"pasteFilter"in e.config||(o="semantic-content"),e.pasteFilter=a.get(o),t(e),r(e),CKEDITOR.dialog.add("paste",CKEDITOR.getUrl(this.path+"dialogs/paste.js")),CKEDITOR.env.gecko){var s,l=["image/png","image/jpeg","image/gif"];e.on("paste",function(t){var n=t.data,o=n.dataTransfer;if(!n.dataValue&&"paste"==n.method&&o&&1==o.getFilesCount()&&s!=o.id&&(o=o.getFile(0),-1!=CKEDITOR.tools.indexOf(l,o.type))){var r=new FileReader;r.addEventListener("load",function(){t.data.dataValue='<img src="'+r.result+'" />',e.fire("paste",t.data)},!1),r.addEventListener("abort",function(){e.fire("paste",t.data)},!1),r.addEventListener("error",function(){e.fire("paste",t.data)},!1),r.readAsDataURL(o),s=n.dataTransfer.id,t.stop()}},null,null,1)}e.on("paste",function(t){if(t.data.dataTransfer||(t.data.dataTransfer=new CKEDITOR.plugins.clipboard.dataTransfer),!t.data.dataValue){var n=t.data.dataTransfer,o=n.getData("text/html");o?(t.data.dataValue=o,t.data.type="html"):(o=n.getData("text/plain"))&&(t.data.dataValue=e.editable().transformPlainTextToHtml(o),t.data.type="text")}},null,null,1),e.on("paste",function(e){var t=e.data.dataValue,n=CKEDITOR.dtd.$block;if(-1<t.indexOf("Apple-")&&(t=t.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi," "),"html"!=e.data.type&&(t=t.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi,function(e,t){return t.replace(/\t/g,"&nbsp;&nbsp; &nbsp;")})),-1<t.indexOf('<br class="Apple-interchange-newline">')&&(e.data.startsWithEOL=1,e.data.preSniffing="html",t=t.replace(/<br class="Apple-interchange-newline">/,"")),t=t.replace(/(<[^>]+) class="Apple-[^"]*"/gi,"$1")),t.match(/^<[^<]+cke_(editable|contents)/i)){var o,r,i=new CKEDITOR.dom.element("div");for(i.setHtml(t);1==i.getChildCount()&&(o=i.getFirst())&&o.type==CKEDITOR.NODE_ELEMENT&&(o.hasClass("cke_editable")||o.hasClass("cke_contents"));)i=r=o;r&&(t=r.getHtml().replace(/<br>$/i,""))}CKEDITOR.env.ie?t=t.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g,function(t,o){return o.toLowerCase()in n?(e.data.preSniffing="html","<"+o):t}):CKEDITOR.env.webkit?t=t.replace(/<\/(\w+)><div><br><\/div>$/,function(t,o){return o in n?(e.data.endsWithEOL=1,"</"+o+">"):t}):CKEDITOR.env.gecko&&(t=t.replace(/(\s)<br>$/,"$1")),e.data.dataValue=t},null,null,3),e.on("paste",function(t){t=t.data;var o,r=e._.nextPasteType||t.type,i=t.dataValue,s=e.config.clipboard_defaultContentType||"html",l=t.dataTransfer.getTransferType(e);o="html"==r||"html"==t.preSniffing?"html":function(e){if(CKEDITOR.env.webkit){if(!e.match(/^[^<]*$/g)&&!e.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))return"html"}else if(CKEDITOR.env.ie){if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi)&&!e.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))return"html"}else{if(!CKEDITOR.env.gecko)return"html";if(!e.match(/^([^<]|<br( ?\/)?>)*$/gi))return"html"}return"htmlifiedtext"}(i),delete e._.nextPasteType,"htmlifiedtext"==o&&(i=function(e,t){function n(e){return CKEDITOR.tools.repeat("</p><p>",~~(e/2))+(1==e%2?"<br>":"")}return(t=(t=t.replace(/\s+/g," ").replace(/> +</g,"><").replace(/<br ?\/>/gi,"<br>")).replace(/<\/?[A-Z]+>/g,function(e){return e.toLowerCase()})).match(/^[^<]$/)?t:(CKEDITOR.env.webkit&&-1<t.indexOf("<div>")&&((t=t.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g,"<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g,"<div></div>")).match(/<div>(<br>|)<\/div>/)&&(t="<p>"+t.replace(/(<div>(<br>|)<\/div>)+/g,function(e){return n(e.split("</div><div>").length+1)})+"</p>"),t=(t=t.replace(/<\/div><div>/g,"<br>")).replace(/<\/?div>/g,"")),CKEDITOR.env.gecko&&e.enterMode!=CKEDITOR.ENTER_BR&&(CKEDITOR.env.gecko&&(t=t.replace(/^<br><br>$/,"<br>")),-1<t.indexOf("<br><br>")&&(t="<p>"+t.replace(/(<br>){2,}/g,function(e){return n(e.length/4)})+"</p>")),function(e,t){return e.enterMode==CKEDITOR.ENTER_BR?t=t.replace(/(<\/p><p>)+/g,function(e){return CKEDITOR.tools.repeat("<br>",e.length/7*2)}).replace(/<\/?p>/g,""):e.enterMode==CKEDITOR.ENTER_DIV&&(t=t.replace(/<(\/)?p>/g,"<$1div>")),t}(e,t))}(e.config,i)),"text"==r&&"html"==o?i=n(e,i,a.get("plain-text")):l==CKEDITOR.DATA_TRANSFER_EXTERNAL&&e.pasteFilter&&!t.dontFilter&&(i=n(e,i,e.pasteFilter)),t.startsWithEOL&&(i='<br data-cke-eol="1">'+i),t.endsWithEOL&&(i+='<br data-cke-eol="1">'),"auto"==r&&(r="html"==o||"html"==s?"html":"text"),t.type=r,t.dataValue=i,delete t.preSniffing,delete t.startsWithEOL,delete t.endsWithEOL},null,null,6),e.on("paste",function(t){(t=t.data).dataValue&&(e.insertHtml(t.dataValue,t.type,t.range),setTimeout(function(){e.fire("afterPaste")},0))},null,null,1e3),e.on("pasteDialog",function(t){setTimeout(function(){e.openDialog("paste",t.data)},0)})}}),CKEDITOR.plugins.clipboard={isCustomCopyCutSupported:(!CKEDITOR.env.ie||16<=CKEDITOR.env.version)&&!CKEDITOR.env.iOS,isCustomDataTypesSupported:!CKEDITOR.env.ie||16<=CKEDITOR.env.version,isFileApiSupported:!CKEDITOR.env.ie||9<CKEDITOR.env.version,mainPasteEvent:CKEDITOR.env.ie&&!CKEDITOR.env.edge?"beforepaste":"paste",addPasteButton:function(e,t,n){e.ui.addButton&&(e.ui.addButton(t,n),e._.pasteButtons||(e._.pasteButtons=[]),e._.pasteButtons.push(t))},canClipboardApiBeTrusted:function(e,t){return!!(e.getTransferType(t)!=CKEDITOR.DATA_TRANSFER_EXTERNAL||CKEDITOR.env.chrome&&!e.isEmpty()||CKEDITOR.env.gecko&&(e.getData("text/html")||e.getFilesCount())||CKEDITOR.env.safari&&603<=CKEDITOR.env.version&&!CKEDITOR.env.iOS||CKEDITOR.env.edge&&16<=CKEDITOR.env.version)},getDropTarget:function(e){var t=e.editable();return CKEDITOR.env.ie&&9>CKEDITOR.env.version||t.isInline()?t:e.document},fixSplitNodesAfterDrop:function(e,t,n,o){function r(e,n,o){var r=e;if(r.type==CKEDITOR.NODE_TEXT&&(r=e.getParent()),r.equals(n)&&o!=n.getChildCount())return e=t.startContainer.getChild(t.startOffset-1),n=t.startContainer.getChild(t.startOffset),e&&e.type==CKEDITOR.NODE_TEXT&&n&&n.type==CKEDITOR.NODE_TEXT&&(o=e.getLength(),e.setText(e.getText()+n.getText()),n.remove(),t.setStart(e,o),t.collapse(!0)),!0}var i=t.startContainer;"number"==typeof o&&"number"==typeof n&&i.type==CKEDITOR.NODE_ELEMENT&&(r(e.startContainer,i,n)||r(e.endContainer,i,o))},isDropRangeAffectedByDragRange:function(e,t){var n=t.startContainer,o=t.endOffset;return!!(e.endContainer.equals(n)&&e.endOffset<=o||e.startContainer.getParent().equals(n)&&e.startContainer.getIndex()<o||e.endContainer.getParent().equals(n)&&e.endContainer.getIndex()<o)},internalDrop:function(t,n,o,r){var i,a,s=CKEDITOR.plugins.clipboard,l=r.editable();r.fire("saveSnapshot"),r.fire("lockSnapshot",{dontUpdate:1}),CKEDITOR.env.ie&&10>CKEDITOR.env.version&&this.fixSplitNodesAfterDrop(t,n,s.dragStartContainerChildCount,s.dragEndContainerChildCount),(a=this.isDropRangeAffectedByDragRange(t,n))||(i=t.createBookmark(!1)),s=n.clone().createBookmark(!1),a&&(i=t.createBookmark(!1)),t=i.startNode,a=s.startNode,(n=i.endNode)&&t.getPosition(a)&CKEDITOR.POSITION_PRECEDING&&n.getPosition(a)&CKEDITOR.POSITION_FOLLOWING&&a.insertBefore(t),(t=r.createRange()).moveToBookmark(i),l.extractHtmlFromRange(t,1),(n=r.createRange()).moveToBookmark(s),e(r,{dataTransfer:o,method:"drop",range:n},1),r.fire("unlockSnapshot")},getRangeAtDropPosition:function(e,t){var n=e.data.$,o=n.clientX,r=n.clientY,i=t.getSelection(!0).getRanges()[0],a=t.createRange();if(e.data.testRange)return e.data.testRange;if(document.caretRangeFromPoint&&t.document.$.caretRangeFromPoint(o,r))n=t.document.$.caretRangeFromPoint(o,r),a.setStart(CKEDITOR.dom.node(n.startContainer),n.startOffset),a.collapse(!0);else if(n.rangeParent)a.setStart(CKEDITOR.dom.node(n.rangeParent),n.rangeOffset),a.collapse(!0);else{if(CKEDITOR.env.ie&&8<CKEDITOR.env.version&&i&&t.editable().hasFocus)return i;if(!document.body.createTextRange)return null;t.focus(),n=t.document.getBody().$.createTextRange();try{for(var s=!1,l=0;20>l&&!s;l++){if(!s)try{n.moveToPoint(o,r-l),s=!0}catch(e){}if(!s)try{n.moveToPoint(o,r+l),s=!0}catch(e){}}if(s){var u="cke-temp-"+(new Date).getTime();n.pasteHTML('<span id="'+u+'">\u200b</span>');var c=t.document.getById(u);a.moveToPosition(c,CKEDITOR.POSITION_BEFORE_START),c.remove()}else{var d,h=t.document.$.elementFromPoint(o,r),f=new CKEDITOR.dom.element(h);if(f.equals(t.editable())||"html"==f.getName())return i&&i.startContainer&&!i.startContainer.equals(t.editable())?i:null;d=f.getClientRect(),a.setStartAt(f,o<d.left?CKEDITOR.POSITION_AFTER_START:CKEDITOR.POSITION_BEFORE_END),a.collapse(!0)}}catch(e){return null}}return a},initDragDataTransfer:function(e,t){var n=e.data.$?e.data.$.dataTransfer:null,o=new this.dataTransfer(n,t);"dragstart"===e.name&&o.storeId(),n?this.dragData&&o.id==this.dragData.id?o=this.dragData:this.dragData=o:this.dragData?o=this.dragData:this.dragData=o,e.data.dataTransfer=o},resetDragDataTransfer:function(){this.dragData=null},initPasteDataTransfer:function(e,t){if(this.isCustomCopyCutSupported){if(e&&e.data&&e.data.$){var n=e.data.$.clipboardData,o=new this.dataTransfer(n,t);return"copy"!==e.name&&"cut"!==e.name||o.storeId(),this.copyCutData&&o.id==this.copyCutData.id?(o=this.copyCutData).$=n:this.copyCutData=o,o}return new this.dataTransfer(null,t)}return new this.dataTransfer(CKEDITOR.env.edge&&e&&e.data.$&&e.data.$.clipboardData||null,t)},preventDefaultDropOnElement:function(e){e&&e.on("dragover",o)}},i=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?"cke/id":"Text",CKEDITOR.plugins.clipboard.dataTransfer=function(e,t){e&&(this.$=e),this._={metaRegExp:/^<meta.*?>/i,bodyRegExp:/<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,fragmentRegExp:/\x3c!--(?:Start|End)Fragment--\x3e/g,data:{},files:[],nativeHtmlCache:"",normalizeType:function(e){return"text"==(e=e.toLowerCase())||"text/plain"==e?"Text":"url"==e?"URL":e}},this._.fallbackDataTransfer=new CKEDITOR.plugins.clipboard.fallbackDataTransfer(this),this.id=this.getData(i),this.id||(this.id="Text"==i?"":"cke-"+CKEDITOR.tools.getUniqueId()),t&&(this.sourceEditor=t,this.setData("text/html",t.getSelectedHtml(1)),"Text"==i||this.getData("text/plain")||this.setData("text/plain",t.getSelection().getSelectedText()))},CKEDITOR.DATA_TRANSFER_INTERNAL=1,CKEDITOR.DATA_TRANSFER_CROSS_EDITORS=2,CKEDITOR.DATA_TRANSFER_EXTERNAL=3,CKEDITOR.plugins.clipboard.dataTransfer.prototype={getData:function(e,t){if(void 0===(o="text/html"==(e=this._.normalizeType(e))&&t?this._.nativeHtmlCache:this._.data[e])||null===o||""===o){if(this._.fallbackDataTransfer.isRequired())o=this._.fallbackDataTransfer.getData(e,t);else try{o=this.$.getData(e)||""}catch(e){o=""}"text/html"!=e||t||(o=this._stripHtml(o))}if("Text"==e&&CKEDITOR.env.gecko&&this.getFilesCount()&&"file://"==o.substring(0,7)&&(o=""),"string"==typeof o)var n=o.indexOf("</html>"),o=-1!==n?o.substring(0,n+7):o;return o},setData:function(e,t){if("text/html"==(e=this._.normalizeType(e))?(this._.data[e]=this._stripHtml(t),this._.nativeHtmlCache=t):this._.data[e]=t,CKEDITOR.plugins.clipboard.isCustomDataTypesSupported||"URL"==e||"Text"==e)if("Text"==i&&"Text"==e&&(this.id=t),this._.fallbackDataTransfer.isRequired())this._.fallbackDataTransfer.setData(e,t);else try{this.$.setData(e,t)}catch(e){}},storeId:function(){"Text"!==i&&this.setData(i,this.id)},getTransferType:function(e){return this.sourceEditor?this.sourceEditor==e?CKEDITOR.DATA_TRANSFER_INTERNAL:CKEDITOR.DATA_TRANSFER_CROSS_EDITORS:CKEDITOR.DATA_TRANSFER_EXTERNAL},cacheData:function(){function e(e){e=o._.normalizeType(e);var t=o.getData(e);"text/html"==e&&(o._.nativeHtmlCache=o.getData(e,!0),t=o._stripHtml(t)),t&&(o._.data[e]=t)}if(this.$){var t,n,o=this;if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(t=0;t<this.$.types.length;t++)e(this.$.types[t])}else e("Text"),e("URL");if(n=this._getImageFromClipboard(),this.$&&this.$.files||n){if(this._.files=[],this.$.files&&this.$.files.length)for(t=0;t<this.$.files.length;t++)this._.files.push(this.$.files[t]);0===this._.files.length&&n&&this._.files.push(n)}}},getFilesCount:function(){return this._.files.length?this._.files.length:this.$&&this.$.files&&this.$.files.length?this.$.files.length:this._getImageFromClipboard()?1:0},getFile:function(e){return this._.files.length?this._.files[e]:this.$&&this.$.files&&this.$.files.length?this.$.files[e]:0===e?this._getImageFromClipboard():void 0},isEmpty:function(){var e,t={};if(this.getFilesCount())return!1;if(CKEDITOR.tools.array.forEach(CKEDITOR.tools.objectKeys(this._.data),function(e){t[e]=1}),this.$)if(CKEDITOR.plugins.clipboard.isCustomDataTypesSupported){if(this.$.types)for(var n=0;n<this.$.types.length;n++)t[this.$.types[n]]=1}else t.Text=1,t.URL=1;for(e in"Text"!=i&&(t[i]=0),t)if(t[e]&&""!==this.getData(e))return!1;return!0},_getImageFromClipboard:function(){var e;if(this.$&&this.$.items&&this.$.items[0])try{if((e=this.$.items[0].getAsFile())&&e.type)return e}catch(e){}},_stripHtml:function(e){if(e&&e.length){e=e.replace(this._.metaRegExp,"");var t=this._.bodyRegExp.exec(e);t&&t.length&&(e=(e=t[1]).replace(this._.fragmentRegExp,""))}return e}},CKEDITOR.plugins.clipboard.fallbackDataTransfer=function(e){this._dataTransfer=e,this._customDataFallbackType="text/html"},CKEDITOR.plugins.clipboard.fallbackDataTransfer._isCustomMimeTypeSupported=null,CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes=[],CKEDITOR.plugins.clipboard.fallbackDataTransfer.prototype={isRequired:function(){var e=CKEDITOR.plugins.clipboard.fallbackDataTransfer,t=this._dataTransfer.$;if(null===e._isCustomMimeTypeSupported){if(!t)return!1;e._isCustomMimeTypeSupported=!1;try{t.setData("cke/mimetypetest","cke test value"),e._isCustomMimeTypeSupported="cke test value"===t.getData("cke/mimetypetest"),t.clearData("cke/mimetypetest")}catch(e){}}return!e._isCustomMimeTypeSupported},getData:function(e,t){var n,o=this._getData(this._customDataFallbackType,!0);return t?o:(o=this._extractDataComment(o),null!==(n=e===this._customDataFallbackType?o.content:o.data&&o.data[e]?o.data[e]:this._getData(e,!0))?n:"")},setData:function(e,t){(r=e===this._customDataFallbackType)&&(t=this._applyDataComment(t,this._getFallbackTypeData()));var n=t,o=this._dataTransfer.$;try{o.setData(e,n),r&&(this._dataTransfer._.nativeHtmlCache=n)}catch(t){if(this._isUnsupportedMimeTypeError(t)){r=CKEDITOR.plugins.clipboard.fallbackDataTransfer,-1===CKEDITOR.tools.indexOf(r._customTypes,e)&&r._customTypes.push(e);var r=this._getFallbackTypeContent(),i=this._getFallbackTypeData();i[e]=n;try{n=this._applyDataComment(r,i),o.setData(this._customDataFallbackType,n),this._dataTransfer._.nativeHtmlCache=n}catch(e){n=""}}}return n},_getData:function(e,t){var n=this._dataTransfer._.data;if(!t&&n[e])return n[e];try{return this._dataTransfer.$.getData(e)}catch(e){return null}},_getFallbackTypeContent:function(){var e=this._dataTransfer._.data[this._customDataFallbackType];return e||(e=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).content),e},_getFallbackTypeData:function(){var e=CKEDITOR.plugins.clipboard.fallbackDataTransfer._customTypes,t=this._extractDataComment(this._getData(this._customDataFallbackType,!0)).data||{},n=this._dataTransfer._.data;return CKEDITOR.tools.array.forEach(e,function(e){void 0!==n[e]?t[e]=n[e]:void 0!==t[e]&&(t[e]=t[e])},this),t},_isUnsupportedMimeTypeError:function(e){return e.message&&-1!==e.message.search(/element not found/gi)},_extractDataComment:function(e){var t,n={data:null,content:e||""};return e&&16<e.length&&(t=/\x3c!--cke-data:(.*?)--\x3e/g.exec(e))&&t[1]&&(n.data=JSON.parse(decodeURIComponent(t[1])),n.content=e.replace(t[0],"")),n},_applyDataComment:function(e,t){var n="";return t&&CKEDITOR.tools.objectKeys(t).length&&(n="\x3c!--cke-data:"+encodeURIComponent(JSON.stringify(t))+"--\x3e"),n+(e&&e.length?e:"")}}}(),CKEDITOR.config.clipboard_notificationDuration=1e4,function(){CKEDITOR.plugins.add("panel",{beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_PANEL,CKEDITOR.ui.panel.handler)}}),CKEDITOR.UI_PANEL="panel",CKEDITOR.ui.panel=function(e,t){t&&CKEDITOR.tools.extend(this,t),CKEDITOR.tools.extend(this,{className:"",css:[]}),this.id=CKEDITOR.tools.getNextId(),this.document=e,this.isFramed=this.forceIFrame||this.css.length,this._={blocks:{}}},CKEDITOR.ui.panel.handler={create:function(e){return new CKEDITOR.ui.panel(e)}};var e=CKEDITOR.addTemplate("panel",'<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),t=CKEDITOR.addTemplate("panel-frame",'<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),n=CKEDITOR.addTemplate("panel-frame-inner",'<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');CKEDITOR.ui.panel.prototype={render:function(o,r){this.getHolderElement=function(){if(!(t=this._.holder)){if(this.isFramed){var e=(t=this.document.getById(this.id+"_frame")).getParent(),t=t.getFrameDocument();CKEDITOR.env.iOS&&e.setStyles({overflow:"scroll","-webkit-overflow-scrolling":"touch"}),e=CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function(){this.isLoaded=!0,this.onLoad&&this.onLoad()},this)),t.write(n.output(CKEDITOR.tools.extend({css:CKEDITOR.tools.buildStyleHtml(this.css),onload:"window.parent.CKEDITOR.tools.callFunction("+e+");"},i))),t.getWindow().$.CKEDITOR=CKEDITOR,t.on("keydown",function(e){var t=e.data.getKeystroke(),n=this.document.getById(this.id).getAttribute("dir");this._.onKeyDown&&!1===this._.onKeyDown(t)?e.data.preventDefault():(27==t||t==("rtl"==n?39:37))&&this.onEscape&&!1===this.onEscape(t)&&e.data.preventDefault()},this),(t=t.getBody()).unselectable(),CKEDITOR.env.air&&CKEDITOR.tools.callFunction(e)}else t=this.document.getById(this.id);this._.holder=t}return t};var i={editorId:o.id,id:this.id,langCode:o.langCode,dir:o.lang.dir,cls:this.className,frame:"",env:CKEDITOR.env.cssClass,"z-index":o.config.baseFloatZIndex+1};if(this.isFramed){var a=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie?"javascript:void(function(){"+encodeURIComponent("document.open();("+CKEDITOR.tools.fixDomain+")();document.close();")+"}())":"";i.frame=t.output({id:this.id+"_frame",src:a})}return a=e.output(i),r&&r.push(a),a},addBlock:function(e,t){return t=this._.blocks[e]=t instanceof CKEDITOR.ui.panel.block?t:new CKEDITOR.ui.panel.block(this.getHolderElement(),t),this._.currentBlock||this.showBlock(e),t},getBlock:function(e){return this._.blocks[e]},showBlock:function(e){e=this._.blocks[e];var t=this._.currentBlock,n=!this.forceIFrame||CKEDITOR.env.ie?this._.holder:this.document.getById(this.id+"_frame");return t&&t.hide(),this._.currentBlock=e,CKEDITOR.fire("ariaWidget",n),e._.focusIndex=-1,this._.onKeyDown=e.onKeyDown&&CKEDITOR.tools.bind(e.onKeyDown,e),e.show(),e},destroy:function(){this.element&&this.element.remove()}},CKEDITOR.ui.panel.block=CKEDITOR.tools.createClass({$:function(e,t){this.element=e.append(e.getDocument().createElement("div",{attributes:{tabindex:-1,class:"cke_panel_block"},styles:{display:"none"}})),t&&CKEDITOR.tools.extend(this,t),this.element.setAttributes({role:this.attributes.role||"presentation","aria-label":this.attributes["aria-label"],title:this.attributes.title||this.attributes["aria-label"]}),this.keys={},this._.focusIndex=-1,this.element.disableContextMenu()},_:{markItem:function(e){-1!=e&&(e=this.element.getElementsByTag("a").getItem(this._.focusIndex=e),CKEDITOR.env.webkit&&e.getDocument().getWindow().focus(),e.focus(),this.onMark&&this.onMark(e))},markFirstDisplayed:function(e){for(var t,n,o=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&"none"==e.getStyle("display")},r=this._.getItems(),i=r.count()-1;0<=i;i--)if((t=r.getItem(i)).getAscendant(o)||(n=t,this._.focusIndex=i),"true"==t.getAttribute("aria-selected")){n=t,this._.focusIndex=i;break}n&&(e&&e(),CKEDITOR.env.webkit&&n.getDocument().getWindow().focus(),n.focus(),this.onMark&&this.onMark(n))},getItems:function(){return this.element.getElementsByTag("a")}},proto:{show:function(){this.element.setStyle("display","")},hide:function(){this.onHide&&!0===this.onHide.call(this)||this.element.setStyle("display","none")},onKeyDown:function(e,t){switch(r=this.keys[e]){case"next":for(var n,o=this._.focusIndex,r=this.element.getElementsByTag("a");n=r.getItem(++o);)if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=o,n.focus();break}return!n&&!t&&(this._.focusIndex=-1,this.onKeyDown(e,1));case"prev":for(o=this._.focusIndex,r=this.element.getElementsByTag("a");0<o&&(n=r.getItem(--o));){if(n.getAttribute("_cke_focus")&&n.$.offsetWidth){this._.focusIndex=o,n.focus();break}n=null}return!n&&!t&&(this._.focusIndex=r.count(),this.onKeyDown(e,1));case"click":case"mouseup":return(n=0<=(o=this._.focusIndex)&&this.element.getElementsByTag("a").getItem(o))&&(n.$[r]?n.$[r]():n.$["on"+r]()),!1}return!0}}})}(),CKEDITOR.plugins.add("floatpanel",{requires:"panel"}),function(){function e(e,n,o,r,i){i=CKEDITOR.tools.genKey(n.getUniqueId(),o.getUniqueId(),e.lang.dir,e.uiColor||"",r.css||"",i||"");var a=t[i];return a||((a=t[i]=new CKEDITOR.ui.panel(n,r)).element=o.append(CKEDITOR.dom.element.createFromHtml(a.render(e),n)),a.element.setStyles({display:"none",position:"absolute"})),a}var t={};CKEDITOR.ui.floatPanel=CKEDITOR.tools.createClass({$:function(t,n,o,r){function i(){u.hide()}o.forceIFrame=1,o.toolbarRelated&&t.elementMode==CKEDITOR.ELEMENT_MODE_INLINE&&(n=CKEDITOR.document.getById("cke_"+t.name));var a=n.getDocument(),s=(r=e(t,a,n,o,r||0)).element,l=s.getFirst(),u=this;s.disableContextMenu(),this.element=s,this._={editor:t,panel:r,parentElement:n,definition:o,document:a,iframe:l,children:[],dir:t.lang.dir,showBlockParams:null},t.on("mode",i),t.on("resize",i),a.getWindow().on("resize",function(){this.reposition()},this)},proto:{addBlock:function(e,t){return this._.panel.addBlock(e,t)},addListBlock:function(e,t){return this._.panel.addListBlock(e,t)},getBlock:function(e){return this._.panel.getBlock(e)},showBlock:function(e,t,n,o,r,i){var a=this._.panel,s=a.showBlock(e);this._.showBlockParams=[].slice.call(arguments),this.allowBlur(!1);var l=this._.editor.editable();this._.returnFocus=l.hasFocus?l:new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement),this._.hideTimeout=0;var u=this.element,c=(l=this._.iframe,l=CKEDITOR.env.ie&&!CKEDITOR.env.edge?l:new CKEDITOR.dom.window(l.$.contentWindow),u.getDocument()),d=this._.parentElement.getPositionedAncestor(),h=t.getDocumentPosition(c),f=(c=d?d.getDocumentPosition(c):{x:0,y:0},"rtl"==this._.dir),p=h.x+(o||0)-c.x,g=h.y+(r||0)-c.y;!f||1!=n&&4!=n?f||2!=n&&3!=n||(p+=t.$.offsetWidth-1):p+=t.$.offsetWidth,3!=n&&4!=n||(g+=t.$.offsetHeight-1),this._.panel._.offsetParentId=t.getId(),u.setStyles({top:g+"px",left:0,display:""}),u.setOpacity(0),u.getFirst().removeStyle("width"),this._.editor.focusManager.add(l),this._.blurSet||(CKEDITOR.event.useCapture=!0,l.on("blur",function(e){function t(){delete this._.returnFocus,this.hide()}this.allowBlur()&&e.data.getPhase()==CKEDITOR.EVENT_PHASE_AT_TARGET&&this.visible&&!this._.activeChild&&(CKEDITOR.env.iOS?this._.hideTimeout||(this._.hideTimeout=CKEDITOR.tools.setTimeout(t,0,this)):t.call(this))},this),l.on("focus",function(){this._.focused=!0,this.hideChild(),this.allowBlur(!0)},this),CKEDITOR.env.iOS&&(l.on("touchstart",function(){clearTimeout(this._.hideTimeout)},this),l.on("touchend",function(){this._.hideTimeout=0,this.focus()},this)),CKEDITOR.event.useCapture=!1,this._.blurSet=1),a.onEscape=CKEDITOR.tools.bind(function(e){if(this.onEscape&&!1===this.onEscape(e))return!1},this),CKEDITOR.tools.setTimeout(function(){var e=CKEDITOR.tools.bind(function(){if((n=u).removeStyle("width"),s.autoSize){var e=s.element.getDocument();e=(CKEDITOR.env.webkit||CKEDITOR.env.edge?s.element:e.getBody()).$.scrollWidth,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<e&&(e+=(n.$.offsetWidth||0)-(n.$.clientWidth||0)+3),n.setStyle("width",e+10+"px"),e=s.element.$.scrollHeight,CKEDITOR.env.ie&&CKEDITOR.env.quirks&&0<e&&(e+=(n.$.offsetHeight||0)-(n.$.clientHeight||0)+3),n.setStyle("height",e+"px"),a._.currentBlock.element.setStyle("display","none").removeStyle("display")}else n.removeStyle("height");f&&(p-=u.$.offsetWidth),u.setStyle("left",p+"px"),e=a.element.getWindow();var t,n=u.$.getBoundingClientRect(),o=(e=e.getViewPaneSize(),n.width||n.right-n.left),r=n.height||n.bottom-n.top,l=f?n.right:e.width-n.left,c=f?e.width-n.right:n.left;f?l<o&&(p=c>o?p+o:e.width>o?p-n.left:p-n.right+e.width):l<o&&(p=c>o?p-o:e.width>o?p-n.right+e.width:p-n.left),o=n.top,e.height-n.top<r&&(g=o>r?g-r:e.height>r?g-n.bottom+e.height:g-n.top),CKEDITOR.env.ie&&("html"==(e=n=new CKEDITOR.dom.element(u.$.offsetParent)).getName()&&(e=e.getDocument().getBody()),"rtl"==e.getComputedStyle("direction")&&(p=CKEDITOR.env.ie8Compat?p-2*u.getDocument().getDocumentElement().$.scrollLeft:p-(n.$.scrollWidth-n.$.clientWidth))),(t=(n=u.getFirst()).getCustomData("activePanel"))&&t.onHide&&t.onHide.call(this,1),n.setCustomData("activePanel",this),u.setStyles({top:g+"px",left:p+"px"}),u.setOpacity(1),i&&i()},this);a.isLoaded?e():a.onLoad=e,CKEDITOR.tools.setTimeout(function(){var e=CKEDITOR.env.webkit&&CKEDITOR.document.getWindow().getScrollPosition().y;this.focus(),s.element.focus(),CKEDITOR.env.webkit&&(CKEDITOR.document.getBody().$.scrollTop=e),this.allowBlur(!0),CKEDITOR.env.ie?CKEDITOR.tools.setTimeout(function(){s.markFirstDisplayed?s.markFirstDisplayed():s._.markFirstDisplayed()},0):s.markFirstDisplayed?s.markFirstDisplayed():s._.markFirstDisplayed(),this._.editor.fire("panelShow",this)},0,this)},CKEDITOR.env.air?200:0,this),this.visible=1,this.onShow&&this.onShow.call(this)},reposition:function(){var e=this._.showBlockParams;this.visible&&this._.showBlockParams&&(this.hide(),this.showBlock.apply(this,e))},focus:function(){if(CKEDITOR.env.webkit){var e=CKEDITOR.document.getActive();e&&!e.equals(this._.iframe)&&e.$.blur()}(this._.lastFocused||this._.iframe.getFrameDocument().getWindow()).focus()},blur:function(){var e=this._.iframe.getFrameDocument().getActive();e&&e.is("a")&&(this._.lastFocused=e)},hide:function(e){!this.visible||this.onHide&&!0===this.onHide.call(this)||(this.hideChild(),CKEDITOR.env.gecko&&this._.iframe.getFrameDocument().$.activeElement.blur(),this.element.setStyle("display","none"),this.visible=0,this.element.getFirst().removeCustomData("activePanel"),(e=e&&this._.returnFocus)&&(CKEDITOR.env.webkit&&e.type&&e.getWindow().$.focus(),e.focus()),delete this._.lastFocused,this._.showBlockParams=null,this._.editor.fire("panelHide",this))},allowBlur:function(e){var t=this._.panel;return void 0!==e&&(t.allowBlur=e),t.allowBlur},showAsChild:function(e,t,n,o,r,i){this._.activeChild==e&&e._.panel._.offsetParentId==n.getId()||(this.hideChild(),e.onHide=CKEDITOR.tools.bind(function(){CKEDITOR.tools.setTimeout(function(){this._.focused||this.hide()},0,this)},this),this._.activeChild=e,this._.focused=!1,e.showBlock(t,n,o,r,i),this.blur(),(CKEDITOR.env.ie7Compat||CKEDITOR.env.ie6Compat)&&setTimeout(function(){e.element.getChild(0).$.style.cssText+=""},100))},hideChild:function(e){var t=this._.activeChild;t&&(delete t.onHide,delete this._.activeChild,t.hide(),e&&this.focus())}}}),CKEDITOR.on("instanceDestroyed",function(){var e,n=CKEDITOR.tools.isEmpty(CKEDITOR.instances);for(e in t){var o=t[e];n?o.destroy():o.element.hide()}n&&(t={})})}(),CKEDITOR.plugins.add("menu",{requires:"floatpanel",beforeInit:function(e){for(var t=e.config.menu_groups.split(","),n=e._.menuGroups={},o=e._.menuItems={},r=0;r<t.length;r++)n[t[r]]=r+1;e.addMenuGroup=function(e,t){n[e]=t||100},e.addMenuItem=function(e,t){n[t.group]&&(o[e]=new CKEDITOR.menuItem(this,e,t))},e.addMenuItems=function(e){for(var t in e)this.addMenuItem(t,e[t])},e.getMenuItem=function(e){return o[e]},e.removeMenuItem=function(e){delete o[e]}}}),function(){var e='<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{label}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"'),e=e+' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">';var t=CKEDITOR.addTemplate("menuItem",e+'<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>'),n=CKEDITOR.addTemplate("menuArrow",'<span class="cke_menuarrow"><span>{label}</span></span>'),o=CKEDITOR.addTemplate("menuShortcut",'<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');CKEDITOR.menu=CKEDITOR.tools.createClass({$:function(e,t){t=this._.definition=t||{},this.id=CKEDITOR.tools.getNextId(),this.editor=e,this.items=[],this._.listeners=[],this._.level=t.level||1;var n=CKEDITOR.tools.extend({},t.panel,{css:[CKEDITOR.skin.getPath("editor")],level:this._.level-1,block:{}}),o=n.block.attributes=n.attributes||{};!o.role&&(o.role="menu"),this._.panelDefinition=n},_:{onShow:function(){var e=this.editor.getSelection(),t=e&&e.getStartElement(),n=this.editor.elementPath(),o=this._.listeners;this.removeAll();for(var r=0;r<o.length;r++){var i=o[r](t,e,n);if(i)for(var a in i){var s=this.editor.getMenuItem(a);!s||s.command&&!this.editor.getCommand(s.command).state||(s.state=i[a],this.add(s))}}},onClick:function(e){this.hide(),e.onClick?e.onClick():e.command&&this.editor.execCommand(e.command)},onEscape:function(e){var t=this.parent;return t?t._.panel.hideChild(1):27==e&&this.hide(1),!1},onHide:function(){this.onHide&&this.onHide()},showSubMenu:function(e){var t=this._.subMenu,n=this.items[e];if(n=n.getItems&&n.getItems()){for(var o in t?t.removeAll():((t=this._.subMenu=new CKEDITOR.menu(this.editor,CKEDITOR.tools.extend({},this._.definition,{level:this._.level+1},!0))).parent=this,t._.onClick=CKEDITOR.tools.bind(this._.onClick,this)),n){var r=this.editor.getMenuItem(o);r&&(r.state=n[o],t.add(r))}var i=this._.panel.getBlock(this.id).element.getDocument().getById(this.id+String(e));setTimeout(function(){t.show(i,2)},0)}else this._.panel.hideChild(1)}},proto:{add:function(e){e.order||(e.order=this.items.length),this.items.push(e)},removeAll:function(){this.items=[]},show:function(e,t,n,o){if(this.parent||(this._.onShow(),this.items.length)){t=t||("rtl"==this.editor.lang.dir?2:1);var r=this.items,i=this.editor,a=this._.panel,s=this._.element;a||((a=this._.panel=new CKEDITOR.ui.floatPanel(this.editor,CKEDITOR.document.getBody(),this._.panelDefinition,this._.level)).onEscape=CKEDITOR.tools.bind(function(e){if(!1===this._.onEscape(e))return!1},this),a.onShow=function(){a._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")},a.onHide=CKEDITOR.tools.bind(function(){this._.onHide&&this._.onHide()},this),(s=a.addBlock(this.id,this._.panelDefinition.block)).autoSize=!0,(l=s.keys)[40]="next",l[9]="next",l[38]="prev",l[CKEDITOR.SHIFT+9]="prev",l["rtl"==i.lang.dir?37:39]=CKEDITOR.env.ie?"mouseup":"click",l[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(l[13]="mouseup"),(l=(s=this._.element=s.element).getDocument()).getBody().setStyle("overflow","hidden"),l.getElementsByTag("html").getItem(0).setStyle("overflow","hidden"),this._.itemOverFn=CKEDITOR.tools.addFunction(function(e){clearTimeout(this._.showSubTimeout),this._.showSubTimeout=CKEDITOR.tools.setTimeout(this._.showSubMenu,i.config.menu_subMenuDelay||400,this,[e])},this),this._.itemOutFn=CKEDITOR.tools.addFunction(function(){clearTimeout(this._.showSubTimeout)},this),this._.itemClickFn=CKEDITOR.tools.addFunction(function(e){var t=this.items[e];t.state==CKEDITOR.TRISTATE_DISABLED?this.hide(1):t.getItems?this._.showSubMenu(e):this._.onClick(t)},this)),r.sort(function(e,t){return e.group<t.group?-1:e.group>t.group?1:e.order<t.order?-1:e.order>t.order?1:0});for(var l=['<div class="cke_menu'+((l=i.elementPath())&&l.direction()!=i.lang.dir?" cke_mixed_dir_content":"")+'" role="presentation">'],u=r.length,c=u&&r[0].group,d=0;d<u;d++){var h=r[d];c!=h.group&&(l.push('<div class="cke_menuseparator" role="separator"></div>'),c=h.group),h.render(this,d,l)}l.push("</div>"),s.setHtml(l.join("")),CKEDITOR.ui.fire("ready",this),this.parent?this.parent._.panel.showAsChild(a,this.id,e,t,n,o):a.showBlock(this.id,e,t,n,o),i.fire("menuShow",[a])}},addListener:function(e){this._.listeners.push(e)},hide:function(e){this._.onHide&&this._.onHide(),this._.panel&&this._.panel.hide(e)},findItemByCommandName:function(e){var t=CKEDITOR.tools.array.filter(this.items,function(t){return e===t.command});return t.length?{item:t=t[0],element:this._.element.findOne("."+t.className)}:null}}}),CKEDITOR.menuItem=CKEDITOR.tools.createClass({$:function(e,t,n){CKEDITOR.tools.extend(this,n,{order:0,className:"cke_menubutton__"+t}),this.group=e._.menuGroups[this.group],this.editor=e,this.name=t},proto:{render:function(e,r,i){var a,s,l=e.id+String(r),u=void 0===this.state?CKEDITOR.TRISTATE_OFF:this.state,c="",d=this.editor,h=u==CKEDITOR.TRISTATE_ON?"on":u==CKEDITOR.TRISTATE_DISABLED?"disabled":"off";this.role in{menuitemcheckbox:1,menuitemradio:1}&&(c=' aria-checked="'+(u==CKEDITOR.TRISTATE_ON?"true":"false")+'"');var f=this.getItems,p="&#"+("rtl"==this.editor.lang.dir?"9668":"9658")+";",g=this.name;this.icon&&!/\./.test(this.icon)&&(g=this.icon),this.command&&(a=d.getCommand(this.command),(a=d.getCommandKeystroke(a))&&(s=CKEDITOR.tools.keystrokeToString(d.lang.common.keyboard,a))),e={id:l,name:this.name,iconName:g,label:this.label,cls:this.className||"",state:h,hasPopup:f?"true":"false",disabled:u==CKEDITOR.TRISTATE_DISABLED,title:this.label+(s?" ("+s.display+")":""),ariaShortcut:s?d.lang.common.keyboardShortcut+" "+s.aria:"",href:"javascript:void('"+(this.label||"").replace("'")+"')",hoverFn:e._.itemOverFn,moveOutFn:e._.itemOutFn,clickFn:e._.itemClickFn,index:r,iconStyle:CKEDITOR.skin.getIconStyle(g,"rtl"==this.editor.lang.dir,g==this.icon?null:this.icon,this.iconOffset),shortcutHtml:s?o.output({shortcut:s.display}):"",arrowHtml:f?n.output({label:p}):"",role:this.role?this.role:"menuitem",ariaChecked:c},t.output(e,i)}}})}(),CKEDITOR.config.menu_groups="clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div",CKEDITOR.plugins.add("contextmenu",{requires:"menu",onLoad:function(){CKEDITOR.plugins.contextMenu=CKEDITOR.tools.createClass({base:CKEDITOR.menu,$:function(e){this.base.call(this,e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.contextmenu.options}}})},proto:{addTarget:function(e,t){if(e.on("contextmenu",function(e){e=e.data;var o=CKEDITOR.env.webkit?n:CKEDITOR.env.mac?e.$.metaKey:e.$.ctrlKey;if(!t||!o){e.preventDefault(),CKEDITOR.env.mac&&CKEDITOR.env.webkit&&(o=this.editor,(r=new CKEDITOR.dom.elementPath(e.getTarget(),o.editable()).contains(function(e){return e.hasAttribute("contenteditable")},!0))&&"false"==r.getAttribute("contenteditable")&&o.getSelection().fake(r));var r=e.getTarget().getDocument(),i=e.getTarget().getDocument().getDocumentElement(),a=(o=!r.equals(CKEDITOR.document),r=r.getWindow().getScrollPosition(),o?e.$.clientX:e.$.pageX||r.x+e.$.clientX),s=o?e.$.clientY:e.$.pageY||r.y+e.$.clientY;CKEDITOR.tools.setTimeout(function(){this.open(i,null,a,s)},CKEDITOR.env.ie?200:0,this)}},this),CKEDITOR.env.webkit){var n,o=function(){n=0};e.on("keydown",function(e){n=CKEDITOR.env.mac?e.data.$.metaKey:e.data.$.ctrlKey}),e.on("keyup",o),e.on("contextmenu",o)}},open:function(e,t,n,o){!1!==this.editor.config.enableContextMenu&&(this.editor.focus(),e=e||CKEDITOR.document.getDocumentElement(),this.editor.selectionChange(1),this.show(e,t,n,o))}}})},beforeInit:function(e){var t=e.contextMenu=new CKEDITOR.plugins.contextMenu(e);e.on("contentDom",function(){t.addTarget(e.editable(),!1!==e.config.browserContextMenuOnCtrl)}),e.addCommand("contextMenu",{exec:function(){e.contextMenu.open(e.document.getBody())}}),e.setKeystroke(CKEDITOR.SHIFT+121,"contextMenu"),e.setKeystroke(CKEDITOR.CTRL+CKEDITOR.SHIFT+121,"contextMenu")}}),function(){function e(e,n){function r(t){var n;(t=l.list[t]).equals(e.editable())||"true"==t.getAttribute("contenteditable")?((n=e.createRange()).selectNodeContents(t),n=n.select()):(n=e.getSelection()).selectElement(t),CKEDITOR.env.ie&&e.fire("selectionChange",{selection:n,path:new CKEDITOR.dom.elementPath(t)}),e.focus()}function i(){a&&a.setHtml('<span class="cke_path_empty">&nbsp;</span>'),delete l.list}var a,s=e.ui.spaceId("path"),l=e._.elementsPath,u=l.idBase;n.html+='<span id="'+s+'_label" class="cke_voice_label">'+e.lang.elementspath.eleLabel+'</span><span id="'+s+'" class="cke_path" role="group" aria-labelledby="'+s+'_label"><span class="cke_path_empty">&nbsp;</span></span>',e.on("uiReady",function(){var t=e.ui.space("path");t&&e.focusManager.add(t,1)}),l.onClick=r;var c=CKEDITOR.tools.addFunction(r),d=CKEDITOR.tools.addFunction(function(t,n){var o,i=l.idBase;switch(n=new CKEDITOR.dom.event(n),o="rtl"==e.lang.dir,n.getKeystroke()){case o?39:37:case 9:return(o=CKEDITOR.document.getById(i+(t+1)))||(o=CKEDITOR.document.getById(i+"0")),o.focus(),!1;case o?37:39:case CKEDITOR.SHIFT+9:return(o=CKEDITOR.document.getById(i+(t-1)))||(o=CKEDITOR.document.getById(i+(l.list.length-1))),o.focus(),!1;case 27:return e.focus(),!1;case 13:case 32:return r(t),!1}return!0});e.on("selectionChange",function(t){for(var n=[],r=l.list=[],i=[],h=l.filters,f=!0,p=t.data.path.elements,g=p.length;g--;){var m=p[g],E=0;t=m.data("cke-display-name")?m.data("cke-display-name"):m.data("cke-real-element-type")?m.data("cke-real-element-type"):m.getName(),(f=m.hasAttribute("contenteditable")?"true"==m.getAttribute("contenteditable"):f)||m.hasAttribute("contenteditable")||(E=1);for(var v=0;v<h.length;v++){var T=h[v](m,t);if(!1===T){E=1;break}t=T||t}E||(r.unshift(m),i.unshift(t))}for(r=r.length,h=0;h<r;h++)f=e.lang.elementspath.eleTitle.replace(/%1/,t=i[h]),t=o.output({id:u+h,label:f,text:t,jsTitle:"javascript:void('"+t+"')",index:h,keyDownFn:d,clickFn:c}),n.unshift(t);a||(a=CKEDITOR.document.getById(s)),(i=a).setHtml(n.join("")+'<span class="cke_path_empty">&nbsp;</span>'),e.fire("elementsPathUpdate",{space:i})}),e.on("readOnly",i),e.on("contentDomUnload",i),e.addCommand("elementsPathFocus",t.toolbarFocus),e.setKeystroke(CKEDITOR.ALT+122,"elementsPathFocus")}var t={toolbarFocus:{editorFocus:!1,readOnly:1,exec:function(e){(e=CKEDITOR.document.getById(e._.elementsPath.idBase+"0"))&&e.focus(CKEDITOR.env.ie||CKEDITOR.env.air)}}},n="";CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(n+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(n+=' onblur="this.style.cssText = this.style.cssText;"');var o=CKEDITOR.addTemplate("pathItem",'<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"'+n+' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');CKEDITOR.plugins.add("elementspath",{init:function(t){t._.elementsPath={idBase:"cke_elementspath_"+CKEDITOR.tools.getNextNumber()+"_",filters:[]},t.on("uiSpace",function(n){"bottom"==n.data.space&&e(t,n.data)})}})}(),function(){function e(e,o){var r,i;o.on("refresh",function(e){var o,r=[t];for(o in e.data.states)r.push(e.data.states[o]);this.setState(CKEDITOR.tools.search(r,n)?n:t)},o,null,100),o.on("exec",function(t){r=e.getSelection(),i=r.createBookmarks(1),t.data||(t.data={}),t.data.done=!1},o,null,0),o.on("exec",function(){e.forceNextSelectionCheck(),r.selectBookmarks(i)},o,null,100)}var t=CKEDITOR.TRISTATE_DISABLED,n=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indent",{init:function(t){var n=CKEDITOR.plugins.indent.genericDefinition;e(t,t.addCommand("indent",new n(!0))),e(t,t.addCommand("outdent",new n)),t.ui.addButton&&(t.ui.addButton("Indent",{label:t.lang.indent.indent,command:"indent",directional:!0,toolbar:"indent,20"}),t.ui.addButton("Outdent",{label:t.lang.indent.outdent,command:"outdent",directional:!0,toolbar:"indent,10"})),t.on("dirChanged",function(e){var n=t.createRange(),o=e.data.node;n.setStartBefore(o),n.setEndAfter(o);for(var r,i=new CKEDITOR.dom.walker(n);r=i.next();)if(r.type==CKEDITOR.NODE_ELEMENT)if(!r.equals(o)&&r.getDirection())n.setStartAfter(r),i=new CKEDITOR.dom.walker(n);else{var a=t.config.indentClasses;if(a)for(var s="ltr"==e.data.dir?["_rtl",""]:["","_rtl"],l=0;l<a.length;l++)r.hasClass(a[l]+s[0])&&(r.removeClass(a[l]+s[0]),r.addClass(a[l]+s[1]));a=r.getStyle("margin-right"),s=r.getStyle("margin-left"),a?r.setStyle("margin-left",a):r.removeStyle("margin-left"),s?r.setStyle("margin-right",s):r.removeStyle("margin-right")}})}}),CKEDITOR.plugins.indent={genericDefinition:function(e){this.isIndent=!!e,this.startDisabled=!this.isIndent},specificDefinition:function(e,t,n){this.name=t,this.editor=e,this.jobs={},this.enterBr=e.config.enterMode==CKEDITOR.ENTER_BR,this.isIndent=!!n,this.relatedGlobal=n?"indent":"outdent",this.indentKey=n?9:CKEDITOR.SHIFT+9,this.database={}},registerCommands:function(e,t){e.on("pluginsLoaded",function(){for(var e in t)!function(e,t){var n,o=e.getCommand(t.relatedGlobal);for(n in t.jobs)o.on("exec",function(o){o.data.done||(e.fire("lockSnapshot"),t.execJob(e,n)&&(o.data.done=!0),e.fire("unlockSnapshot"),CKEDITOR.dom.element.clearAllMarkers(t.database))},this,null,n),o.on("refresh",function(o){o.data.states||(o.data.states={}),o.data.states[t.name+"@"+n]=t.refreshJob(e,n,o.data.path)},this,null,n);e.addFeature(t)}(this,t[e])})}},CKEDITOR.plugins.indent.genericDefinition.prototype={context:"p",exec:function(){}},CKEDITOR.plugins.indent.specificDefinition.prototype={execJob:function(e,n){var o=this.jobs[n];if(o.state!=t)return o.exec.call(this,e)},refreshJob:function(e,n,o){return(n=this.jobs[n]).state=e.activeFilter.checkFeature(this)?n.refresh.call(this,e,o):t,n.state},getContext:function(e){return e.contains(this.context)}}}(),function(){function e(e){function o(t){for(var o=r.startContainer,l=r.endContainer;o&&!o.getParent().equals(t);)o=o.getParent();for(;l&&!l.getParent().equals(t);)l=l.getParent();if(!o||!l)return!1;for(var u=[],c=!1;!c;)o.equals(l)&&(c=!0),u.push(o),o=o.getNext();if(1>u.length)return!1;for(o=t.getParents(!0),l=0;l<o.length;l++)if(o[l].getName&&s[o[l].getName()]){t=o[l];break}o=i.isIndent?1:-1,l=u[0],u=u[u.length-1];var d,h=(c=CKEDITOR.plugins.list.listToArray(t,a))[u.getCustomData("listarray_index")].indent;for(l=l.getCustomData("listarray_index");l<=u.getCustomData("listarray_index");l++)if(c[l].indent+=o,0<o){for(var f=c[l].parent,p=l-1;0<=p;p--)if(c[p].indent===o){f=c[p].parent;break}c[l].parent=new CKEDITOR.dom.element(f.getName(),f.getDocument())}for(l=u.getCustomData("listarray_index")+1;l<c.length&&c[l].indent>h;l++)c[l].indent+=o;if(o=CKEDITOR.plugins.list.arrayToList(c,a,null,e.config.enterMode,t.getDirection()),!i.isIndent&&(d=t.getParent())&&d.is("li")){var g,m=[];for(l=(u=o.listNode.getChildren()).count()-1;0<=l;l--)(g=u.getItem(l))&&g.is&&g.is("li")&&m.push(g)}if(o&&o.listNode.replace(t),m&&m.length)for(l=0;l<m.length;l++){for(g=t=m[l];(g=g.getNext())&&g.is&&g.getName()in s;)CKEDITOR.env.needsNbspFiller&&!t.getFirst(n)&&t.append(r.document.createText("\xa0")),t.append(g);t.insertAfter(d)}return o&&e.fire("contentDomInvalidated"),!0}for(var r,i=this,a=this.database,s=this.context,l=((l=e.getSelection())&&l.getRanges()).createIterator();r=l.getNextRange();){for(var u=r.getCommonAncestor();u&&(u.type!=CKEDITOR.NODE_ELEMENT||!s[u.getName()]);){if(e.editable().equals(u)){u=!1;break}u=u.getParent()}if(u||(u=r.startPath().contains(s))&&r.setEndAt(u,CKEDITOR.POSITION_BEFORE_END),!u){var c=r.getEnclosedNode();c&&c.type==CKEDITOR.NODE_ELEMENT&&c.getName()in s&&(r.setStartAt(c,CKEDITOR.POSITION_AFTER_START),r.setEndAt(c,CKEDITOR.POSITION_BEFORE_END),u=c)}if(u&&r.startContainer.type==CKEDITOR.NODE_ELEMENT&&r.startContainer.getName()in s&&((c=new CKEDITOR.dom.walker(r)).evaluator=t,r.startContainer=c.next()),u&&r.endContainer.type==CKEDITOR.NODE_ELEMENT&&r.endContainer.getName()in s&&((c=new CKEDITOR.dom.walker(r)).evaluator=t,r.endContainer=c.previous()),u)return o(u)}return 0}function t(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.is("li")}function n(e){return o(e)&&r(e)}var o=CKEDITOR.dom.walker.whitespaces(!0),r=CKEDITOR.dom.walker.bookmark(!1,!0),i=CKEDITOR.TRISTATE_DISABLED,a=CKEDITOR.TRISTATE_OFF;CKEDITOR.plugins.add("indentlist",{requires:"indent",init:function(t){function n(t){o.specificDefinition.apply(this,arguments),this.requiredContent=["ul","ol"],t.on("key",function(e){var n=t.elementPath();if("wysiwyg"==t.mode&&e.data.keyCode==this.indentKey&&n){var o=this.getContext(n);!o||this.isIndent&&CKEDITOR.plugins.indentList.firstItemInPath(this.context,n,o)||(t.execCommand(this.relatedGlobal),e.cancel())}},this),this.jobs[this.isIndent?10:30]={refresh:this.isIndent?function(e,t){var n=this.getContext(t),o=CKEDITOR.plugins.indentList.firstItemInPath(this.context,t,n);return n&&this.isIndent&&!o?a:i}:function(e,t){return!this.getContext(t)||this.isIndent?i:a},exec:CKEDITOR.tools.bind(e,this)}}var o=CKEDITOR.plugins.indent;o.registerCommands(t,{indentlist:new n(t,"indentlist",!0),outdentlist:new n(t,"outdentlist")}),CKEDITOR.tools.extend(n.prototype,o.specificDefinition.prototype,{context:{ol:1,ul:1}})}}),CKEDITOR.plugins.indentList={},CKEDITOR.plugins.indentList.firstItemInPath=function(e,n,o){var r=n.contains(t);return o||(o=n.contains(e)),o&&r&&r.equals(o.getFirst(t))}}(),function(){function e(e,t,n){function o(n){!(l=c[n?"getFirst":"getLast"]())||l.is&&l.isBlockBoundary()||!(u=t.root[n?"getPrevious":"getNext"](CKEDITOR.dom.walker.invisible(!0)))||u.is&&u.isBlockBoundary({br:1})||e.document.createElement("br")[n?"insertBefore":"insertAfter"](l)}for(var r=CKEDITOR.plugins.list.listToArray(t.root,n),i=[],a=0;a<t.contents.length;a++){var s=t.contents[a];(s=s.getAscendant("li",!0))&&!s.getCustomData("list_item_processed")&&(i.push(s),CKEDITOR.dom.element.setMarker(n,s,"list_item_processed",!0))}for(s=null,a=0;a<i.length;a++)r[s=i[a].getCustomData("listarray_index")].indent=-1;for(a=s+1;a<r.length;a++)if(r[a].indent>r[a-1].indent+1){for(i=r[a-1].indent+1-r[a].indent,s=r[a].indent;r[a]&&r[a].indent>=s;)r[a].indent+=i,a++;a--}var l,u,c=CKEDITOR.plugins.list.arrayToList(r,n,null,e.config.enterMode,t.root.getAttribute("dir")).listNode;o(!0),o(),c.replace(t.root),e.fire("contentDomInvalidated")}function t(e,t){this.name=e,this.context=this.type=t,this.allowedContent=t+" li",this.requiredContent=t}function n(e,t,n,o){for(var r,i;r=e[o?"getLast":"getFirst"](f);)(i=r.getDirection(1))!==t.getDirection(1)&&r.setAttribute("dir",i),r.remove(),n?r[o?"insertBefore":"insertAfter"](n):t.append(r,o)}function o(e){function t(t){var o=e[t?"getPrevious":"getNext"](c);o&&o.type==CKEDITOR.NODE_ELEMENT&&o.is(e.getName())&&(n(e,o,null,!t),e.remove(),e=o)}t(),t(1)}function r(e){return e.type==CKEDITOR.NODE_ELEMENT&&(e.getName()in CKEDITOR.dtd.$block||e.getName()in CKEDITOR.dtd.$listItem)&&CKEDITOR.dtd[e.getName()]["#"]}function i(e,t,r){e.fire("saveSnapshot"),r.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);var i=r.extractContents();t.trim(!1,!0);var s=t.createBookmark(),l=(u=new CKEDITOR.dom.elementPath(t.startContainer)).block,u=u.lastElement.getAscendant("li",1)||l,h=(f=new CKEDITOR.dom.elementPath(r.startContainer)).contains(CKEDITOR.dtd.$listItem),f=f.contains(CKEDITOR.dtd.$list);for(l?(l=l.getBogus())&&l.remove():f&&(l=f.getPrevious(c))&&d(l)&&l.remove(),(l=i.getLast())&&l.type==CKEDITOR.NODE_ELEMENT&&l.is("br")&&l.remove(),(l=t.startContainer.getChild(t.startOffset))?i.insertBefore(l):t.startContainer.append(i),h&&(i=a(h))&&(u.contains(h)?(n(i,h.getParent(),h),i.remove()):u.append(i));r.checkStartOfBlock()&&r.checkEndOfBlock()&&(i=(f=r.startPath()).block);)i.is("li")&&(u=i.getParent(),i.equals(u.getLast(c))&&i.equals(u.getFirst(c))&&(i=u)),r.moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),i.remove();r=r.clone(),i=e.editable(),r.setEndAt(i,CKEDITOR.POSITION_BEFORE_END),(r=new CKEDITOR.dom.walker(r)).evaluator=function(e){return c(e)&&!d(e)},(r=r.next())&&r.type==CKEDITOR.NODE_ELEMENT&&r.getName()in CKEDITOR.dtd.$list&&o(r),t.moveToBookmark(s),t.select(),e.fire("saveSnapshot")}function a(e){return(e=e.getLast(c))&&e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in s?e:null}var s={ol:1,ul:1},l=CKEDITOR.dom.walker.whitespaces(),u=CKEDITOR.dom.walker.bookmark(),c=function(e){return!(l(e)||u(e))},d=CKEDITOR.dom.walker.bogus();CKEDITOR.plugins.list={listToArray:function(e,t,n,o,r){if(!s[e.getName()])return[];o||(o=0),n||(n=[]);for(var i=0,a=e.getChildCount();i<a;i++){var l=e.getChild(i);if(l.type==CKEDITOR.NODE_ELEMENT&&l.getName()in CKEDITOR.dtd.$list&&CKEDITOR.plugins.list.listToArray(l,t,n,o+1),"li"==l.$.nodeName.toLowerCase()){var u={parent:e,indent:o,element:l,contents:[]};r?u.grandparent=r:(u.grandparent=e.getParent(),u.grandparent&&"li"==u.grandparent.$.nodeName.toLowerCase()&&(u.grandparent=u.grandparent.getParent())),t&&CKEDITOR.dom.element.setMarker(t,l,"listarray_index",n.length),n.push(u);for(var c,d=0,h=l.getChildCount();d<h;d++)(c=l.getChild(d)).type==CKEDITOR.NODE_ELEMENT&&s[c.getName()]?CKEDITOR.plugins.list.listToArray(c,t,n,o+1,u.grandparent):u.contents.push(c)}}return n},arrayToList:function(e,t,n,o,r){if(n||(n=0),!e||e.length<n+1)return null;for(var i,a,l,d=e[n].parent.getDocument(),h=new CKEDITOR.dom.documentFragment(d),f=null,p=n,g=Math.max(e[n].indent,0),m=null,E=o==CKEDITOR.ENTER_P?"p":"div";;){var v=e[p];if(i=v.grandparent,a=v.element.getDirection(1),v.indent==g){for(f&&e[p].parent.getName()==f.getName()||(f=e[p].parent.clone(!1,1),r&&f.setAttribute("dir",r),h.append(f)),m=f.append(v.element.clone(0,1)),a!=f.getDirection(1)&&m.setAttribute("dir",a),i=0;i<v.contents.length;i++)m.append(v.contents[i].clone(1,1));p++}else if(v.indent==Math.max(g,0)+1)v=e[p-1].element.getDirection(1),p=CKEDITOR.plugins.list.arrayToList(e,null,p,o,v!=a?a:null),!m.getChildCount()&&CKEDITOR.env.needsNbspFiller&&7>=d.$.documentMode&&m.append(d.createText("\xa0")),m.append(p.listNode),p=p.nextIndex;else{if(-1!=v.indent||n||!i)return null;s[i.getName()]?(m=v.element.clone(!1,!0),a!=i.getDirection(1)&&m.setAttribute("dir",a)):m=new CKEDITOR.dom.documentFragment(d),f=i.getDirection(1)!=a;var T,C,y=v.element,b=y.getAttribute("class"),I=y.getAttribute("style"),O=m.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&(o!=CKEDITOR.ENTER_BR||f||I||b),D=v.contents.length;for(i=0;i<D;i++)if(u(T=v.contents[i])&&1<D)O?C=T.clone(1,1):m.append(T.clone(1,1));else if(T.type==CKEDITOR.NODE_ELEMENT&&T.isBlockBoundary()){f&&!T.getDirection()&&T.setAttribute("dir",a),l=T;var _=y.getAttribute("style");_&&l.setAttribute("style",_.replace(/([^;])$/,"$1;")+(l.getAttribute("style")||"")),b&&T.addClass(b),l=null,C&&(m.append(C),C=null),m.append(T.clone(1,1))}else O?(l||(l=d.createElement(E),m.append(l),f&&l.setAttribute("dir",a)),I&&l.setAttribute("style",I),b&&l.setAttribute("class",b),C&&(l.append(C),C=null),l.append(T.clone(1,1))):m.append(T.clone(1,1));C&&((l||m).append(C),C=null),m.type==CKEDITOR.NODE_DOCUMENT_FRAGMENT&&p!=e.length-1&&(CKEDITOR.env.needsBrFiller&&(a=m.getLast())&&a.type==CKEDITOR.NODE_ELEMENT&&a.is("br")&&a.remove(),(a=m.getLast(c))&&a.type==CKEDITOR.NODE_ELEMENT&&a.is(CKEDITOR.dtd.$block)||m.append(d.createElement("br"))),"div"!=(a=m.$.nodeName.toLowerCase())&&"p"!=a||m.appendBogus(),h.append(m),f=null,p++}if(l=null,e.length<=p||Math.max(e[p].indent,0)<g)break}if(t)for(e=h.getFirst();e;){if(e.type==CKEDITOR.NODE_ELEMENT&&(CKEDITOR.dom.element.clearMarkers(t,e),e.getName()in CKEDITOR.dtd.$listItem&&(d=r=o=void 0,o=(n=e).getDirection()))){for(r=n.getParent();r&&!(d=r.getDirection());)r=r.getParent();o==d&&n.removeAttribute("dir")}e=e.getNextSourceNode()}return{listNode:h,nextIndex:p}}};var h=/^h[1-6]$/,f=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);t.prototype={exec:function(t){this.refresh(t,t.elementPath());var n=t.config,r=t.getSelection(),i=r&&r.getRanges();if(this.state==CKEDITOR.TRISTATE_OFF)if((l=t.editable()).getFirst(c)){var a=1==i.length&&i[0];(n=a&&a.getEnclosedNode())&&n.is&&this.type==n.getName()&&this.setState(CKEDITOR.TRISTATE_ON)}else n.enterMode==CKEDITOR.ENTER_BR?l.appendBogus():i[0].fixBlock(1,n.enterMode==CKEDITOR.ENTER_P?"p":"div"),r.selectRanges(i);n=r.createBookmarks(!0);for(var l=[],u={},d=(i=i.createIterator(),0);(a=i.getNextRange())&&++d;){var f=(C=a.getBoundaryNodes()).endNode;for((g=C.startNode).type==CKEDITOR.NODE_ELEMENT&&"td"==g.getName()&&a.setStartAt(C.startNode,CKEDITOR.POSITION_AFTER_START),f.type==CKEDITOR.NODE_ELEMENT&&"td"==f.getName()&&a.setEndAt(C.endNode,CKEDITOR.POSITION_BEFORE_END),(a=a.createIterator()).forceBrBreak=this.state==CKEDITOR.TRISTATE_OFF;C=a.getNextParagraph();)if(!C.getCustomData("list_block")){CKEDITOR.dom.element.setMarker(u,C,"list_block",1);for(var p,g=(m=t.elementPath(C)).elements,m=(f=0,m.blockLimit),E=g.length-1;0<=E&&(p=g[E]);E--)if(s[p.getName()]&&m.contains(p)){m.removeCustomData("list_group_object_"+d),(g=p.getCustomData("list_group_object"))?g.contents.push(C):(l.push(g={root:p,contents:[C]}),CKEDITOR.dom.element.setMarker(u,p,"list_group_object",g)),f=1;break}f||((f=m).getCustomData("list_group_object_"+d)?f.getCustomData("list_group_object_"+d).contents.push(C):(g={root:f,contents:[C]},CKEDITOR.dom.element.setMarker(u,f,"list_group_object_"+d,g),l.push(g)))}}for(p=[];0<l.length;)if(g=l.shift(),this.state==CKEDITOR.TRISTATE_OFF)if(s[g.root.getName()]){for(i=t,d=g,g=u,a=p,f=CKEDITOR.plugins.list.listToArray(d.root,g),m=[],C=0;C<d.contents.length;C++)(E=(E=d.contents[C]).getAscendant("li",!0))&&!E.getCustomData("list_item_processed")&&(m.push(E),CKEDITOR.dom.element.setMarker(g,E,"list_item_processed",!0));E=d.root.getDocument();for(var v=void 0,T=void 0,C=0;C<m.length;C++){var y=m[C].getCustomData("listarray_index");(v=f[y].parent).is(this.type)||(T=E.createElement(this.type),v.copyAttributes(T,{start:1,type:1}),T.removeStyle("list-style-type"),f[y].parent=T)}for(g=CKEDITOR.plugins.list.arrayToList(f,g,null,i.config.enterMode),f=void 0,m=g.listNode.getChildCount(),C=0;C<m&&(f=g.listNode.getChild(C));C++)f.getName()==this.type&&a.push(f);g.listNode.replace(d.root),i.fire("contentDomInvalidated")}else{for(f=t,C=p,m=(a=g).contents,i=a.root.getDocument(),d=[],1==m.length&&m[0].equals(a.root)&&(g=i.createElement("div"),m[0].moveChildren&&m[0].moveChildren(g),m[0].append(g),m[0]=g),a=a.contents[0].getParent(),E=0;E<m.length;E++)a=a.getCommonAncestor(m[E].getParent());for(v=f.config.useComputedState,f=g=void 0,v=void 0===v||v,E=0;E<m.length;E++)for(T=m[E];y=T.getParent();){if(y.equals(a)){d.push(T),!f&&T.getDirection()&&(f=1),T=T.getDirection(v),null!==g&&(g=g&&g!=T?null:T);break}T=y}if(!(1>d.length)){for(m=d[d.length-1].getNext(),E=i.createElement(this.type),C.push(E),v=C=void 0;d.length;)C=d.shift(),v=i.createElement("li"),(T=C).is("pre")||h.test(T.getName())||"false"==T.getAttribute("contenteditable")?C.appendTo(v):(C.copyAttributes(v),g&&C.getDirection()&&(v.removeStyle("direction"),v.removeAttribute("dir")),C.moveChildren(v),C.remove()),v.appendTo(E);g&&f&&E.setAttribute("dir",g),m?E.insertBefore(m):E.appendTo(a)}}else this.state==CKEDITOR.TRISTATE_ON&&s[g.root.getName()]&&e.call(this,t,g,u);for(E=0;E<p.length;E++)o(p[E]);CKEDITOR.dom.element.clearAllMarkers(u),r.selectBookmarks(n),t.focus()},refresh:function(e,t){var n=t.contains(s,1);n&&(t.blockLimit||t.root).contains(n)?this.setState(n.is(this.type)?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_OFF)}},CKEDITOR.plugins.add("list",{requires:"indentlist",init:function(e){e.blockless||(e.addCommand("numberedlist",new t("numberedlist","ol")),e.addCommand("bulletedlist",new t("bulletedlist","ul")),e.ui.addButton&&(e.ui.addButton("NumberedList",{label:e.lang.list.numberedlist,command:"numberedlist",directional:!0,toolbar:"list,10"}),e.ui.addButton("BulletedList",{label:e.lang.list.bulletedlist,command:"bulletedlist",directional:!0,toolbar:"list,20"})),e.on("key",function(t){var n,o=t.data.domEvent.getKey();if("wysiwyg"==e.mode&&o in{8:1,46:1}){var l=e.getSelection().getRanges()[0],u=l&&l.startPath();if(l&&l.collapsed){var h,f=8==o,p=e.editable(),g=new CKEDITOR.dom.walker(l.clone());if(g.evaluator=function(e){return c(e)&&!d(e)},g.guard=function(e,t){return!(t&&e.type==CKEDITOR.NODE_ELEMENT&&e.is("table"))},o=l.clone(),f)if((h=u.contains(s))&&l.checkBoundaryOfElement(h,CKEDITOR.START)&&(h=h.getParent())&&h.is("li")&&(h=a(h))?(n=h,h=h.getPrevious(c),o.moveToPosition(h&&d(h)?h:n,CKEDITOR.POSITION_BEFORE_START)):(g.range.setStartAt(p,CKEDITOR.POSITION_AFTER_START),g.range.setEnd(l.startContainer,l.startOffset),(h=g.previous())&&h.type==CKEDITOR.NODE_ELEMENT&&(h.getName()in s||h.is("li"))&&(h.is("li")||(g.range.selectNodeContents(h),g.reset(),g.evaluator=r,h=g.previous()),o.moveToElementEditEnd(n=h),o.moveToPosition(o.endPath().block,CKEDITOR.POSITION_BEFORE_END))),n)i(e,o,l),t.cancel();else{var m=u.contains(s);m&&l.checkBoundaryOfElement(m,CKEDITOR.START)&&(n=m.getFirst(c),l.checkBoundaryOfElement(n,CKEDITOR.START)&&(h=m.getPrevious(c),a(n)?h&&(l.moveToElementEditEnd(h),l.select()):e.execCommand("outdent"),t.cancel()))}else if(n=u.contains("li")){if(g.range.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),f=(p=n.getLast(c))&&r(p)?p:n,u=0,(h=g.next())&&h.type==CKEDITOR.NODE_ELEMENT&&h.getName()in s&&h.equals(p)?(u=1,h=g.next()):l.checkBoundaryOfElement(f,CKEDITOR.END)&&(u=2),u&&h){if((l=l.clone()).moveToElementEditStart(h),1==u&&(o.optimize(),!o.startContainer.equals(n))){for(n=o.startContainer;n.is(CKEDITOR.dtd.$inline);)m=n,n=n.getParent();m&&o.moveToPosition(m,CKEDITOR.POSITION_AFTER_END)}2==u&&(o.moveToPosition(o.endPath().block,CKEDITOR.POSITION_BEFORE_END),l.endPath().block&&l.moveToPosition(l.endPath().block,CKEDITOR.POSITION_AFTER_START)),i(e,o,l),t.cancel()}}else g.range.setEndAt(p,CKEDITOR.POSITION_BEFORE_END),(h=g.next())&&h.type==CKEDITOR.NODE_ELEMENT&&h.is(s)&&(h=h.getFirst(c),u.block&&l.checkStartOfBlock()&&l.checkEndOfBlock()?(u.block.remove(),l.moveToElementEditStart(h),l.select()):a(h)?(l.moveToElementEditStart(h),l.select()):((l=l.clone()).moveToElementEditStart(h),i(e,o,l)),t.cancel());setTimeout(function(){e.selectionChange(1)})}}}))}})}(),function(){function e(e,t,n){if(n=e.config.forceEnterMode||n,"wysiwyg"==e.mode){t||(t=e.activeEnterMode);var o=e.elementPath();o&&!o.isContextFor("p")&&(t=CKEDITOR.ENTER_BR,n=1),e.fire("saveSnapshot"),t==CKEDITOR.ENTER_BR?i(e,t,null,n):a(e,t,null,n),e.fire("saveSnapshot")}}function t(e){for(var t=(e=e.getSelection().getRanges(!0)).length-1;0<t;t--)e[t].deleteContents();return e[0]}CKEDITOR.plugins.add("enterkey",{init:function(t){t.addCommand("enter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t)}}),t.addCommand("shiftEnter",{modes:{wysiwyg:1},editorFocus:!1,exec:function(t){e(t,t.activeShiftEnterMode,1)}}),t.setKeystroke([[13,"enter"],[CKEDITOR.SHIFT+13,"shiftEnter"]])}});var n=CKEDITOR.dom.walker.whitespaces(),o=CKEDITOR.dom.walker.bookmark();CKEDITOR.plugins.enterkey={enterBlock:function(e,r,a,l){if(a=a||t(e)){var u,c=(a=function(e){var t=e.startContainer.getAscendant(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&"true"==e.getAttribute("contenteditable")},!0);return e.root.equals(t)?e:((t=new CKEDITOR.dom.range(t)).moveToRange(e),t)}(a)).document,d=a.checkStartOfBlock(),h=a.checkEndOfBlock(),f=e.elementPath(a.startContainer),p=f.block,g=r==CKEDITOR.ENTER_DIV?"div":"p";if(d&&h){if(p&&(p.is("li")||p.getParent().is("li"))){p.is("li")||(p=p.getParent()),u=(a=p.getParent()).getParent(),l=!p.hasPrevious();var m=!p.hasNext(),E=(g=e.getSelection()).createBookmarks(),v=(d=p.getDirection(1),h=p.getAttribute("class"),p.getAttribute("style")),T=u.getDirection(1)!=d;if(e=e.enterMode!=CKEDITOR.ENTER_BR||T||v||h,u.is("li"))l||m?(l&&m&&a.remove(),p[m?"insertAfter":"insertBefore"](u)):p.breakParent(u);else{if(e)f.block.is("li")?(u=c.createElement(r==CKEDITOR.ENTER_P?"p":"div"),T&&u.setAttribute("dir",d),v&&u.setAttribute("style",v),h&&u.setAttribute("class",h),p.moveChildren(u)):u=f.block,l||m?u[l?"insertBefore":"insertAfter"](a):(p.breakParent(a),u.insertAfter(a));else if(p.appendBogus(!0),l||m)for(;c=p[l?"getFirst":"getLast"]();)c[l?"insertBefore":"insertAfter"](a);else for(p.breakParent(a);c=p.getLast();)c.insertAfter(a);p.remove()}return void g.selectBookmarks(E)}if(p&&p.getParent().is("blockquote"))return p.breakParent(p.getParent()),p.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1))||p.getPrevious().remove(),p.getNext().getFirst(CKEDITOR.dom.walker.invisible(1))||p.getNext().remove(),a.moveToElementEditStart(p),void a.select()}else if(p&&p.is("pre")&&!h)return void i(e,r,a,l);if(d=a.splitBlock(g)){if(r=d.previousBlock,f=d.wasStartOfBlock,e=d.wasEndOfBlock,(p=d.nextBlock)?(E=p.getParent()).is("li")&&(p.breakParent(E),p.move(p.getNext(),1)):r&&(E=r.getParent())&&E.is("li")&&(r.breakParent(E),E=r.getNext(),a.moveToElementEditStart(E),r.move(r.getPrevious())),f||e){if(r?(r.is("li")||!s.test(r.getName())&&!r.is("pre"))&&(u=r.clone()):p&&(u=p.clone()),u?l&&!u.is("li")&&u.renameNode(g):E&&E.is("li")?u=E:(u=c.createElement(g),r&&(m=r.getDirection())&&u.setAttribute("dir",m)),c=d.elementPath)for(l=0,g=c.elements.length;l<g&&!(E=c.elements[l]).equals(c.block)&&!E.equals(c.blockLimit);l++)CKEDITOR.dtd.$removeEmpty[E.getName()]&&(E=E.clone(),u.moveChildren(E),u.append(E));u.appendBogus(),u.getParent()||a.insertNode(u),u.is("li")&&u.removeAttribute("value"),!CKEDITOR.env.ie||!f||e&&r.getChildCount()||(a.moveToElementEditStart(e?r:u),a.select()),a.moveToElementEditStart(f&&!e?p:u)}else p.is("li")&&((u=a.clone()).selectNodeContents(p),(u=new CKEDITOR.dom.walker(u)).evaluator=function(e){return!(o(e)||n(e)||e.type==CKEDITOR.NODE_ELEMENT&&e.getName()in CKEDITOR.dtd.$inline&&!(e.getName()in CKEDITOR.dtd.$empty))},(E=u.next())&&E.type==CKEDITOR.NODE_ELEMENT&&E.is("ul","ol")&&(CKEDITOR.env.needsBrFiller?c.createElement("br"):c.createText("\xa0")).insertBefore(E)),p&&a.moveToElementEditStart(p);a.select(),a.scrollIntoView()}}},enterBr:function(e,n,o,r){if(o=o||t(e)){var i=o.document,l=o.checkEndOfBlock(),u=new CKEDITOR.dom.elementPath(e.getSelection().getStartElement()),c=u.block,d=c&&u.block.getName();r||"li"!=d?(!r&&l&&s.test(d)?(l=c.getDirection())?((i=i.createElement("div")).setAttribute("dir",l),i.insertAfter(c),o.setStart(i,0)):(i.createElement("br").insertAfter(c),CKEDITOR.env.gecko&&i.createText("").insertAfter(c),o.setStartAt(c.getNext(),CKEDITOR.env.ie?CKEDITOR.POSITION_BEFORE_START:CKEDITOR.POSITION_AFTER_START)):(e="pre"==d&&CKEDITOR.env.ie&&8>CKEDITOR.env.version?i.createText("\r"):i.createElement("br"),o.deleteContents(),o.insertNode(e),CKEDITOR.env.needsBrFiller?(i.createText("\ufeff").insertAfter(e),l&&(c||u.blockLimit).appendBogus(),e.getNext().$.nodeValue="",o.setStartAt(e.getNext(),CKEDITOR.POSITION_AFTER_START)):o.setStartAt(e,CKEDITOR.POSITION_AFTER_END)),o.collapse(!0),o.select(),o.scrollIntoView()):a(e,n,o,r)}}};var r=CKEDITOR.plugins.enterkey,i=r.enterBr,a=r.enterBlock,s=/^h[1-6]$/}(),function(){function e(e,t){var n={},o=[],r={nbsp:"\xa0",shy:"\xad",gt:">",lt:"<",amp:"&",apos:"'",quot:'"'};if(e=e.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g,function(e,i){var a=t?"&"+i+";":r[i];return n[a]=t?r[i]:"&"+i+";",o.push(a),""}),!t&&e){e=e.split(",");var i,a=document.createElement("div");for(a.innerHTML="&"+e.join(";&")+";",i=a.innerHTML,a=null,a=0;a<i.length;a++){var s=i.charAt(a);n[s]="&"+e[a]+";",o.push(s)}}return n.regex=o.join(t?"|":""),n}CKEDITOR.plugins.add("entities",{afterInit:function(t){function n(e){return l[e]}function o(e){return"force"!=r.entities_processNumerical&&a[e]?a[e]:"&#"+e.charCodeAt(0)+";"}var r=t.config;if(t=(t=t.dataProcessor)&&t.htmlFilter){var i=[];!1!==r.basicEntities&&i.push("nbsp,gt,lt,amp"),r.entities&&(i.length&&i.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"),r.entities_latin&&i.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"),r.entities_greek&&i.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"),r.entities_additional&&i.push(r.entities_additional));var a=e(i.join(",")),s=a.regex?"["+a.regex+"]":"a^";delete a.regex,r.entities&&r.entities_processNumerical&&(s="[^ -~]|"+s),s=new RegExp(s,"g");var l=e("nbsp,gt,lt,amp,shy",!0),u=new RegExp(l.regex,"g");t.addRules({text:function(e){return e.replace(u,n).replace(s,o)}},{applyToAll:!0,excludeNestedEditable:!0})}}})}(),CKEDITOR.config.basicEntities=!0,CKEDITOR.config.entities=!0,CKEDITOR.config.entities_latin=!0,CKEDITOR.config.entities_greek=!0,CKEDITOR.config.entities_additional="#39",CKEDITOR.plugins.add("popup"),CKEDITOR.tools.extend(CKEDITOR.editor.prototype,{popup:function(e,t,n,o){t=t||"80%",n=n||"70%","string"==typeof t&&1<t.length&&"%"==t.substr(t.length-1,1)&&(t=parseInt(window.screen.width*parseInt(t,10)/100,10)),"string"==typeof n&&1<n.length&&"%"==n.substr(n.length-1,1)&&(n=parseInt(window.screen.height*parseInt(n,10)/100,10)),640>t&&(t=640),420>n&&(n=420);var r=parseInt((window.screen.height-n)/2,10),i=parseInt((window.screen.width-t)/2,10);o=(o||"location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes")+",width="+t+",height="+n+",top="+r+",left="+i;var a=window.open("",null,o,!0);if(!a)return!1;try{-1==navigator.userAgent.toLowerCase().indexOf(" chrome/")&&(a.moveTo(i,r),a.resizeTo(t,n)),a.focus(),a.location.href=e}catch(t){window.open(e,null,o,!0)}return!0}}),function(){function e(e){this.editor=e,this.loaders=[]}function t(e,t,o){var r=e.config.fileTools_defaultFileName;this.editor=e,this.lang=e.lang,"string"==typeof t?(this.data=t,this.file=n(this.data),this.loaded=this.total=this.file.size):(this.data=null,this.file=t,this.total=this.file.size,this.loaded=0),o?this.fileName=o:this.file.name?this.fileName=this.file.name:(e=this.file.type.split("/"),r&&(e[0]=r),this.fileName=e.join(".")),this.uploaded=0,this.responseData=this.uploadTotal=null,this.status="created",this.abort=function(){this.changeStatus("abort")}}function n(e){var t=e.match(o)[1];e=e.replace(o,""),e=atob(e);var n,r,i,a,s=[];for(n=0;n<e.length;n+=512){for(r=e.slice(n,n+512),i=Array(r.length),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);r=new Uint8Array(i),s.push(r)}return new Blob(s,{type:t})}CKEDITOR.plugins.add("filetools",{beforeInit:function(t){t.uploadRepository=new e(t),t.on("fileUploadRequest",function(e){var t=e.data.fileLoader;t.xhr.open("POST",t.uploadUrl,!0),e.data.requestData.upload={file:t.file,name:t.fileName}},null,null,5),t.on("fileUploadRequest",function(e){var n=e.data.fileLoader,o=new FormData;e=e.data.requestData;var r,i,a=t.config.fileTools_requestHeaders;for(i in e){var s=e[i];"object"==typeof s&&s.file?o.append(i,s.file,s.name):o.append(i,s)}if(o.append("ckCsrfToken",CKEDITOR.tools.getCsrfToken()),a)for(r in a)n.xhr.setRequestHeader(r,a[r]);n.xhr.send(o)},null,null,999),t.on("fileUploadResponse",function(e){var t=e.data.fileLoader,n=t.xhr,o=e.data;try{var r=JSON.parse(n.responseText);if(r.error&&r.error.message&&(o.message=r.error.message),r.uploaded)for(var i in r)o[i]=r[i];else e.cancel()}catch(r){o.message=t.lang.filetools.responseError,CKEDITOR.warn("filetools-response-error",{responseText:n.responseText}),e.cancel()}},null,null,999)}}),e.prototype={create:function(e,n,o){var r=this.loaders.length;return(e=new(o=o||t)(this.editor,e,n)).id=r,this.loaders[r]=e,this.fire("instanceCreated",e),e},isFinished:function(){for(var e=0;e<this.loaders.length;++e)if(!this.loaders[e].isFinished())return!1;return!0}},t.prototype={loadAndUpload:function(e,t){var n=this;this.once("loaded",function(o){o.cancel(),n.once("update",function(e){e.cancel()},null,null,0),n.upload(e,t)},null,null,0),this.load()},load:function(){var e=this,t=this.reader=new FileReader;e.changeStatus("loading"),this.abort=function(){e.reader.abort()},t.onabort=function(){e.changeStatus("abort")},t.onerror=function(){e.message=e.lang.filetools.loadError,e.changeStatus("error")},t.onprogress=function(t){e.loaded=t.loaded,e.update()},t.onload=function(){e.loaded=e.total,e.data=t.result,e.changeStatus("loaded")},t.readAsDataURL(this.file)},upload:function(e,t){var n=t||{};e?(this.uploadUrl=e,this.xhr=new XMLHttpRequest,this.attachRequestListeners(),this.editor.fire("fileUploadRequest",{fileLoader:this,requestData:n})&&this.changeStatus("uploading")):(this.message=this.lang.filetools.noUrlError,this.changeStatus("error"))},attachRequestListeners:function(){function e(){"error"!=n.status&&(n.message=n.lang.filetools.networkError,n.changeStatus("error"))}function t(){"abort"!=n.status&&n.changeStatus("abort")}var n=this,o=this.xhr;n.abort=function(){o.abort(),t()},o.onerror=e,o.onabort=t,o.upload?(o.upload.onprogress=function(e){e.lengthComputable&&(n.uploadTotal||(n.uploadTotal=e.total),n.uploaded=e.loaded,n.update())},o.upload.onerror=e,o.upload.onabort=t):(n.uploadTotal=n.total,n.update()),o.onload=function(){if(n.update(),"abort"!=n.status)if(n.uploaded=n.uploadTotal,200>o.status||299<o.status)n.message=n.lang.filetools["httpError"+o.status],n.message||(n.message=n.lang.filetools.httpError.replace("%1",o.status)),n.changeStatus("error");else{for(var e={fileLoader:n},t=["message","fileName","url"],r=n.editor.fire("fileUploadResponse",e),i=0;i<t.length;i++){var a=t[i];"string"==typeof e[a]&&(n[a]=e[a])}n.responseData=e,delete n.responseData.fileLoader,n.changeStatus(!1===r?"error":"uploaded")}}},changeStatus:function(e){this.status=e,"error"!=e&&"abort"!=e&&"loaded"!=e&&"uploaded"!=e||(this.abort=function(){}),this.fire(e),this.update()},update:function(){this.fire("update")},isFinished:function(){return!!this.status.match(/^(?:loaded|uploaded|error|abort)$/)}},CKEDITOR.event.implementOn(e.prototype),CKEDITOR.event.implementOn(t.prototype);var o=/^data:(\S*?);base64,/;CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{uploadRepository:e,fileLoader:t,getUploadUrl:function(e,t){var n=CKEDITOR.tools.capitalize;return t&&e[t+"UploadUrl"]?e[t+"UploadUrl"]:e.uploadUrl?e.uploadUrl:t&&e["filebrowser"+n(t,1)+"UploadUrl"]?e["filebrowser"+n(t,1)+"UploadUrl"]+"&responseType=json":e.filebrowserUploadUrl?e.filebrowserUploadUrl+"&responseType=json":null},isTypeSupported:function(e,t){return!!e.type.match(t)},isFileUploadSupported:"function"==typeof FileReader&&"function"==typeof(new FileReader).readAsDataURL&&"function"==typeof FormData&&"function"==typeof(new FormData).append&&"function"==typeof XMLHttpRequest&&"function"==typeof Blob})}(),function(){function e(e,t){var n=[];if(!t)return e;for(var o in t)n.push(o+"="+encodeURIComponent(t[o]));return e+(-1!=e.indexOf("?")?"&":"?")+n.join("&")}function t(t){return!t.match(/command=QuickUpload/)||t.match(/(\?|&)responseType=json/)?t:e(t,{responseType:"json"})}function n(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function o(){var t=(r=this.getDialog()).getParentEditor();t._.filebrowserSe=this;var o=t.config["filebrowser"+n(r.getName())+"WindowWidth"]||t.config.filebrowserWindowWidth||"80%",r=t.config["filebrowser"+n(r.getName())+"WindowHeight"]||t.config.filebrowserWindowHeight||"70%",i=this.filebrowser.params||{};i.CKEditor=t.name,i.CKEditorFuncNum=t._.filebrowserFn,i.langCode||(i.langCode=t.langCode),i=e(this.filebrowser.url,i),t.popup(i,o,r,t.config.filebrowserWindowFeatures||t.config.fileBrowserWindowFeatures)}function r(e){var t=new CKEDITOR.dom.element(e.$.form);t&&((e=t.$.elements.ckCsrfToken)?e=new CKEDITOR.dom.element(e):((e=new CKEDITOR.dom.element("input")).setAttributes({name:"ckCsrfToken",type:"hidden"}),t.append(e)),e.setAttribute("value",CKEDITOR.tools.getCsrfToken()))}function i(){var e=this.getDialog();return e.getParentEditor()._.filebrowserSe=this,!(!e.getContentElement(this.for[0],this.for[1]).getInputElement().$.value||!e.getContentElement(this.for[0],this.for[1]).getAction())}function a(t,n,o){var r=o.params||{};r.CKEditor=t.name,r.CKEditorFuncNum=t._.filebrowserFn,r.langCode||(r.langCode=t.langCode),n.action=e(o.url,r),n.filebrowser=o}function s(e,u,d,h){if(h&&h.length)for(var f,p=h.length;p--;)if("hbox"!=(f=h[p]).type&&"vbox"!=f.type&&"fieldset"!=f.type||s(e,u,d,f.children),f.filebrowser)if("string"==typeof f.filebrowser&&(f.filebrowser={action:"fileButton"==f.type?"QuickUpload":"Browse",target:f.filebrowser}),"Browse"==f.filebrowser.action){var g=f.filebrowser.url;void 0===g&&void 0===(g=e.config["filebrowser"+n(u)+"BrowseUrl"])&&(g=e.config.filebrowserBrowseUrl),g&&(f.onClick=o,f.filebrowser.url=g,f.hidden=!1)}else if("QuickUpload"==f.filebrowser.action&&f.for&&(void 0===(g=f.filebrowser.url)&&void 0===(g=e.config["filebrowser"+n(u)+"UploadUrl"])&&(g=e.config.filebrowserUploadUrl),g)){var m=f.onClick;f.onClick=function(n){var o=n.sender,a=o.getDialog().getContentElement(this.for[0],this.for[1]).getInputElement(),s=CKEDITOR.fileTools&&CKEDITOR.fileTools.isFileUploadSupported;return(!m||!1!==m.call(o,n))&&!!i.call(o,n)&&("form"!==e.config.filebrowserUploadMethod&&s?((n=e.uploadRepository.create(a.$.files[0])).on("uploaded",function(e){var t=e.sender.responseData;c.call(e.sender.editor,t.url,t.message)}),n.on("error",l.bind(this)),n.on("abort",l.bind(this)),n.loadAndUpload(t(g)),"xhr"):(r(a),!0))},f.filebrowser.url=g,f.hidden=!1,a(e,d.getContents(f.for[0]).get(f.for[1]),f.filebrowser)}}function l(e){var t={};try{t=JSON.parse(e.sender.xhr.response)||{}}catch(e){}this.enable(),alert(t.error?t.error.message:e.sender.message)}function u(e,t,n){if(-1!==n.indexOf(";")){n=n.split(";");for(var o=0;o<n.length;o++)if(u(e,t,n[o]))return!0;return!1}return(e=e.getContents(t).get(n).filebrowser)&&e.url}function c(e,t){var n=this._.filebrowserSe.getDialog(),o=this._.filebrowserSe.for,r=this._.filebrowserSe.filebrowser.onSelect;o&&n.getContentElement(o[0],o[1]).reset(),"function"==typeof t&&!1===t.call(this._.filebrowserSe)||r&&!1===r.call(this._.filebrowserSe,e,t)||("string"==typeof t&&t&&alert(t),e&&(n=(o=this._.filebrowserSe).getDialog(),o=o.filebrowser.target||null)&&(o=o.split(":"),(r=n.getContentElement(o[0],o[1]))&&(r.setValue(e),n.selectPage(o[0]))))}CKEDITOR.plugins.add("filebrowser",{requires:"popup,filetools",init:function(e){e._.filebrowserFn=CKEDITOR.tools.addFunction(c,e),e.on("destroy",function(){CKEDITOR.tools.removeFunction(this._.filebrowserFn)})}}),CKEDITOR.on("dialogDefinition",function(e){if(e.editor.plugins.filebrowser)for(var t,n=e.data.definition,o=0;o<n.contents.length;++o)(t=n.contents[o])&&(s(e.editor,e.data.name,n,t.elements),t.hidden&&t.filebrowser&&(t.hidden=!u(n,t.id,t.filebrowser)))})}(),function(){function e(e){var o=e.config,r=e.fire("uiSpace",{space:"top",html:""}).html,i=function(){function r(e,t,o){s.setStyle(t,n(o)),s.setStyle("position",e)}function a(e){var t=u.getDocumentPosition();switch(e){case"top":r("absolute","top",t.y-f-m);break;case"pin":r("fixed","top",v);break;case"bottom":r("absolute","top",t.y+(d.height||d.bottom-d.top)+m)}l=e}var l,u,c,d,h,f,p,g=o.floatSpaceDockedOffsetX||0,m=o.floatSpaceDockedOffsetY||0,E=o.floatSpacePinnedOffsetX||0,v=o.floatSpacePinnedOffsetY||0;return function(r){if(u=e.editable()){var v=r&&"focus"==r.name;v&&s.show(),e.fire("floatingSpaceLayout",{show:v}),s.removeStyle("left"),s.removeStyle("right"),c=s.getClientRect(),d=u.getClientRect(),h=t.getViewPaneSize(),f=c.height,p="pageXOffset"in t.$?t.$.pageXOffset:CKEDITOR.document.$.documentElement.scrollLeft,l?(a(f+m<=d.top?"top":f+m>h.height-d.bottom?"pin":"bottom"),r=h.width/2,r=o.floatSpacePreferRight?"right":0<d.left&&d.right<h.width&&d.width>c.width?"rtl"==o.contentsLangDirection?"right":"left":r-d.left>d.right-r?"left":"right",c.width>h.width?(r="left",v=0):(v="left"==r?0<d.left?d.left:0:d.right<h.width?h.width-d.right:0)+c.width>h.width&&(r="left"==r?"right":"left",v=0),s.setStyle(r,n(("pin"==l?E:g)+v+("pin"==l?0:"left"==r?p:-p)))):(l="pin",a("pin"),i(r))}}}();if(r){var a=new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} '+CKEDITOR.env.cssClass+'" dir="{langDir}" title="'+(CKEDITOR.env.gecko?" ":"")+'" lang="{langCode}" role="application" style="{style}"'+(e.title?' aria-labelledby="cke_{name}_arialbl"':" ")+">"+(e.title?'<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>':" ")+'<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),s=CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(a.output({content:r,id:e.id,langDir:e.lang.dir,langCode:e.langCode,name:e.name,style:"display:none;z-index:"+(o.baseFloatZIndex-1),topId:e.ui.spaceId("top"),voiceLabel:e.title}))),l=CKEDITOR.tools.eventsBuffer(500,i),u=CKEDITOR.tools.eventsBuffer(100,i);s.unselectable(),s.on("mousedown",function(e){(e=e.data).getTarget().hasAscendant("a",1)||e.preventDefault()}),e.on("focus",function(n){i(n),e.on("change",l.input),t.on("scroll",u.input),t.on("resize",u.input)}),e.on("blur",function(){s.hide(),e.removeListener("change",l.input),t.removeListener("scroll",u.input),t.removeListener("resize",u.input)}),e.on("destroy",function(){t.removeListener("scroll",u.input),t.removeListener("resize",u.input),s.clearCustomData(),s.remove()}),e.focusManager.hasFocus&&s.show(),e.focusManager.add(s,1)}}var t=CKEDITOR.document.getWindow(),n=CKEDITOR.tools.cssLength;CKEDITOR.plugins.add("floatingspace",{init:function(t){t.on("loaded",function(){e(this)},null,null,20)}})}(),CKEDITOR.plugins.add("listblock",{requires:"panel",onLoad:function(){var e=CKEDITOR.addTemplate("panel-list",'<ul role="presentation" class="cke_panel_list">{items}</ul>'),t=CKEDITOR.addTemplate("panel-list-item",'<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),n=CKEDITOR.addTemplate("panel-list-group",'<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),o=/\'/g;CKEDITOR.ui.panel.prototype.addListBlock=function(e,t){return this.addBlock(e,new CKEDITOR.ui.listBlock(this.getHolderElement(),t))},CKEDITOR.ui.listBlock=CKEDITOR.tools.createClass({base:CKEDITOR.ui.panel.block,$:function(e,t){var n=(t=t||{}).attributes||(t.attributes={});(this.multiSelect=!!t.multiSelect)&&(n["aria-multiselectable"]=!0),!n.role&&(n.role="listbox"),this.base.apply(this,arguments),this.element.setAttribute("role",n.role),(n=this.keys)[40]="next",n[9]="next",n[38]="prev",n[CKEDITOR.SHIFT+9]="prev",n[32]=CKEDITOR.env.ie?"mouseup":"click",CKEDITOR.env.ie&&(n[13]="mouseup"),this._.pendingHtml=[],this._.pendingList=[],this._.items={},this._.groups={}},_:{close:function(){if(this._.started){var t=e.output({items:this._.pendingList.join("")});this._.pendingList=[],this._.pendingHtml.push(t),delete this._.started}},getClick:function(){return this._.click||(this._.click=CKEDITOR.tools.addFunction(function(e){var t=this.toggle(e);this.onClick&&this.onClick(e,t)},this)),this._.click}},proto:{add:function(e,n,r){var i=CKEDITOR.tools.getNextId();this._.started||(this._.started=1,this._.size=this._.size||0),this._.items[e]=i,e={id:i,val:CKEDITOR.tools.htmlEncodeAttr(e).replace(o,"\\'"),onclick:CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick",clickFn:this._.getClick(),title:CKEDITOR.tools.htmlEncodeAttr(r||e),text:n||e},this._.pendingList.push(t.output(e))},startGroup:function(e){this._.close();var t=CKEDITOR.tools.getNextId();this._.groups[e]=t,this._.pendingHtml.push(n.output({id:t,label:e}))},commit:function(){this._.close(),this.element.appendHtml(this._.pendingHtml.join("")),delete this._.size,this._.pendingHtml=[]},toggle:function(e){var t=this.isMarked(e);return t?this.unmark(e):this.mark(e),!t},hideGroup:function(e){var t=(e=this.element.getDocument().getById(this._.groups[e]))&&e.getNext();e&&(e.setStyle("display","none"),t&&"ul"==t.getName()&&t.setStyle("display","none"))},hideItem:function(e){this.element.getDocument().getById(this._.items[e]).setStyle("display","none")},showAll:function(){var e,t=this._.items,n=this._.groups,o=this.element.getDocument();for(e in t)o.getById(t[e]).setStyle("display","");for(var r in n)e=(t=o.getById(n[r])).getNext(),t.setStyle("display",""),e&&"ul"==e.getName()&&e.setStyle("display","")},mark:function(e){this.multiSelect||this.unmarkAll(),e=this._.items[e];var t=this.element.getDocument().getById(e);t.addClass("cke_selected"),this.element.getDocument().getById(e+"_option").setAttribute("aria-selected",!0),this.onMark&&this.onMark(t)},markFirstDisplayed:function(){var e=this;this._.markFirstDisplayed(function(){e.multiSelect||e.unmarkAll()})},unmark:function(e){var t=this.element.getDocument(),n=t.getById(e=this._.items[e]);n.removeClass("cke_selected"),t.getById(e+"_option").removeAttribute("aria-selected"),this.onUnmark&&this.onUnmark(n)},unmarkAll:function(){var e,t=this._.items,n=this.element.getDocument();for(e in t){var o=t[e];n.getById(o).removeClass("cke_selected"),n.getById(o+"_option").removeAttribute("aria-selected")}this.onUnmark&&this.onUnmark()},isMarked:function(e){return this.element.getDocument().getById(this._.items[e]).hasClass("cke_selected")},focus:function(e){this._.focusIndex=-1;var t,n=this.element.getElementsByTag("a"),o=-1;if(e){for(t=this.element.getDocument().getById(this._.items[e]).getFirst();e=n.getItem(++o);)if(e.equals(t)){this._.focusIndex=o;break}}else this.element.focus();t&&setTimeout(function(){t.focus()},0)}}})}}),CKEDITOR.plugins.add("richcombo",{requires:"floatpanel,listblock,button",beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_RICHCOMBO,CKEDITOR.ui.richCombo.handler)}}),function(){var e='<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"'+(CKEDITOR.env.gecko&&!CKEDITOR.env.hc?"":" href=\"javascript:void('{titleJs}')\"")+' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';CKEDITOR.env.gecko&&CKEDITOR.env.mac&&(e+=' onkeypress="return false;"'),CKEDITOR.env.gecko&&(e+=' onblur="this.style.cssText = this.style.cssText;"'),e=e+' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" '+(CKEDITOR.env.ie?'onclick="return false;" onmouseup':"onclick")+'="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">'+(CKEDITOR.env.hc?"&#9660;":CKEDITOR.env.air?"&nbsp;":"")+"</span></span></a></span>";var t=CKEDITOR.addTemplate("combo",e);CKEDITOR.UI_RICHCOMBO="richcombo",CKEDITOR.ui.richCombo=CKEDITOR.tools.createClass({$:function(e){CKEDITOR.tools.extend(this,e,{canGroup:!1,title:e.label,modes:{wysiwyg:1},editorFocus:1}),e=this.panel||{},delete this.panel,this.id=CKEDITOR.tools.getNextNumber(),this.document=e.parent&&e.parent.getDocument()||CKEDITOR.document,e.className="cke_combopanel",e.block={multiSelect:e.multiSelect,attributes:e.attributes},e.toolbarRelated=!0,this._={panelDefinition:e,items:{}}},proto:{renderHtml:function(e){var t=[];return this.render(e,t),t.join("")},render:function(e,n){function o(){if(this.getState()!=CKEDITOR.TRISTATE_ON){var t=this.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED;e.readOnly&&!this.readOnly&&(t=CKEDITOR.TRISTATE_DISABLED),this.setState(t),this.setValue(""),t!=CKEDITOR.TRISTATE_DISABLED&&this.refresh&&this.refresh()}}var r=CKEDITOR.env,i="cke_"+this.id,a=CKEDITOR.tools.addFunction(function(t){d&&(e.unlockSelection(1),d=0),l.execute(t)},this),s=this,l={id:i,combo:this,focus:function(){CKEDITOR.document.getById(i).getChild(1).focus()},execute:function(t){var n=s._;if(n.state!=CKEDITOR.TRISTATE_DISABLED)if(s.createPanel(e),n.on)n.panel.hide();else{s.commit();var o=s.getValue();o?n.list.mark(o):n.list.unmarkAll(),n.panel.showBlock(s.id,new CKEDITOR.dom.element(t),4)}},clickFn:a};e.on("activeFilterChange",o,this),e.on("mode",o,this),e.on("selectionChange",o,this),!this.readOnly&&e.on("readOnly",o,this);var u=CKEDITOR.tools.addFunction(function(e,t){var n=(e=new CKEDITOR.dom.event(e)).getKeystroke();switch(n){case 13:case 32:case 40:CKEDITOR.tools.callFunction(a,t);break;default:l.onkey(l,n)}e.preventDefault()}),c=CKEDITOR.tools.addFunction(function(){l.onfocus&&l.onfocus()}),d=0;return l.keyDownFn=u,r={id:i,name:this.name||this.command,label:this.label,title:this.title,cls:this.className||"",titleJs:r.gecko&&!r.hc?"":(this.title||"").replace("'",""),keydownFn:u,focusFn:c,clickFn:a},t.output(r,n),this.onRender&&this.onRender(),l},createPanel:function(e){if(!this._.panel){var t=this._.panelDefinition.block,n=(i=this._.panelDefinition).parent||CKEDITOR.document.getBody(),o="cke_combopanel__"+this.name,r=new CKEDITOR.ui.floatPanel(e,n,i),i=r.addListBlock(this.id,t),a=this;r.onShow=function(){this.element.addClass(o),a.setState(CKEDITOR.TRISTATE_ON),a._.on=1,a.editorFocus&&!e.focusManager.hasFocus&&e.focus(),a.onOpen&&a.onOpen()},r.onHide=function(t){this.element.removeClass(o),a.setState(a.modes&&a.modes[e.mode]?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),a._.on=0,!t&&a.onClose&&a.onClose()},r.onEscape=function(){r.hide(1)},i.onClick=function(e,t){a.onClick&&a.onClick.call(a,e,t),r.hide()},this._.panel=r,this._.list=i,r.getBlock(this.id).onHide=function(){a._.on=0,a.setState(CKEDITOR.TRISTATE_OFF)},this.init&&this.init()}},setValue:function(e,t){this._.value=e;var n=this.document.getById("cke_"+this.id+"_text");n&&(e||t?n.removeClass("cke_combo_inlinelabel"):(t=this.label,n.addClass("cke_combo_inlinelabel")),n.setText(void 0!==t?t:e))},getValue:function(){return this._.value||""},unmarkAll:function(){this._.list.unmarkAll()},mark:function(e){this._.list.mark(e)},hideItem:function(e){this._.list.hideItem(e)},hideGroup:function(e){this._.list.hideGroup(e)},showAll:function(){this._.list.showAll()},add:function(e,t,n){this._.items[e]=n||e,this._.list.add(e,t,n)},startGroup:function(e){this._.list.startGroup(e)},commit:function(){this._.committed||(this._.list.commit(),this._.committed=1,CKEDITOR.ui.fire("ready",this)),this._.committed=1},setState:function(e){if(this._.state!=e){var t=this.document.getById("cke_"+this.id);t.setState(e,"cke_combo"),e==CKEDITOR.TRISTATE_DISABLED?t.setAttribute("aria-disabled",!0):t.removeAttribute("aria-disabled"),this._.state=e}},getState:function(){return this._.state},enable:function(){this._.state==CKEDITOR.TRISTATE_DISABLED&&this.setState(this._.lastState)},disable:function(){this._.state!=CKEDITOR.TRISTATE_DISABLED&&(this._.lastState=this._.state,this.setState(CKEDITOR.TRISTATE_DISABLED))}},statics:{handler:{create:function(e){return new CKEDITOR.ui.richCombo(e)}}}}),CKEDITOR.ui.prototype.addRichCombo=function(e,t){this.add(e,CKEDITOR.UI_RICHCOMBO,t)}}(),CKEDITOR.plugins.add("format",{requires:"richcombo",init:function(e){if(!e.blockless){for(var t=e.config,n=e.lang.format,o=t.format_tags.split(";"),r={},i=0,a=[],s=0;s<o.length;s++){var l=o[s],u=new CKEDITOR.style(t["format_"+l]);e.filter.customConfig&&!e.filter.check(u)||(i++,r[l]=u,r[l]._.enterMode=e.config.enterMode,a.push(u))}0!==i&&e.ui.addRichCombo("Format",{label:n.label,title:n.panelTitle,toolbar:"styles,20",allowedContent:a,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!1,attributes:{"aria-label":n.panelTitle}},init:function(){for(var e in this.startGroup(n.panelTitle),r){var t=n["tag_"+e];this.add(e,r[e].buildPreview(t),t)}},onClick:function(t){e.focus(),e.fire("saveSnapshot"),t=r[t];var n=e.elementPath();t.checkActive(n,e)||e.applyStyle(t),setTimeout(function(){e.fire("saveSnapshot")},0)},onRender:function(){e.on("selectionChange",function(t){var n=this.getValue();for(var o in t=t.data.path,this.refresh(),r)if(r[o].checkActive(t,e))return void(o!=n&&this.setValue(o,e.lang.format["tag_"+o]));this.setValue("")},this)},onOpen:function(){for(var t in this.showAll(),r)e.activeFilter.check(r[t])||this.hideItem(t)},refresh:function(){var t=e.elementPath();if(t){if(t.isContextFor("p"))for(var n in r)if(e.activeFilter.check(r[n]))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}}})}}}),CKEDITOR.config.format_tags="p;h1;h2;h3;h4;h5;h6;pre;address;div",CKEDITOR.config.format_p={element:"p"},CKEDITOR.config.format_div={element:"div"},CKEDITOR.config.format_pre={element:"pre"},CKEDITOR.config.format_address={element:"address"},CKEDITOR.config.format_h1={element:"h1"},CKEDITOR.config.format_h2={element:"h2"},CKEDITOR.config.format_h3={element:"h3"},CKEDITOR.config.format_h4={element:"h4"},CKEDITOR.config.format_h5={element:"h5"},CKEDITOR.config.format_h6={element:"h6"},function(){var e={canUndo:!1,exec:function(e){var t=e.document.createElement("hr");e.insertElement(t)},allowedContent:"hr",requiredContent:"hr"};CKEDITOR.plugins.add("horizontalrule",{init:function(t){t.blockless||(t.addCommand("horizontalrule",e),t.ui.addButton&&t.ui.addButton("HorizontalRule",{label:t.lang.horizontalrule.toolbar,command:"horizontalrule",toolbar:"insert,40"}))}})}(),CKEDITOR.plugins.add("htmlwriter",{init:function(e){var t=new CKEDITOR.htmlWriter;t.forceSimpleAmpersand=e.config.forceSimpleAmpersand,t.indentationChars=e.config.dataIndentationChars||"\t",e.dataProcessor.writer=t}}),CKEDITOR.htmlWriter=CKEDITOR.tools.createClass({base:CKEDITOR.htmlParser.basicWriter,$:function(){this.base(),this.indentationChars="\t",this.selfClosingEnd=" />",this.lineBreakChars="\n",this.sortAttributes=1,this._.indent=0,this._.indentation="",this._.inPre=0,this._.rules={};var e,t=CKEDITOR.dtd;for(e in CKEDITOR.tools.extend({},t.$nonBodyContent,t.$block,t.$listItem,t.$tableContent))this.setRules(e,{indent:!t[e]["#"],breakBeforeOpen:1,breakBeforeClose:!t[e]["#"],breakAfterClose:1,needsSpace:e in t.$block&&!(e in{li:1,dt:1,dd:1})});this.setRules("br",{breakAfterOpen:1}),this.setRules("title",{indent:0,breakAfterOpen:0}),this.setRules("style",{indent:0,breakBeforeClose:1}),this.setRules("pre",{breakAfterOpen:1,indent:0})},proto:{openTag:function(e){var t=this._.rules[e];this._.afterCloser&&t&&t.needsSpace&&this._.needsSpace&&this._.output.push("\n"),this._.indent?this.indentation():t&&t.breakBeforeOpen&&(this.lineBreak(),this.indentation()),this._.output.push("<",e),this._.afterCloser=0},openTagClose:function(e,t){var n=this._.rules[e];t?(this._.output.push(this.selfClosingEnd),n&&n.breakAfterClose&&(this._.needsSpace=n.needsSpace)):(this._.output.push(">"),n&&n.indent&&(this._.indentation+=this.indentationChars)),n&&n.breakAfterOpen&&this.lineBreak(),"pre"==e&&(this._.inPre=1)},attribute:function(e,t){"string"==typeof t&&(this.forceSimpleAmpersand&&(t=t.replace(/&amp;/g,"&")),t=CKEDITOR.tools.htmlEncodeAttr(t)),this._.output.push(" ",e,'="',t,'"')},closeTag:function(e){var t=this._.rules[e];t&&t.indent&&(this._.indentation=this._.indentation.substr(this.indentationChars.length)),this._.indent?this.indentation():t&&t.breakBeforeClose&&(this.lineBreak(),this.indentation()),this._.output.push("</",e,">"),"pre"==e&&(this._.inPre=0),t&&t.breakAfterClose&&(this.lineBreak(),this._.needsSpace=t.needsSpace),this._.afterCloser=1},text:function(e){this._.indent&&(this.indentation(),!this._.inPre&&(e=CKEDITOR.tools.ltrim(e))),this._.output.push(e)},comment:function(e){this._.indent&&this.indentation(),this._.output.push("\x3c!--",e,"--\x3e")},lineBreak:function(){!this._.inPre&&0<this._.output.length&&this._.output.push(this.lineBreakChars),this._.indent=1},indentation:function(){!this._.inPre&&this._.indentation&&this._.output.push(this._.indentation),this._.indent=0},reset:function(){this._.output=[],this._.indent=0,this._.indentation="",this._.afterCloser=0,this._.inPre=0,this._.needsSpace=0},setRules:function(e,t){var n=this._.rules[e];n?CKEDITOR.tools.extend(n,t,!0):this._.rules[e]=t}}}),function(){function e(e,t){if(t||(t=e.getSelection().getSelectedElement()),t&&t.is("img")&&!t.data("cke-realelement")&&!t.isReadOnly())return t}function t(e){var t=e.getStyle("float");return"inherit"!=t&&"none"!=t||(t=0),t||(t=e.getAttribute("align")),t}CKEDITOR.plugins.add("image",{requires:"dialog",init:function(t){if(!t.plugins.image2){CKEDITOR.dialog.add("image",this.path+"dialogs/image.js");var n="img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";CKEDITOR.dialog.isTabEnabled(t,"image","advanced")&&(n="img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"),t.addCommand("image",new CKEDITOR.dialogCommand("image",{allowedContent:n,requiredContent:"img[alt,src]",contentTransformations:[["img{width}: sizeToStyle","img[width]: sizeToAttribute"],["img{float}: alignmentToStyle","img[align]: alignmentToAttribute"]]})),t.ui.addButton&&t.ui.addButton("Image",{label:t.lang.common.image,command:"image",toolbar:"insert,10"}),t.on("doubleclick",function(e){var t=e.data.element;!t.is("img")||t.data("cke-realelement")||t.isReadOnly()||(e.data.dialog="image")}),t.addMenuItems&&t.addMenuItems({image:{label:t.lang.image.menu,command:"image",group:"image"}}),t.contextMenu&&t.contextMenu.addListener(function(n){if(e(t,n))return{image:CKEDITOR.TRISTATE_OFF}})}},afterInit:function(n){function o(o){var r=n.getCommand("justify"+o);r&&("left"!=o&&"right"!=o||r.on("exec",function(r){var i=e(n);i&&(t(i)==o?(i.removeStyle("float"),o==t(i)&&i.removeAttribute("align")):i.setStyle("float",o),r.cancel())}),r.on("refresh",function(r){var i=e(n);i&&(i=t(i),this.setState(i==o?CKEDITOR.TRISTATE_ON:"right"==o||"left"==o?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),r.cancel())}))}n.plugins.image2||(o("left"),o("right"),o("center"),o("block"))}})}(),CKEDITOR.config.image_removeLinkByEmptyURL=!0,function(){function e(e,t){var n=o.exec(e),r=o.exec(t);if(n){if(!n[2]&&"px"==r[2])return r[1];if("px"==n[2]&&!r[2])return r[1]+"px"}return t}var t=CKEDITOR.htmlParser.cssStyle,n=CKEDITOR.tools.cssLength,o=/^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,r={elements:{$:function(n){var o=n.attributes;if((o=(o=(o=o&&o["data-cke-realelement"])&&new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(o)))&&o.children[0])&&n.attributes["data-cke-resizable"]){var r=new t(n).rules;n=o.attributes;var i=r.width;r=r.height,i&&(n.width=e(n.width,i)),r&&(n.height=e(n.height,r))}return o}}};CKEDITOR.plugins.add("fakeobjects",{init:function(e){e.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}","fakeobjects")},afterInit:function(e){(e=(e=e.dataProcessor)&&e.htmlFilter)&&e.addRules(r,{applyToAll:!0})}}),CKEDITOR.editor.prototype.createFakeElement=function(e,o,r,i){var a=(a=this.lang.fakeobjects)[r]||a.unknown;return o={class:o,"data-cke-realelement":encodeURIComponent(e.getOuterHtml()),"data-cke-real-node-type":e.type,alt:a,title:a,align:e.getAttribute("align")||""},CKEDITOR.env.hc||(o.src=CKEDITOR.tools.transparentImageData),r&&(o["data-cke-real-element-type"]=r),i&&(o["data-cke-resizable"]=i,r=new t,i=e.getAttribute("width"),e=e.getAttribute("height"),i&&(r.rules.width=n(i)),e&&(r.rules.height=n(e)),r.populate(o)),this.document.createElement("img",{attributes:o})},CKEDITOR.editor.prototype.createFakeParserElement=function(e,o,r,i){var a,s=(s=this.lang.fakeobjects)[r]||s.unknown;return a=new CKEDITOR.htmlParser.basicWriter,e.writeHtml(a),a=a.getHtml(),o={class:o,"data-cke-realelement":encodeURIComponent(a),"data-cke-real-node-type":e.type,alt:s,title:s,align:e.attributes.align||""},CKEDITOR.env.hc||(o.src=CKEDITOR.tools.transparentImageData),r&&(o["data-cke-real-element-type"]=r),i&&(o["data-cke-resizable"]=i,i=e.attributes,e=new t,r=i.width,i=i.height,void 0!==r&&(e.rules.width=n(r)),void 0!==i&&(e.rules.height=n(i)),e.populate(o)),new CKEDITOR.htmlParser.element("img",o)},CKEDITOR.editor.prototype.restoreRealElement=function(t){if(t.data("cke-real-node-type")!=CKEDITOR.NODE_ELEMENT)return null;var n=CKEDITOR.dom.element.createFromHtml(decodeURIComponent(t.data("cke-realelement")),this.document);if(t.data("cke-resizable")){var o=t.getStyle("width");t=t.getStyle("height"),o&&n.setAttribute("width",e(n.getAttribute("width"),o)),t&&n.setAttribute("height",e(n.getAttribute("height"),t))}return n}}(),function(){function e(e){return e.replace(/'/g,"\\$&")}CKEDITOR.plugins.add("link",{requires:"dialog,fakeobjects",onLoad:function(){function e(e){return n.replace(/%1/g,"rtl"==e?"right":"left").replace(/%2/g,"cke_contents_"+e)}var t="background:url("+CKEDITOR.getUrl(this.path+"images"+(CKEDITOR.env.hidpi?"/hidpi":"")+"/anchor.png")+") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",n=".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{"+t+"padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{"+t+"width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";CKEDITOR.addCss(e("ltr")+e("rtl"))},init:function(e){var t="a[!href]";CKEDITOR.dialog.isTabEnabled(e,"link","advanced")&&(t=t.replace("]",",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")),CKEDITOR.dialog.isTabEnabled(e,"link","target")&&(t=t.replace("]",",target,onclick]")),e.addCommand("link",new CKEDITOR.dialogCommand("link",{allowedContent:t,requiredContent:"a[href]"})),e.addCommand("anchor",new CKEDITOR.dialogCommand("anchor",{allowedContent:"a[!name,id]",requiredContent:"a[name]"})),e.addCommand("unlink",new CKEDITOR.unlinkCommand),e.addCommand("removeAnchor",new CKEDITOR.removeAnchorCommand),e.setKeystroke(CKEDITOR.CTRL+76,"link"),e.ui.addButton&&(e.ui.addButton("Link",{label:e.lang.link.toolbar,command:"link",toolbar:"links,10"}),e.ui.addButton("Unlink",{label:e.lang.link.unlink,command:"unlink",toolbar:"links,20"}),e.ui.addButton("Anchor",{label:e.lang.link.anchor.toolbar,command:"anchor",toolbar:"links,30"})),CKEDITOR.dialog.add("link",this.path+"dialogs/link.js"),CKEDITOR.dialog.add("anchor",this.path+"dialogs/anchor.js"),e.on("doubleclick",function(t){var n=t.data.element.getAscendant({a:1,img:1},!0);n&&!n.isReadOnly()&&(n.is("a")?(t.data.dialog=!n.getAttribute("name")||n.getAttribute("href")&&n.getChildCount()?"link":"anchor",t.data.link=n):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,n)&&(t.data.dialog="anchor"))},null,null,0),e.on("doubleclick",function(t){t.data.dialog in{link:1,anchor:1}&&t.data.link&&e.getSelection().selectElement(t.data.link)},null,null,20),e.addMenuItems&&e.addMenuItems({anchor:{label:e.lang.link.anchor.menu,command:"anchor",group:"anchor",order:1},removeAnchor:{label:e.lang.link.anchor.remove,command:"removeAnchor",group:"anchor",order:5},link:{label:e.lang.link.menu,command:"link",group:"link",order:1},unlink:{label:e.lang.link.unlink,command:"unlink",group:"link",order:5}}),e.contextMenu&&e.contextMenu.addListener(function(t){if(!t||t.isReadOnly())return null;if(!(t=CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t))&&!(t=CKEDITOR.plugins.link.getSelectedLink(e)))return null;var n={};return t.getAttribute("href")&&t.getChildCount()&&(n={link:CKEDITOR.TRISTATE_OFF,unlink:CKEDITOR.TRISTATE_OFF}),t&&t.hasAttribute("name")&&(n.anchor=n.removeAnchor=CKEDITOR.TRISTATE_OFF),n}),this.compiledProtectionFunction=function(e){var t;return(e=e.config.emailProtection||"")&&"encode"!=e&&(t={},e.replace(/^([^(]+)\(([^)]+)\)$/,function(e,n,o){t.name=n,t.params=[],o.replace(/[^,\s]+/g,function(e){t.params.push(e)})})),t}(e)},afterInit:function(e){e.dataProcessor.dataFilter.addRules({elements:{a:function(t){return t.attributes.name?t.children.length?null:e.createFakeParserElement(t,"cke_anchor","anchor"):null}}});var t=e._.elementsPath&&e._.elementsPath.filters;t&&t.push(function(t,n){if("a"==n&&(CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t)||t.getAttribute("name")&&(!t.getAttribute("href")||!t.getChildCount())))return"anchor"})}});var t=/^javascript:/,n=/^mailto:([^?]+)(?:\?(.+))?$/,o=/subject=([^;?:@&=$,\/]*)/i,r=/body=([^;?:@&=$,\/]*)/i,i=/^#(.*)$/,a=/^((?:http|https|ftp|news):\/\/)?(.*)$/,s=/^(_(?:self|top|parent|blank))$/,l=/^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,u=/^javascript:([^(]+)\(([^)]+)\)$/,c=/\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,d=/(?:^|,)([^=]+)=(\d+|yes|no)/gi,h={id:"advId",dir:"advLangDir",accessKey:"advAccessKey",name:"advName",lang:"advLangCode",tabindex:"advTabIndex",title:"advTitle",type:"advContentType",class:"advCSSClasses",charset:"advCharset",style:"advStyles",rel:"advRel"};CKEDITOR.plugins.link={getSelectedLink:function(e,t){var n,o=e.getSelection(),r=o.getSelectedElement(),i=o.getRanges(),a=[];if(!t&&r&&r.is("a"))return r;for(r=0;r<i.length;r++)if((n=o.getRanges()[r]).shrink(CKEDITOR.SHRINK_ELEMENT,!0,{skipBogus:!0}),(n=e.elementPath(n.getCommonAncestor()).contains("a",1))&&t)a.push(n);else if(n)return n;return t?a:null},getEditorAnchors:function(e){for(var t,n=(o=(n=e.editable()).isInline()&&!e.plugins.divarea?e.document:n).getElementsByTag("a"),o=o.getElementsByTag("img"),r=[],i=0;t=n.getItem(i++);)(t.data("cke-saved-name")||t.hasAttribute("name"))&&r.push({name:t.data("cke-saved-name")||t.getAttribute("name"),id:t.getAttribute("id")});for(i=0;t=o.getItem(i++);)(t=this.tryRestoreFakeAnchor(e,t))&&r.push({name:t.getAttribute("name"),id:t.getAttribute("id")});return r},fakeAnchor:!0,tryRestoreFakeAnchor:function(e,t){if(t&&t.data("cke-real-element-type")&&"anchor"==t.data("cke-real-element-type")){var n=e.restoreRealElement(t);if(n.data("cke-saved-name"))return n}},parseLinkAttributes:function(e,f){var p,g=f&&(f.data("cke-saved-href")||f.getAttribute("href"))||"",m=e.plugins.link.compiledProtectionFunction,E=e.config.emailProtection,v={};if(g.match(t)&&("encode"==E?g=g.replace(l,function(e,t,n){return n=n||"","mailto:"+String.fromCharCode.apply(String,t.split(","))+n.replace(/\\'/g,"'")}):E&&g.replace(u,function(e,t,n){if(t==m.name){v.type="email",e=v.email={},t=/(^')|('$)/g;for(var o,r=(n=n.match(/[^,\s]+/g)).length,i=0;i<r;i++)o=decodeURIComponent(o=n[i].replace(t,"").replace(/\\'/g,"'")),e[m.params[i].toLowerCase()]=o;e.address=[e.name,e.domain].join("@")}})),!v.type)if(E=g.match(i))v.type="anchor",v.anchor={},v.anchor.name=v.anchor.id=E[1];else if(E=g.match(n)){p=g.match(o),g=g.match(r),v.type="email";var T=v.email={};T.address=E[1],p&&(T.subject=decodeURIComponent(p[1])),g&&(T.body=decodeURIComponent(g[1]))}else g&&(p=g.match(a))&&(v.type="url",v.url={},v.url.protocol=p[1],v.url.url=p[2]);if(f){if(g=f.getAttribute("target"))v.target={type:g.match(s)?g:"frame",name:g};else if(g=(g=f.data("cke-pa-onclick")||f.getAttribute("onclick"))&&g.match(c))for(v.target={type:"popup",name:g[1]};E=d.exec(g[2]);)"yes"!=E[2]&&"1"!=E[2]||E[1]in{height:1,width:1,top:1,left:1}?isFinite(E[2])&&(v.target[E[1]]=E[2]):v.target[E[1]]=!0;var C;for(C in null!==f.getAttribute("download")&&(v.download=!0),g={},h)(E=f.getAttribute(C))&&(g[h[C]]=E);(C=f.data("cke-saved-name")||g.advName)&&(g.advName=C),CKEDITOR.tools.isEmpty(g)||(v.advanced=g)}return v},getLinkAttributes:function(t,n){var o=t.config.emailProtection||"",r={};switch(n.type){case"url":o=n.url&&void 0!==n.url.protocol?n.url.protocol:"http://";var i=n.url&&CKEDITOR.tools.trim(n.url.url)||"";r["data-cke-saved-href"]=0===i.indexOf("/")?i:o+i;break;case"anchor":o=n.anchor&&n.anchor.id,r["data-cke-saved-href"]="#"+(n.anchor&&n.anchor.name||o||"");break;case"email":switch(i=(l=n.email).address,o){case"":case"encode":var a=encodeURIComponent(l.subject||""),s=encodeURIComponent(l.body||""),l=[];a&&l.push("subject="+a),s&&l.push("body="+s),l=l.length?"?"+l.join("&"):"","encode"==o?(o=["javascript:void(location.href='mailto:'+",function(e){for(var t,n=e.length,o=[],r=0;r<n;r++)t=e.charCodeAt(r),o.push(t);return"String.fromCharCode("+o.join(",")+")"}(i)],l&&o.push("+'",e(l),"'"),o.push(")")):o=["mailto:",i,l];break;default:o=i.split("@",2),l.name=o[0],l.domain=o[1],o=["javascript:",function(t,n){var o,r,i=t.plugins.link,a=i.compiledProtectionFunction.params;r=[i.compiledProtectionFunction.name,"("];for(var s=0;s<a.length;s++)o=n[i=a[s].toLowerCase()],0<s&&r.push(","),r.push("'",o?e(encodeURIComponent(n[i])):"","'");return r.push(")"),r.join("")}(t,l)]}r["data-cke-saved-href"]=o.join("")}if(n.target)if("popup"==n.target.type){o=["window.open(this.href, '",n.target.name||"","', '"];var u="resizable status location toolbar menubar fullscreen scrollbars dependent".split(" ");for(i=u.length,a=function(e){n.target[e]&&u.push(e+"="+n.target[e])},l=0;l<i;l++)u[l]+=n.target[u[l]]?"=yes":"=no";a("width"),a("left"),a("height"),a("top"),o.push(u.join(","),"'); return false;"),r["data-cke-pa-onclick"]=o.join("")}else"notSet"!=n.target.type&&n.target.name&&(r.target=n.target.name);if(n.download&&(r.download=""),n.advanced){for(var c in h)(o=n.advanced[h[c]])&&(r[c]=o);r.name&&(r["data-cke-saved-name"]=r.name)}for(var d in r["data-cke-saved-href"]&&(r.href=r["data-cke-saved-href"]),c={target:1,onclick:1,"data-cke-pa-onclick":1,"data-cke-saved-name":1,download:1},n.advanced&&CKEDITOR.tools.extend(c,h),r)delete c[d];return{set:r,removed:CKEDITOR.tools.objectKeys(c)}},showDisplayTextForElement:function(e,t){var n=t.getSelection();return!(t.widgets&&t.widgets.focused||n&&1<n.getRanges().length||e&&e.getName&&e.is({img:1,table:1,tbody:1,thead:1,tfoot:1,input:1,select:1,textarea:1}))}},CKEDITOR.unlinkCommand=function(){},CKEDITOR.unlinkCommand.prototype={exec:function(e){if(CKEDITOR.env.ie){var t,n=e.getSelection().getRanges()[0],o=n.getPreviousEditableNode()&&n.getPreviousEditableNode().getAscendant("a",!0)||n.getNextEditableNode()&&n.getNextEditableNode().getAscendant("a",!0);n.collapsed&&o&&(t=n.createBookmark(),n.selectNodeContents(o),n.select())}o=new CKEDITOR.style({element:"a",type:CKEDITOR.STYLE_INLINE,alwaysRemoveElement:1}),e.removeStyle(o),t&&(n.moveToBookmark(t),n.select())},refresh:function(e,t){var n=t.lastElement&&t.lastElement.getAscendant("a",!0);n&&"a"==n.getName()&&n.getAttribute("href")&&n.getChildCount()?this.setState(CKEDITOR.TRISTATE_OFF):this.setState(CKEDITOR.TRISTATE_DISABLED)},contextSensitive:1,startDisabled:1,requiredContent:"a[href]",editorFocus:1},CKEDITOR.removeAnchorCommand=function(){},CKEDITOR.removeAnchorCommand.prototype={exec:function(e){var t,n=e.getSelection(),o=n.createBookmarks();n&&(t=n.getSelectedElement())&&(t.getChildCount()?t.is("a"):CKEDITOR.plugins.link.tryRestoreFakeAnchor(e,t))?t.remove(1):(t=CKEDITOR.plugins.link.getSelectedLink(e))&&(t.hasAttribute("href")?(t.removeAttributes({name:1,"data-cke-saved-name":1}),t.removeClass("cke_anchor")):t.remove(1)),n.selectBookmarks(o)},requiredContent:"a[name]"},CKEDITOR.tools.extend(CKEDITOR.config,{linkShowAdvancedTab:!0,linkShowTargetTab:!0})}(),function(){function e(e,t,n){return d(t)&&d(n)&&n.equals(t.getNext(function(e){return!(W(e)||G(e)||h(e))}))}function t(e){this.upper=e[0],this.lower=e[1],this.set.apply(this,e.slice(2))}function n(e){var t=e.element;if(t&&d(t)&&(t=t.getAscendant(e.triggers,!0))&&e.editable.contains(t)){var n=a(t);if("true"==n.getAttribute("contenteditable"))return t;if(n.is(e.triggers))return n}return null}function o(e,t,n){return T(e,t),T(e,n),n=n.size.top,(e=t.size.bottom)&&n?0|(e+n)/2:e||n}function r(e,t,n){return t[n?"getPrevious":"getNext"](function(t){return t&&t.type==CKEDITOR.NODE_TEXT&&!W(t)||d(t)&&!h(t)&&!c(e,t)})}function i(e,t,n){return e>t&&e<n}function a(e,t){if(e.data("cke-editable"))return null;for(t||(e=e.getParent());e&&!e.data("cke-editable");){if(e.hasAttribute("contenteditable"))return e;e=e.getParent()}return null}function s(e){var t=e.doc,n=D('<span contenteditable="false" data-cke-magic-line="1" style="'+j+"position:absolute;border-top:1px dashed "+e.boxColor+'"></span>',t),o=CKEDITOR.getUrl(this.path+"images/"+(_.hidpi?"hidpi/":"")+"icon"+(e.rtl?"-rtl":"")+".png");for(I(n,{attach:function(){return this.wrap.getParent()||this.wrap.appendTo(e.editable,!0),this},lineChildren:[I(D('<span title="'+e.editor.lang.magicline.title+'" contenteditable="false">&#8629;</span>',t),{base:j+"height:17px;width:17px;"+(e.rtl?"left":"right")+":17px;background:url("+o+") center no-repeat "+e.boxColor+";cursor:pointer;"+(_.hc?"font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;":"")+(_.hidpi?"background-size: 9px 10px;":""),looks:["top:-8px; border-radius: 2px;","top:-17px; border-radius: 2px 2px 0px 0px;","top:-1px; border-radius: 0px 0px 2px 2px;"]}),I(D(q,t),{base:U+"left:0px;border-left-color:"+e.boxColor+";",looks:["border-width:8px 0 8px 8px;top:-8px","border-width:8px 0 0 8px;top:-8px","border-width:0 0 8px 8px;top:0px"]}),I(D(q,t),{base:U+"right:0px;border-right-color:"+e.boxColor+";",looks:["border-width:8px 8px 8px 0;top:-8px","border-width:8px 8px 0 0;top:-8px","border-width:0 8px 8px 0;top:0px"]})],detach:function(){return this.wrap.getParent()&&this.wrap.remove(),this},mouseNear:function(){T(e,this);var t=e.holdDistance,n=this.size;return!!(n&&i(e.mouse.y,n.top-t,n.bottom+t)&&i(e.mouse.x,n.left-t,n.right+t))},place:function(){var t=e.view,n=e.editable,o=e.trigger,r=o.upper,a=o.lower,s=r||a,l=s.getParent(),u={};for(var c in this.trigger=o,r&&T(e,r,!0),a&&T(e,a,!0),T(e,l,!0),e.inInlineMode&&C(e,!0),l.equals(n)?(u.left=t.scroll.x,u.right=-t.scroll.x,u.width=""):(u.left=s.size.left-s.size.margin.left+t.scroll.x-(e.inInlineMode?t.editable.left+t.editable.border.left:0),u.width=s.size.outerWidth+s.size.margin.left+s.size.margin.right+t.scroll.x,u.right=""),r&&a?u.top=r.size.margin.bottom===a.size.margin.top?0|r.size.bottom+r.size.margin.bottom/2:r.size.margin.bottom<a.size.margin.top?r.size.bottom+r.size.margin.bottom:r.size.bottom+r.size.margin.bottom-a.size.margin.top:r?a||(u.top=r.size.bottom+r.size.margin.bottom):u.top=a.size.top-a.size.margin.top,o.is(A)||i(u.top,t.scroll.y-15,t.scroll.y+5)?(u.top=e.inInlineMode?0:t.scroll.y,this.look(A)):o.is(P)||i(u.top,t.pane.bottom-5,t.pane.bottom+15)?(u.top=e.inInlineMode?t.editable.height+t.editable.padding.top+t.editable.padding.bottom:t.pane.bottom-1,this.look(P)):(e.inInlineMode&&(u.top-=t.editable.top+t.editable.border.top),this.look(L)),e.inInlineMode&&(u.top--,u.top+=t.editable.scroll.top,u.left+=t.editable.scroll.left),u)u[c]=CKEDITOR.tools.cssLength(u[c]);this.setStyles(u)},look:function(e){if(this.oldLook!=e){for(var t,n=this.lineChildren.length;n--;)(t=this.lineChildren[n]).setAttribute("style",t.base+t.looks[0|e/2]);this.oldLook=e}},wrap:new O("span",e.doc)}),t=n.lineChildren.length;t--;)n.lineChildren[t].appendTo(n);n.look(L),n.appendTo(n.wrap),n.unselectable(),n.lineChildren[0].on("mouseup",function(t){n.detach(),l(e,function(t){var n=e.line.trigger;t[n.is(K)?"insertBefore":"insertAfter"](n.is(K)?n.lower:n.upper)},!0),e.editor.focus(),_.ie||e.enterMode==CKEDITOR.ENTER_BR||e.hotNode.scrollIntoView(),t.data.preventDefault(!0)}),n.on("mousedown",function(e){e.data.preventDefault(!0)}),e.line=n}function l(e,t,n){var o,r=new CKEDITOR.dom.range(e.doc),i=e.editor;_.ie&&e.enterMode==CKEDITOR.ENTER_BR?o=e.doc.createText(F):(o=(o=a(e.element,!0))&&o.data("cke-enter-mode")||e.enterMode,(o=new O(k[o],e.doc)).is("br")||e.doc.createText(F).appendTo(o)),n&&i.fire("saveSnapshot"),t(o),r.moveToPosition(o,CKEDITOR.POSITION_AFTER_START),i.getSelection().selectRanges([r]),e.hotNode=o,n&&i.fire("saveSnapshot")}function u(e,t){return{canUndo:!0,modes:{wysiwyg:1},exec:function(){function o(n){var o=_.ie&&9>_.version?" ":F,r=e.hotNode&&e.hotNode.getText()==o&&e.element.equals(e.hotNode)&&e.lastCmdDirection===!!t;l(e,function(o){r&&e.hotNode&&e.hotNode.remove(),o[t?"insertAfter":"insertBefore"](n),o.setAttributes({"data-cke-magicline-hot":1,"data-cke-magicline-dir":!!t}),e.lastCmdDirection=!!t}),_.ie||e.enterMode==CKEDITOR.ENTER_BR||e.hotNode.scrollIntoView(),e.line.detach()}return function(i){var s,l;i=(i=i.getSelection().getStartElement()).getAscendant(V,1),g(e,i)||!i||i.equals(e.editable)||i.contains(e.editable)||((s=a(i))&&"false"==s.getAttribute("contenteditable")&&(i=s),e.element=i,d(s=r(e,i,!t))&&s.is(e.triggers)&&s.is($)&&(!r(e,s,!t)||(l=r(e,s,!t))&&d(l)&&l.is(e.triggers))?o(s):d(l=n(e))&&(r(e,l,!t)?(i=r(e,l,!t))&&d(i)&&i.is(e.triggers)&&o(l):o(l)))}}()}}function c(e,t){if(!t||t.type!=CKEDITOR.NODE_ELEMENT||!t.$)return!1;var n=e.line;return n.wrap.equals(t)||n.wrap.contains(t)}function d(e){return e&&e.type==CKEDITOR.NODE_ELEMENT&&e.$}function h(e){return!!d(e)&&((t=f(e))||(t=!(!d(e)||!(t={left:1,right:1,center:1})[e.getComputedStyle("float")]&&!t[e.getAttribute("align")])),t);var t}function f(e){return!!{absolute:1,fixed:1}[e.getComputedStyle("position")]}function p(e,t){return d(t)?t.is(e.triggers):null}function g(e,t){if(!t)return!1;for(var n=t.getParents(1),o=n.length;o--;)for(var r=e.tabuList.length;r--;)if(n[o].hasAttribute(e.tabuList[r]))return!0;return!1}function m(e){var n=e.editable,o=e.mouse,r=e.view,a=e.triggerOffset;C(e);var s=o.y>(e.inInlineMode?r.editable.top+r.editable.height/2:Math.min(r.editable.height,r.pane.height)/2);return(n=n[s?"getLast":"getFirst"](function(e){return!(W(e)||G(e))}))?(c(e,n)&&(n=e.line.wrap[s?"getPrevious":"getNext"](function(e){return!(W(e)||G(e))})),d(n)&&!h(n)&&p(e,n)?(T(e,n),!s&&0<=n.size.top&&i(o.y,0,n.size.top+a)?new t([null,n,K,x,e=e.inInlineMode||0===r.scroll.y?A:L]):s&&n.size.bottom<=r.pane.height&&i(o.y,n.size.bottom-a,r.pane.height)?(e=e.inInlineMode||i(n.size.bottom,r.pane.height-a,r.pane.height)?P:L,new t([n,null,S,x,e])):null):null):null}function E(e){var o=e.mouse,a=e.view,s=e.triggerOffset,l=n(e);if(!l)return null;T(e,l),s=Math.min(s,0|l.size.outerHeight/2);var u,c,f=[];if(i(o.y,l.size.top-1,l.size.top+s))c=!1;else{if(!i(o.y,l.size.bottom-s,l.size.bottom+1))return null;c=!0}if(h(l)||function(e,t,n){return!!(t=t[n?"getLast":"getFirst"](function(t){return e.isRelevant(t)&&!t.is(B)}))&&(T(e,t),n?t.size.top>e.mouse.y:t.size.bottom<e.mouse.y)}(e,l,c)||l.getParent().is(M))return null;var g=r(e,l,!c);if(g){if(g&&g.type==CKEDITOR.NODE_TEXT)return null;if(d(g)){if(h(g)||!p(e,g)||g.getParent().is(M))return null;f=[g,l][c?"reverse":"concat"]().concat([N,x])}}else l.equals(e.editable[c?"getLast":"getFirst"](e.isRelevant))?(C(e),c&&i(o.y,l.size.bottom-s,a.pane.height)&&i(l.size.bottom,a.pane.height-s,a.pane.height)?u=P:i(o.y,0,l.size.top+s)&&(u=A)):u=L,f=[null,l][c?"reverse":"concat"]().concat([c?S:K,x,u,l.equals(e.editable[c?"getLast":"getFirst"](e.isRelevant))?c?P:A:L]);return 0 in f?new t(f):null}function v(e,t,n,o){for(var r=t.getDocumentPosition(),i={},a={},s={},l={},u=Z.length;u--;)i[Z[u]]=parseInt(t.getComputedStyle.call(t,"border-"+Z[u]+"-width"),10)||0,s[Z[u]]=parseInt(t.getComputedStyle.call(t,"padding-"+Z[u]),10)||0,a[Z[u]]=parseInt(t.getComputedStyle.call(t,"margin-"+Z[u]),10)||0;return n&&!o||y(e,o),l.top=r.y-(n?0:e.view.scroll.y),l.left=r.x-(n?0:e.view.scroll.x),l.outerWidth=t.$.offsetWidth,l.outerHeight=t.$.offsetHeight,l.height=l.outerHeight-(s.top+s.bottom+i.top+i.bottom),l.width=l.outerWidth-(s.left+s.right+i.left+i.right),l.bottom=l.top+l.outerHeight,l.right=l.left+l.outerWidth,e.inInlineMode&&(l.scroll={top:t.$.scrollTop,left:t.$.scrollLeft}),I({border:i,padding:s,margin:a,ignoreScroll:n},l,!0)}function T(e,t,n){if(!d(t))return t.size=null;if(t.size){if(t.size.ignoreScroll==n&&t.size.date>new Date-H)return null}else t.size={};return I(t.size,v(e,t,n),{date:+new Date},!0)}function C(e,t){e.view.editable=v(e,e.editable,t,!0)}function y(e,t){e.view||(e.view={});var n=e.view;if(!(!t&&n&&n.date>new Date-H)){n=(o=e.win).getScrollPosition();var o=o.getViewPaneSize();I(e.view,{scroll:{x:n.x,y:n.y,width:e.doc.$.documentElement.scrollWidth-o.width,height:e.doc.$.documentElement.scrollHeight-o.height},pane:{width:o.width,height:o.height,bottom:o.height+n.y},date:+new Date},!0)}}function b(e,n,o,r){for(var i=r,a=r,s=0,l=!1,u=!1,c=e.view.pane.height,d=e.mouse;d.y+s<c&&0<d.y-s&&(l||(l=n(i,r)),u||(u=n(a,r)),!l&&0<d.y-s&&(i=o(e,{x:d.x,y:d.y-s})),!u&&d.y+s<c&&(a=o(e,{x:d.x,y:d.y+s})),!l||!u);)s+=2;return new t([i,a,null,null])}CKEDITOR.plugins.add("magicline",{init:function(e){var o,i,a,p=e.config,T=p.magicline_triggerOffset||30,b={editor:e,enterMode:p.enterMode,triggerOffset:T,holdDistance:0|T*(p.magicline_holdDistance||.5),boxColor:p.magicline_color||"#ff0000",rtl:"rtl"==p.contentsLangDirection,tabuList:["data-cke-hidden-sel"].concat(p.magicline_tabuList||[]),triggers:p.magicline_everywhere?V:{table:1,hr:1,div:1,ul:1,ol:1,dl:1,form:1,blockquote:1},isRelevant:function(e){return d(e)&&!c(b,e)&&!h(e)}};e.on("contentDom",function(){var d=e.editable(),h=e.document,T=e.window;I(b,{editable:d,inInlineMode:d.isInline(),doc:h,win:T,hotNode:null},!0),b.boundary=b.inInlineMode?b.editable:b.doc.getDocumentElement(),d.is(w.$inline)||(b.inInlineMode&&!f(d)&&d.setStyles({position:"relative",top:null,left:null}),s.call(this,b),y(b),d.attachListener(e,"beforeUndoImage",function(){b.line.detach()}),d.attachListener(e,"beforeGetData",function(){b.line.wrap.getParent()&&(b.line.detach(),e.once("getData",function(){b.line.attach()},null,null,1e3))},null,null,0),d.attachListener(b.inInlineMode?h:h.getWindow().getFrame(),"mouseout",function(t){if("wysiwyg"==e.mode)if(b.inInlineMode){var n=t.data.$.clientX;t=t.data.$.clientY,y(b),C(b,!0);var o=b.view.editable,r=b.view.scroll;n>o.left-r.x&&n<o.right-r.x&&t>o.top-r.y&&t<o.bottom-r.y||(clearTimeout(a),a=null,b.line.detach())}else clearTimeout(a),a=null,b.line.detach()}),d.attachListener(d,"keyup",function(){b.hiddenMode=0}),d.attachListener(d,"keydown",function(t){if("wysiwyg"==e.mode)switch(t.data.getKeystroke()){case 2228240:case 16:b.hiddenMode=1,b.line.detach()}}),d.attachListener(b.inInlineMode?d:h,"mousemove",function(t){if(i=!0,"wysiwyg"==e.mode&&!e.readOnly&&!a){var n={x:t.data.$.clientX,y:t.data.$.clientY};a=setTimeout(function(){b.mouse=n,a=b.trigger=null,y(b),i&&!b.hiddenMode&&e.focusManager.hasFocus&&!b.line.mouseNear()&&(b.element=z(b,!0))&&((b.trigger=m(b)||E(b)||X(b))&&!g(b,b.trigger.upper||b.trigger.lower)?b.line.attach().place():(b.trigger=null,b.line.detach()),i=!1)},30)}}),d.attachListener(T,"scroll",function(){"wysiwyg"==e.mode&&(b.line.detach(),_.webkit&&(b.hiddenMode=1,clearTimeout(o),o=setTimeout(function(){b.mouseDown||(b.hiddenMode=0)},50)))}),d.attachListener(R?h:T,"mousedown",function(){"wysiwyg"==e.mode&&(b.line.detach(),b.hiddenMode=1,b.mouseDown=1)}),d.attachListener(R?h:T,"mouseup",function(){b.hiddenMode=0,b.mouseDown=0}),e.addCommand("accessPreviousSpace",u(b)),e.addCommand("accessNextSpace",u(b,!0)),e.setKeystroke([[p.magicline_keystrokePrevious,"accessPreviousSpace"],[p.magicline_keystrokeNext,"accessNextSpace"]]),e.on("loadSnapshot",function(){var t,n,o,r;for(r in{p:1,br:1,div:1})for(o=(t=e.document.getElementsByTag(r)).count();o--;)if((n=t.getItem(o)).data("cke-magicline-hot"))return b.hotNode=n,void(b.lastCmdDirection="true"===n.data("cke-magicline-dir"))}),this.backdoor={accessFocusSpace:l,boxTrigger:t,isLine:c,getAscendantTrigger:n,getNonEmptyNeighbour:r,getSize:v,that:b,triggerEdge:E,triggerEditable:m,triggerExpand:X})},this)}});var I=CKEDITOR.tools.extend,O=CKEDITOR.dom.element,D=O.createFromHtml,_=CKEDITOR.env,R=CKEDITOR.env.ie&&9>CKEDITOR.env.version,w=CKEDITOR.dtd,k={},K=128,S=64,N=32,x=16,A=4,P=2,L=1,F="\xa0",M=w.$listItem,B=w.$tableContent,$=I({},w.$nonEditable,w.$empty),V=w.$block,H=100,j="width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",U=j+"border-color:transparent;display:block;border-style:solid;",q="<span>"+F+"</span>";k[CKEDITOR.ENTER_BR]="br",k[CKEDITOR.ENTER_P]="p",k[CKEDITOR.ENTER_DIV]="div",t.prototype={set:function(e,t,n){return this.properties=e+t+(n||L),this},is:function(e){return(this.properties&e)==e}};var z=function(){function e(e,t){var n=e.$.elementFromPoint(t.x,t.y);return n&&n.nodeType?new CKEDITOR.dom.element(n):null}return function(t,n,o){if(!t.mouse)return null;var r=t.doc,i=t.line.wrap,a=e(r,o=o||t.mouse);return n&&c(t,a)&&(i.hide(),a=e(r,o),i.show()),!a||a.type!=CKEDITOR.NODE_ELEMENT||!a.$||_.ie&&9>_.version&&!t.boundary.equals(a)&&!t.boundary.contains(a)?null:a}}(),W=CKEDITOR.dom.walker.whitespaces(),G=CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),X=function(){function t(t){var r,a,s;if(!d(f=t.element)||f.contains(t.editable)||f.isReadOnly())return null;if(e(0,r=(s=b(t,function(e,t){return!t.equals(e)},function(e,t){return z(e,!0,t)},f)).upper,a=s.lower))return s.set(N,8);if(r&&f.contains(r))for(;!r.getParent().equals(f);)r=r.getParent();else r=f.getFirst(function(e){return n(t,e)});if(a&&f.contains(a))for(;!a.getParent().equals(f);)a=a.getParent();else a=f.getLast(function(e){return n(t,e)});if(!r||!a)return null;if(T(t,r),T(t,a),!i(t.mouse.y,r.size.top,a.size.bottom))return null;for(var l,u,c,h,f=Number.MAX_VALUE;a&&!a.equals(r)&&(u=r.getNext(t.isRelevant));)(l=Math.abs(o(t,r,u)-t.mouse.y))<f&&(f=l,c=r,h=u),T(t,r=u);return c&&h&&i(t.mouse.y,c.size.top,h.size.bottom)?(s.upper=c,s.lower=h,s.set(N,8)):null}function n(e,t){return!(t&&t.type==CKEDITOR.NODE_TEXT||G(t)||h(t)||c(e,t)||t.type==CKEDITOR.NODE_ELEMENT&&t.$&&t.is("br"))}return function(n){var o,r=t(n);if(o=r){var i=r.lower;o=!(!(o=r.upper)||!i||h(i)||h(o)||i.equals(o)||o.equals(i)||i.contains(o)||o.contains(i)||!(p(n,o)&&p(n,i)&&e(0,o,i)))}return o?r:null}}(),Z=["top","left","right","bottom"]}(),CKEDITOR.config.magicline_keystrokePrevious=CKEDITOR.CTRL+CKEDITOR.SHIFT+51,CKEDITOR.config.magicline_keystrokeNext=CKEDITOR.CTRL+CKEDITOR.SHIFT+52,function(){function e(e){if(!e||e.type!=CKEDITOR.NODE_ELEMENT||"form"!=e.getName())return[];for(var t=[],n=["style","className"],o=0;o<n.length;o++){var r=e.$.elements.namedItem(n[o]);r&&(r=new CKEDITOR.dom.element(r),t.push([r,r.nextSibling]),r.remove())}return t}function t(e,t){if(e&&e.type==CKEDITOR.NODE_ELEMENT&&"form"==e.getName()&&0<t.length)for(var n=t.length-1;0<=n;n--){var o=t[n][0],r=t[n][1];r?o.insertBefore(r):o.appendTo(e)}}function n(n,o){var r=e(n),i={},a=n.$;return o||(i.class=a.className||"",a.className=""),i.inline=a.style.cssText||"",o||(a.style.cssText="position: static; overflow: visible"),t(r),i}function o(n,o){var r=e(n),i=n.$;"class"in o&&(i.className=o.class),"inline"in o&&(i.style.cssText=o.inline),t(r)}function r(e){if(!e.editable().isInline()){var t,n=CKEDITOR.instances;for(t in n){var o=n[t];"wysiwyg"!=o.mode||o.readOnly||((o=o.document.getBody()).setAttribute("contentEditable",!1),o.setAttribute("contentEditable",!0))}e.editable().hasFocus&&(e.toolbox.focus(),e.focus())}}CKEDITOR.plugins.add("maximize",{init:function(e){function t(){var t=c.getViewPaneSize();e.resize(t.width,t.height,null,!0)}if(e.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var i,a,s,l=e.lang,u=CKEDITOR.document,c=u.getWindow(),d=CKEDITOR.TRISTATE_OFF;e.addCommand("maximize",{modes:{wysiwyg:!CKEDITOR.env.iOS,source:!CKEDITOR.env.iOS},readOnly:1,editorFocus:!1,exec:function(){var h=e.container.getFirst(function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_inner")}),f=e.ui.space("contents");if("wysiwyg"==e.mode){var p=e.getSelection();i=p&&p.getRanges(),a=c.getScrollPosition()}else{var g=e.editable().$;i=!CKEDITOR.env.ie&&[g.selectionStart,g.selectionEnd],a=[g.scrollLeft,g.scrollTop]}if(this.state==CKEDITOR.TRISTATE_OFF){for(c.on("resize",t),s=c.getScrollPosition(),p=e.container;p=p.getParent();)p.setCustomData("maximize_saved_styles",n(p)),p.setStyle("z-index",e.config.baseFloatZIndex-5);f.setCustomData("maximize_saved_styles",n(f,!0)),h.setCustomData("maximize_saved_styles",n(h,!0)),f={overflow:CKEDITOR.env.webkit?"":"hidden",width:0,height:0},u.getDocumentElement().setStyles(f),!CKEDITOR.env.gecko&&u.getDocumentElement().setStyle("position","fixed"),CKEDITOR.env.gecko&&CKEDITOR.env.quirks||u.getBody().setStyles(f),CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(0,0)},0):c.$.scrollTo(0,0),h.setStyle("position",CKEDITOR.env.gecko&&CKEDITOR.env.quirks?"fixed":"absolute"),h.setStyles({"z-index":e.config.baseFloatZIndex-5,left:"0px",top:"0px"}),h.addClass("cke_maximized"),t(),f=h.getDocumentPosition(),h.setStyles({left:-1*f.x+"px",top:-1*f.y+"px"}),CKEDITOR.env.gecko&&r(e)}else if(this.state==CKEDITOR.TRISTATE_ON){c.removeListener("resize",t),p=[f,h];for(var m=0;m<p.length;m++)o(p[m],p[m].getCustomData("maximize_saved_styles")),p[m].removeCustomData("maximize_saved_styles");for(p=e.container;p=p.getParent();)o(p,p.getCustomData("maximize_saved_styles")),p.removeCustomData("maximize_saved_styles");CKEDITOR.env.ie?setTimeout(function(){c.$.scrollTo(s.x,s.y)},0):c.$.scrollTo(s.x,s.y),h.removeClass("cke_maximized"),CKEDITOR.env.webkit&&(h.setStyle("display","inline"),setTimeout(function(){h.setStyle("display","block")},0)),e.fire("resize",{outerHeight:e.container.$.offsetHeight,contentsHeight:f.$.offsetHeight,outerWidth:e.container.$.offsetWidth})}this.toggleState(),(p=this.uiItems[0])&&(f=this.state==CKEDITOR.TRISTATE_OFF?l.maximize.maximize:l.maximize.minimize,(p=CKEDITOR.document.getById(p._.id)).getChild(1).setHtml(f),p.setAttribute("title",f),p.setAttribute("href",'javascript:void("'+f+'");')),"wysiwyg"==e.mode?i?(CKEDITOR.env.gecko&&r(e),e.getSelection().selectRanges(i),(g=e.getSelection().getStartElement())&&g.scrollIntoView(!0)):c.$.scrollTo(a.x,a.y):(i&&(g.selectionStart=i[0],g.selectionEnd=i[1]),g.scrollLeft=a[0],g.scrollTop=a[1]),i=a=null,d=this.state,e.fire("maximize",this.state)},canUndo:!1}),e.ui.addButton&&e.ui.addButton("Maximize",{label:l.maximize.maximize,command:"maximize",toolbar:"tools,10"}),e.on("mode",function(){var t=e.getCommand("maximize");t.setState(t.state==CKEDITOR.TRISTATE_DISABLED?CKEDITOR.TRISTATE_DISABLED:d)},null,null,100)}}})}(),CKEDITOR.plugins.add("pastefromword",{requires:"clipboard",init:function(e){var t=0,n=this.path,o=void 0===e.config.pasteFromWord_inlineImages||e.config.pasteFromWord_inlineImages;e.addCommand("pastefromword",{canUndo:!1,async:!0,exec:function(e,n){t=1,e.execCommand("paste",{type:"html",notification:!n||void 0===n.notification||n.notification})}}),CKEDITOR.plugins.clipboard.addPasteButton(e,"PasteFromWord",{label:e.lang.pastefromword.toolbar,command:"pastefromword",toolbar:"clipboard,50"}),e.on("paste",function(o){var r=o.data,i=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?r.dataTransfer.getData("text/html",!0):null,a=CKEDITOR.plugins.clipboard.isCustomDataTypesSupported?r.dataTransfer.getData("text/rtf"):null,s={dataValue:i=i||r.dataValue,dataTransfer:{"text/rtf":a}};if(a=/(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/,a=/<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(i)||a.test(i),i&&(t||a)&&(!1!==e.fire("pasteFromWord",s)||t)){r.dontFilter=!0;var l=function(e,t,n){var o=CKEDITOR.cleanWord;return o?n():(e=CKEDITOR.getUrl(e.config.pasteFromWordCleanupFile||t+"filter/default.js"),CKEDITOR.scriptLoader.load(e,n,null,!0)),!o}(e,n,function(){l?e.fire("paste",r):(!e.config.pasteFromWordPromptCleanup||t||confirm(e.lang.pastefromword.confirmCleanup))&&(s.dataValue=CKEDITOR.cleanWord(s.dataValue,e),e.fire("afterPasteFromWord",s),r.dataValue=s.dataValue,!0===e.config.forcePasteAsPlainText?r.type="text":CKEDITOR.env.ie&&"allow-word"===e.config.forcePasteAsPlainText&&(r.type="html")),t=0});l&&o.cancel()}},null,null,3),CKEDITOR.plugins.clipboard.isCustomDataTypesSupported&&o&&e.on("afterPasteFromWord",function(e){var t,n=CKEDITOR.plugins.pastefromword&&CKEDITOR.plugins.pastefromword.images,o=[];if(n&&e.editor.filter.check("img[src]")&&0!==(t=n.extractTagsFromHtml(e.data.dataValue)).length&&0!==(n=n.extractFromRtf(e.data.dataTransfer["text/rtf"])).length&&(CKEDITOR.tools.array.forEach(n,function(e){o.push(e.type?"data:"+e.type+";base64,"+CKEDITOR.tools.convertBytesToBase64(CKEDITOR.tools.convertHexStringToBytes(e.hex)):null)},this),t.length===o.length))for(n=0;n<t.length;n++)0===t[n].indexOf("file://")&&o[n]&&(e.data.dataValue=e.data.dataValue.replace(t[n],o[n]))})}}),function(){var e={canUndo:!1,async:!0,exec:function(e,t){var n=e.lang,o=CKEDITOR.tools.keystrokeToString(n.common.keyboard,e.getCommandKeystroke(CKEDITOR.env.ie?e.commands.paste:this)),r=t&&void 0!==t.notification?t.notification:!t||!t.from||"keystrokeHandler"===t.from&&CKEDITOR.env.ie;n=r&&"string"==typeof r?r:n.pastetext.pasteNotification.replace(/%1/,'<kbd aria-label="'+o.aria+'">'+o.display+"</kbd>"),e.execCommand("paste",{type:"text",notification:!!r&&n})}};CKEDITOR.plugins.add("pastetext",{requires:"clipboard",init:function(t){var n=CKEDITOR.env.safari?CKEDITOR.CTRL+CKEDITOR.ALT+CKEDITOR.SHIFT+86:CKEDITOR.CTRL+CKEDITOR.SHIFT+86;t.addCommand("pastetext",e),t.setKeystroke(n,"pastetext"),CKEDITOR.plugins.clipboard.addPasteButton(t,"PasteText",{label:t.lang.pastetext.button,command:"pastetext",toolbar:"clipboard,40"}),t.config.forcePasteAsPlainText&&t.on("beforePaste",function(e){"html"!=e.data.type&&(e.data.type="text")}),t.on("pasteState",function(e){t.getCommand("pastetext").setState(e.data)})}})}(),CKEDITOR.plugins.add("removeformat",{init:function(e){e.addCommand("removeFormat",CKEDITOR.plugins.removeformat.commands.removeformat),e.ui.addButton&&e.ui.addButton("RemoveFormat",{label:e.lang.removeformat.toolbar,command:"removeFormat",toolbar:"cleanup,10"})}}),CKEDITOR.plugins.removeformat={commands:{removeformat:{exec:function(e){for(var t,n=e._.removeFormatRegex||(e._.removeFormatRegex=new RegExp("^(?:"+e.config.removeFormatTags.replace(/,/g,"|")+")$","i")),o=e._.removeAttributes||(e._.removeAttributes=e.config.removeFormatAttributes.split(",")),r=CKEDITOR.plugins.removeformat.filter,i=e.getSelection().getRanges(),a=i.createIterator(),s=function(e){return e.type==CKEDITOR.NODE_ELEMENT};t=a.getNextRange();){t.collapsed||t.enlarge(CKEDITOR.ENLARGE_ELEMENT);var l=t.createBookmark(),u=l.startNode,c=l.endNode,d=function(t){for(var o,i=e.elementPath(t),a=i.elements,s=1;(o=a[s])&&!o.equals(i.block)&&!o.equals(i.blockLimit);s++)n.test(o.getName())&&r(e,o)&&t.breakParent(o)};if(d(u),c)for(d(c),u=u.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT);u&&!u.equals(c);)if(u.isReadOnly()){if(u.getPosition(c)&CKEDITOR.POSITION_CONTAINS)break;u=u.getNext(s)}else d=u.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT),"img"==u.getName()&&u.data("cke-realelement")||!r(e,u)||(n.test(u.getName())?u.remove(1):(u.removeAttributes(o),e.fire("removeFormatCleanup",u))),u=d;t.moveToBookmark(l)}e.forceNextSelectionCheck(),e.getSelection().selectRanges(i)}}},filter:function(e,t){for(var n=e._.removeFormatFilters||[],o=0;o<n.length;o++)if(!1===n[o](t))return!1;return!0}},CKEDITOR.editor.prototype.addRemoveFormatFilter=function(e){this._.removeFormatFilters||(this._.removeFormatFilters=[]),this._.removeFormatFilters.push(e)},CKEDITOR.config.removeFormatTags="b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var",CKEDITOR.config.removeFormatAttributes="class,style,lang,width,height,align,hspace,valign",CKEDITOR.plugins.add("resize",{init:function(e){function t(t){var n=s.width,r=s.height,l=n+(t.data.$.screenX-a.x)*("rtl"==i?-1:1);t=r+(t.data.$.screenY-a.y),u&&(n=Math.max(o.resize_minWidth,Math.min(l,o.resize_maxWidth))),c&&(r=Math.max(o.resize_minHeight,Math.min(t,o.resize_maxHeight))),e.resize(u?n:null,r)}function n(){CKEDITOR.document.removeListener("mousemove",t),CKEDITOR.document.removeListener("mouseup",n),e.document&&(e.document.removeListener("mousemove",t),e.document.removeListener("mouseup",n))}var o=e.config,r=e.ui.spaceId("resizer"),i=e.element?e.element.getDirection(1):"ltr";if(!o.resize_dir&&(o.resize_dir="vertical"),void 0===o.resize_maxWidth&&(o.resize_maxWidth=3e3),void 0===o.resize_maxHeight&&(o.resize_maxHeight=3e3),void 0===o.resize_minWidth&&(o.resize_minWidth=750),void 0===o.resize_minHeight&&(o.resize_minHeight=250),!1!==o.resize_enabled){var a,s,l=null,u=("both"==o.resize_dir||"horizontal"==o.resize_dir)&&o.resize_minWidth!=o.resize_maxWidth,c=("both"==o.resize_dir||"vertical"==o.resize_dir)&&o.resize_minHeight!=o.resize_maxHeight,d=CKEDITOR.tools.addFunction(function(r){l||(l=e.getResizable()),a={x:r.screenX,y:r.screenY},o.resize_minWidth>(s={width:l.$.offsetWidth||0,height:l.$.offsetHeight||0}).width&&(o.resize_minWidth=s.width),o.resize_minHeight>s.height&&(o.resize_minHeight=s.height),CKEDITOR.document.on("mousemove",t),CKEDITOR.document.on("mouseup",n),e.document&&(e.document.on("mousemove",t),e.document.on("mouseup",n)),r.preventDefault&&r.preventDefault()});e.on("destroy",function(){CKEDITOR.tools.removeFunction(d)}),e.on("uiSpace",function(t){if("bottom"==t.data.space){var n="";u&&!c&&(n=" cke_resizer_horizontal"),!u&&c&&(n=" cke_resizer_vertical");var o='<span id="'+r+'" class="cke_resizer'+n+" cke_resizer_"+i+'" title="'+CKEDITOR.tools.htmlEncode(e.lang.common.resize)+'" onmousedown="CKEDITOR.tools.callFunction('+d+', event)">'+("ltr"==i?"\u25e2":"\u25e3")+"</span>";"ltr"==i&&"ltr"==n?t.data.html+=o:t.data.html=o+t.data.html}},e,null,100),e.on("maximize",function(t){e.ui.space("resizer")[t.data==CKEDITOR.TRISTATE_ON?"hide":"show"]()})}}}),CKEDITOR.plugins.add("menubutton",{requires:"button,menu",onLoad:function(){var e=function(e){var t=this._,n=t.menu;t.state!==CKEDITOR.TRISTATE_DISABLED&&(t.on&&n?n.hide():(t.previousState=t.state,n||((n=t.menu=new CKEDITOR.menu(e,{panel:{className:"cke_menu_panel",attributes:{"aria-label":e.lang.common.options}}})).onHide=CKEDITOR.tools.bind(function(){var n=this.command?e.getCommand(this.command).modes:this.modes;this.setState(!n||n[e.mode]?t.previousState:CKEDITOR.TRISTATE_DISABLED),t.on=0},this),this.onMenu&&n.addListener(this.onMenu)),this.setState(CKEDITOR.TRISTATE_ON),t.on=1,setTimeout(function(){n.show(CKEDITOR.document.getById(t.id),4)},0)))};CKEDITOR.ui.menuButton=CKEDITOR.tools.createClass({base:CKEDITOR.ui.button,$:function(t){delete t.panel,this.base(t),this.hasArrow=!0,this.click=e},statics:{handler:{create:function(e){return new CKEDITOR.ui.menuButton(e)}}}})},beforeInit:function(e){e.ui.addHandler(CKEDITOR.UI_MENUBUTTON,CKEDITOR.ui.menuButton.handler)}}),CKEDITOR.UI_MENUBUTTON="menubutton",CKEDITOR.plugins.add("scayt",{requires:"menubutton,dialog",tabToOpen:null,dialogName:"scaytDialog",onLoad:function(e){CKEDITOR.plugins.scayt.onLoadTimestamp=(new Date).getTime(),"moono-lisa"==(CKEDITOR.skinName||e.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/scayt.css"),CKEDITOR.document.appendStyleSheet(this.path+"dialogs/dialog.css")},init:function(e){var t=this,n=CKEDITOR.plugins.scayt;this.bindEvents(e),this.parseConfig(e),this.addRule(e),CKEDITOR.dialog.add(this.dialogName,CKEDITOR.getUrl(this.path+"dialogs/options.js")),this.addMenuItems(e);var o=e.lang.scayt,r=CKEDITOR.env;e.ui.add("Scayt",CKEDITOR.UI_MENUBUTTON,{label:o.text_title,title:e.plugins.wsc?e.lang.wsc.title:o.text_title,modes:{wysiwyg:!(r.ie&&(8>r.version||r.quirks))},toolbar:"spellchecker,20",refresh:function(){var t=e.ui.instances.Scayt.getState();e.scayt&&(t=n.state.scayt[e.name]?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF),e.fire("scaytButtonState",t)},onRender:function(){var t=this;e.on("scaytButtonState",function(e){void 0!==typeof e.data&&t.setState(e.data)})},onMenu:function(){var t=e.scayt;e.getMenuItem("scaytToggle").label=e.lang.scayt[t&&n.state.scayt[e.name]?"btn_disable":"btn_enable"];var o={scaytToggle:CKEDITOR.TRISTATE_OFF,scaytOptions:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytLangs:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytDict:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,scaytAbout:t?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,WSC:e.plugins.wsc?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED};return e.config.scayt_uiTabs[0]||delete o.scaytOptions,e.config.scayt_uiTabs[1]||delete o.scaytLangs,e.config.scayt_uiTabs[2]||delete o.scaytDict,t&&!CKEDITOR.plugins.scayt.isNewUdSupported(t)&&(delete o.scaytDict,e.config.scayt_uiTabs[2]=0,CKEDITOR.plugins.scayt.alarmCompatibilityMessage()),o}}),e.contextMenu&&e.addMenuItems&&(e.contextMenu.addListener(function(n,o){var r,i,a=e.scayt;return a&&(i=a.getSelectionNode())&&(r=t.menuGenerator(e,i),a.showBanner("."+e.contextMenu._.definition.panel.className.split(" ").join(" ."))),r}),e.contextMenu._.onHide=CKEDITOR.tools.override(e.contextMenu._.onHide,function(t){return function(){var n=e.scayt;return n&&n.hideBanner(),t.apply(this)}}))},addMenuItems:function(e){var t=this,n=CKEDITOR.plugins.scayt;e.addMenuGroup("scaytButton");for(var o=e.config.scayt_contextMenuItemsOrder.split("|"),r=0;r<o.length;r++)o[r]="scayt_"+o[r];if((o=["grayt_description","grayt_suggest","grayt_control"].concat(o))&&o.length)for(r=0;r<o.length;r++)e.addMenuGroup(o[r],r-10);e.addCommand("scaytToggle",{exec:function(e){var t=e.scayt;n.state.scayt[e.name]=!n.state.scayt[e.name],!0===n.state.scayt[e.name]?t||n.createScayt(e):t&&n.destroy(e)}}),e.addCommand("scaytAbout",{exec:function(e){e.scayt.tabToOpen="about",e.lockSelection(),e.openDialog(t.dialogName)}}),e.addCommand("scaytOptions",{exec:function(e){e.scayt.tabToOpen="options",e.lockSelection(),e.openDialog(t.dialogName)}}),e.addCommand("scaytLangs",{exec:function(e){e.scayt.tabToOpen="langs",e.lockSelection(),e.openDialog(t.dialogName)}}),e.addCommand("scaytDict",{exec:function(e){e.scayt.tabToOpen="dictionaries",e.lockSelection(),e.openDialog(t.dialogName)}}),o={scaytToggle:{label:e.lang.scayt.btn_enable,group:"scaytButton",command:"scaytToggle"},scaytAbout:{label:e.lang.scayt.btn_about,group:"scaytButton",command:"scaytAbout"},scaytOptions:{label:e.lang.scayt.btn_options,group:"scaytButton",command:"scaytOptions"},scaytLangs:{label:e.lang.scayt.btn_langs,group:"scaytButton",command:"scaytLangs"},scaytDict:{label:e.lang.scayt.btn_dictionaries,group:"scaytButton",command:"scaytDict"}},e.plugins.wsc&&(o.WSC={label:e.lang.wsc.toolbar,group:"scaytButton",onClick:function(){var t=CKEDITOR.plugins.scayt,n=e.scayt,o=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.container.getText():e.document.getBody().getText();(o=o.replace(/\s/g,""))?(n&&t.state.scayt[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!0),e.lockSelection(),e.execCommand("checkspell")):alert("Nothing to check!")}}),e.addMenuItems(o)},bindEvents:function(e){var t=CKEDITOR.plugins.scayt,n=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE,o=function(){t.destroy(e)},r=function(){!t.state.scayt[e.name]||e.readOnly||e.scayt||t.createScayt(e)},i=function(){n?e.config.scayt_inlineModeImmediateMarkup?r():(e.on("blur",function(){setTimeout(o,0)}),e.on("focus",r),e.focusManager.hasFocus&&r()):r(),function(){var t=e.editable();t.attachListener(t,"focus",function(t){var o,i;if(CKEDITOR.plugins.scayt&&!e.scayt&&setTimeout(r,0),t=CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[e.name]&&e.scayt,(n||t)&&e._.savedSelection){t=!(t=e._.savedSelection.getSelectedElement())&&e._.savedSelection.getRanges();for(var a=0;a<t.length;a++)"string"==typeof(i=t[a]).startContainer.$.nodeValue&&((o=i.startContainer.getText().length)<i.startOffset||o<i.endOffset)&&e.unlockSelection(!1)}},this,null,-10)}();var t=e.editable();t.attachListener(t,"mousedown",function(t){t=t.data.getTarget();var n=e.widgets&&e.widgets.getByElement(t);n&&(n.wrapper=t.getAscendant(function(e){return e.hasAttribute("data-cke-widget-wrapper")},!0))},this,null,-10)};e.on("contentDom",i),e.on("beforeCommandExec",function(n){var o=e.scayt,r=!1,i=!1,a=!0;n.data.name in t.options.disablingCommandExec&&"wysiwyg"==e.mode?o&&(t.destroy(e),e.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)):"bold"!==n.data.name&&"italic"!==n.data.name&&"underline"!==n.data.name&&"strike"!==n.data.name&&"subscript"!==n.data.name&&"superscript"!==n.data.name&&"enter"!==n.data.name&&"cut"!==n.data.name&&"language"!==n.data.name||!o||("cut"===n.data.name&&(a=!1,i=!0),"language"===n.data.name&&(i=r=!0),e.fire("reloadMarkupScayt",{removeOptions:{removeInside:a,forceBookmark:i,language:r},timeout:0}))}),e.on("beforeSetMode",function(n){"source"==n.data&&((n=e.scayt)&&(t.destroy(e),e.fire("scaytButtonState",CKEDITOR.TRISTATE_DISABLED)),e.document&&e.document.getBody().removeAttribute("_jquid"))}),e.on("afterCommandExec",function(n){"wysiwyg"!=e.mode||"undo"!=n.data.name&&"redo"!=n.data.name||setTimeout(function(){t.reloadMarkup(e.scayt)},250)}),e.on("readOnly",function(n){var o;n&&(o=e.scayt,!0===n.editor.readOnly?o&&o.fire("removeMarkupInDocument",{}):o?t.reloadMarkup(o):"wysiwyg"==n.editor.mode&&!0===t.state.scayt[n.editor.name]&&(t.createScayt(e),n.editor.fire("scaytButtonState",CKEDITOR.TRISTATE_ON)))}),e.on("beforeDestroy",o),e.on("setData",function(){o(),(e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE||e.plugins.divarea)&&i()},this,null,50),e.on("reloadMarkupScayt",function(n){var o=n.data&&n.data.removeOptions,r=n.data&&n.data.language,i=e.scayt;i&&setTimeout(function(){r&&(o.selectionNode=e.plugins.language.getCurrentLangElement(e),o.selectionNode=o.selectionNode&&o.selectionNode.$||null),i.removeMarkupInSelectionNode(o),t.reloadMarkup(i)},n.data&&n.data.timeout||0)}),e.on("insertElement",function(){e.fire("reloadMarkupScayt",{removeOptions:{forceBookmark:!0}})},this,null,50),e.on("insertHtml",function(){e.scayt&&e.scayt.setFocused&&e.scayt.setFocused(!0),e.fire("reloadMarkupScayt")},this,null,50),e.on("insertText",function(){e.scayt&&e.scayt.setFocused&&e.scayt.setFocused(!0),e.fire("reloadMarkupScayt")},this,null,50),e.on("scaytDialogShown",function(t){t.data.selectPage(e.scayt.tabToOpen)})},parseConfig:function(e){if((o=CKEDITOR.plugins.scayt).replaceOldOptionsNames(e.config),"boolean"!=typeof e.config.scayt_autoStartup&&(e.config.scayt_autoStartup=!1),o.state.scayt[e.name]=e.config.scayt_autoStartup,"boolean"!=typeof e.config.grayt_autoStartup&&(e.config.grayt_autoStartup=!1),"boolean"!=typeof e.config.scayt_inlineModeImmediateMarkup&&(e.config.scayt_inlineModeImmediateMarkup=!1),o.state.grayt[e.name]=e.config.grayt_autoStartup,e.config.scayt_contextCommands||(e.config.scayt_contextCommands="ignoreall|add"),e.config.scayt_contextMenuItemsOrder||(e.config.scayt_contextMenuItemsOrder="suggest|moresuggest|control"),e.config.scayt_sLang||(e.config.scayt_sLang="en_US"),(void 0===e.config.scayt_maxSuggestions||"number"!=typeof e.config.scayt_maxSuggestions||0>e.config.scayt_maxSuggestions)&&(e.config.scayt_maxSuggestions=3),(void 0===e.config.scayt_minWordLength||"number"!=typeof e.config.scayt_minWordLength||1>e.config.scayt_minWordLength)&&(e.config.scayt_minWordLength=3),void 0!==e.config.scayt_customDictionaryIds&&"string"==typeof e.config.scayt_customDictionaryIds||(e.config.scayt_customDictionaryIds=""),void 0!==e.config.scayt_userDictionaryName&&"string"==typeof e.config.scayt_userDictionaryName||(e.config.scayt_userDictionaryName=null),"string"==typeof e.config.scayt_uiTabs&&3===e.config.scayt_uiTabs.split(",").length){var t=[],n=[];e.config.scayt_uiTabs=e.config.scayt_uiTabs.split(","),CKEDITOR.tools.search(e.config.scayt_uiTabs,function(e){1===Number(e)||0===Number(e)?(n.push(!0),t.push(Number(e))):n.push(!1)}),e.config.scayt_uiTabs=null===CKEDITOR.tools.search(n,!1)?t:[1,1,1]}else e.config.scayt_uiTabs=[1,1,1];if("string"!=typeof e.config.scayt_serviceProtocol&&(e.config.scayt_serviceProtocol=null),"string"!=typeof e.config.scayt_serviceHost&&(e.config.scayt_serviceHost=null),"string"!=typeof e.config.scayt_servicePort&&(e.config.scayt_servicePort=null),"string"!=typeof e.config.scayt_servicePath&&(e.config.scayt_servicePath=null),e.config.scayt_moreSuggestions||(e.config.scayt_moreSuggestions="on"),"string"!=typeof e.config.scayt_customerId&&(e.config.scayt_customerId="1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"),"string"!=typeof e.config.scayt_customPunctuation&&(e.config.scayt_customPunctuation="-"),"string"!=typeof e.config.scayt_srcUrl&&(o=-1!=(o=document.location.protocol).search(/https?:/)?o:"http:",e.config.scayt_srcUrl=o+"//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js"),"boolean"!=typeof CKEDITOR.config.scayt_handleCheckDirty&&(CKEDITOR.config.scayt_handleCheckDirty=!0),"boolean"!=typeof CKEDITOR.config.scayt_handleUndoRedo&&(CKEDITOR.config.scayt_handleUndoRedo=!0),CKEDITOR.config.scayt_handleUndoRedo=!!CKEDITOR.plugins.undo&&CKEDITOR.config.scayt_handleUndoRedo,"boolean"!=typeof e.config.scayt_multiLanguageMode&&(e.config.scayt_multiLanguageMode=!1),"object"!=typeof e.config.scayt_multiLanguageStyles&&(e.config.scayt_multiLanguageStyles={}),e.config.scayt_ignoreAllCapsWords&&"boolean"!=typeof e.config.scayt_ignoreAllCapsWords&&(e.config.scayt_ignoreAllCapsWords=!1),e.config.scayt_ignoreDomainNames&&"boolean"!=typeof e.config.scayt_ignoreDomainNames&&(e.config.scayt_ignoreDomainNames=!1),e.config.scayt_ignoreWordsWithMixedCases&&"boolean"!=typeof e.config.scayt_ignoreWordsWithMixedCases&&(e.config.scayt_ignoreWordsWithMixedCases=!1),e.config.scayt_ignoreWordsWithNumbers&&"boolean"!=typeof e.config.scayt_ignoreWordsWithNumbers&&(e.config.scayt_ignoreWordsWithNumbers=!1),e.config.scayt_disableOptionsStorage){var o=CKEDITOR.tools.isArray(e.config.scayt_disableOptionsStorage)?e.config.scayt_disableOptionsStorage:"string"==typeof e.config.scayt_disableOptionsStorage?[e.config.scayt_disableOptionsStorage]:void 0,r="all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),i=["lang","ignore-all-caps-words","ignore-domain-names","ignore-words-with-mixed-cases","ignore-words-with-numbers"],a=CKEDITOR.tools.search,s=CKEDITOR.tools.indexOf;e.config.scayt_disableOptionsStorage=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=!!a(e,"options");if(!a(r,n)||o&&a(i,function(e){if("lang"===e)return!1}))return;if(a(i,n)&&i.splice(s(i,n),1),"all"===n||o&&a(e,"lang"))return[];"options"===n&&(i=["lang"])}return[].concat(i)}(o)}},addRule:function(e){var t=CKEDITOR.plugins.scayt,n=(r=e.dataProcessor)&&r.htmlFilter,o=e._.elementsPath&&e._.elementsPath.filters,r=r&&r.dataFilter,i=e.addRemoveFormatFilter;o&&o.push(function(n){if(e.scayt&&(n.hasAttribute(t.options.data_attribute_name)||n.hasAttribute(t.options.problem_grammar_data_attribute)))return!1}),r&&r.addRules({elements:{span:function(e){var n=e.hasClass(t.options.misspelled_word_class)&&e.attributes[t.options.data_attribute_name],o=e.hasClass(t.options.problem_grammar_class)&&e.attributes[t.options.problem_grammar_data_attribute];return t&&(n||o)&&delete e.name,e}}}),n&&n.addRules({elements:{span:function(e){var n=e.hasClass(t.options.misspelled_word_class)&&e.attributes[t.options.data_attribute_name],o=e.hasClass(t.options.problem_grammar_class)&&e.attributes[t.options.problem_grammar_data_attribute];return t&&(n||o)&&delete e.name,e}}}),i&&i.call(e,function(n){var o=!0;return e.scayt&&(n.hasAttribute(t.options.data_attribute_name)||n.hasAttribute(t.options.problem_grammar_data_attribute))&&(o=!1),o})},scaytMenuDefinition:function(e){var t=this;return{scayt:{scayt_ignore:{label:(e=e.scayt).getLocal("btn_ignore"),group:"scayt_control",order:1,exec:function(e){e.scayt.ignoreWord()}},scayt_ignoreall:{label:e.getLocal("btn_ignoreAll"),group:"scayt_control",order:2,exec:function(e){e.scayt.ignoreAllWords()}},scayt_add:{label:e.getLocal("btn_addWord"),group:"scayt_control",order:3,exec:function(e){var t=e.scayt;setTimeout(function(){t.addWordToUserDictionary()},10)}},scayt_option:{label:e.getLocal("btn_options"),group:"scayt_control",order:4,exec:function(e){e.scayt.tabToOpen="options",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[0]}},scayt_language:{label:e.getLocal("btn_langs"),group:"scayt_control",order:5,exec:function(e){e.scayt.tabToOpen="langs",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[1]}},scayt_dictionary:{label:e.getLocal("btn_dictionaries"),group:"scayt_control",order:6,exec:function(e){e.scayt.tabToOpen="dictionaries",e.lockSelection(),e.openDialog(t.dialogName)},verification:function(e){return 1==e.config.scayt_uiTabs[2]}},scayt_about:{label:e.getLocal("btn_about"),group:"scayt_control",order:7,exec:function(e){e.scayt.tabToOpen="about",e.lockSelection(),e.openDialog(t.dialogName)}}},grayt:{grayt_problemdescription:{label:"Grammar problem description",group:"grayt_description",order:1,state:CKEDITOR.TRISTATE_DISABLED,exec:function(e){}},grayt_ignore:{label:e.getLocal("btn_ignore"),group:"grayt_control",order:2,exec:function(e){e.scayt.ignorePhrase()}},grayt_ignoreall:{label:e.getLocal("btn_ignoreAll"),group:"grayt_control",order:3,exec:function(e){e.scayt.ignoreAllPhrases()}}}}},buildSuggestionMenuItems:function(e,t,n){var o={},r={},i=n?"word":"phrase",a=n?"startGrammarCheck":"startSpellCheck",s=e.scayt;if(0<t.length&&"no_any_suggestions"!==t[0])if(n)for(n=0;n<t.length;n++){var l="scayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_");e.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],i,a)),n<e.config.scayt_maxSuggestions?(e.addMenuItem(l,{label:t[n],command:l,group:"scayt_suggest",order:n+1}),o[l]=CKEDITOR.TRISTATE_OFF):(e.addMenuItem(l,{label:t[n],command:l,group:"scayt_moresuggest",order:n+1}),r[l]=CKEDITOR.TRISTATE_OFF,"on"===e.config.scayt_moreSuggestions&&(e.addMenuItem("scayt_moresuggest",{label:s.getLocal("btn_moreSuggestions"),group:"scayt_moresuggest",order:10,getItems:function(){return r}}),o.scayt_moresuggest=CKEDITOR.TRISTATE_OFF))}else for(n=0;n<t.length;n++)l="grayt_suggest_"+CKEDITOR.plugins.scayt.suggestions[n].replace(" ","_"),e.addCommand(l,this.createCommand(CKEDITOR.plugins.scayt.suggestions[n],i,a)),e.addMenuItem(l,{label:t[n],command:l,group:"grayt_suggest",order:n+1}),o[l]=CKEDITOR.TRISTATE_OFF;else o.no_scayt_suggest=CKEDITOR.TRISTATE_DISABLED,e.addCommand("no_scayt_suggest",{exec:function(){}}),e.addMenuItem("no_scayt_suggest",{label:s.getLocal("btn_noSuggestions")||"no_scayt_suggest",command:"no_scayt_suggest",group:"scayt_suggest",order:0});return o},menuGenerator:function(e,t){var n,o,r,i=e.scayt,a=this.scaytMenuDefinition(e),s={},l=e.config.scayt_contextCommands.split("|"),u=t.getAttribute(i.getLangAttribute())||i.getLang();if(n=i.isScaytNode(t),o=i.isGraytNode(t),n?(a=a.scayt,s=t.getAttribute(i.getScaytNodeAttributeName()),i.fire("getSuggestionsList",{lang:u,word:s}),s=this.buildSuggestionMenuItems(e,CKEDITOR.plugins.scayt.suggestions,n)):o&&(a=a.grayt,s=t.getAttribute(i.getGraytNodeAttributeName()),r=i.getProblemDescriptionText(s,u),a.grayt_problemdescription&&r&&(a.grayt_problemdescription.label=r),i.fire("getGrammarSuggestionsList",{lang:u,phrase:s}),s=this.buildSuggestionMenuItems(e,CKEDITOR.plugins.scayt.suggestions,n)),n&&"off"==e.config.scayt_contextCommands)return s;for(var c in a)n&&-1==CKEDITOR.tools.indexOf(l,c.replace("scayt_",""))&&"all"!=e.config.scayt_contextCommands||o&&"grayt_problemdescription"!==c&&-1==CKEDITOR.tools.indexOf(l,c.replace("grayt_",""))&&"all"!=e.config.scayt_contextCommands||(s[c]=void 0!==a[c].state?a[c].state:CKEDITOR.TRISTATE_OFF,"function"!=typeof a[c].verification||a[c].verification(e)||delete s[c],e.addCommand(c,{exec:a[c].exec}),e.addMenuItem(c,{label:e.lang.scayt[a[c].label]||a[c].label,command:c,group:a[c].group,order:a[c].order}));return s},createCommand:function(e,t,n){return{exec:function(o){o=o.scayt;var r={};r[t]=e,o.replaceSelectionNode(r),"startGrammarCheck"===n&&o.removeMarkupInSelectionNode({grammarOnly:!0}),o.fire(n)}}}}),CKEDITOR.plugins.scayt={charsToObserve:[{charName:"cke-fillingChar",charCode:function(){var e;if(n=(n=CKEDITOR.version.match(/^\d(\.\d*)*/))&&n[0]){e="4.5.7";var t,n=n.replace(/\./g,"");e=e.replace(/\./g,""),t=0<=(t=n.length-e.length)?t:0,e=parseInt(n)>=parseInt(e)*Math.pow(10,t)}return e?Array(7).join(String.fromCharCode(8203)):String.fromCharCode(8203)}()}],onLoadTimestamp:"",state:{scayt:{},grayt:{}},warningCounter:0,suggestions:[],options:{disablingCommandExec:{source:!0,newpage:!0,templates:!0},data_attribute_name:"data-scayt-word",misspelled_word_class:"scayt-misspell-word",problem_grammar_data_attribute:"data-grayt-phrase",problem_grammar_class:"gramm-problem"},backCompatibilityMap:{scayt_service_protocol:"scayt_serviceProtocol",scayt_service_host:"scayt_serviceHost",scayt_service_port:"scayt_servicePort",scayt_service_path:"scayt_servicePath",scayt_customerid:"scayt_customerId"},alarmCompatibilityMessage:function(){5>this.warningCounter&&(console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."),this.warningCounter+=1)},isNewUdSupported:function(e){return!!e.getUserDictionary},reloadMarkup:function(e){var t;e&&(t=e.getScaytLangList(),e.reloadMarkup?e.reloadMarkup():(this.alarmCompatibilityMessage(),t&&t.ltr&&t.rtl&&e.fire("startSpellCheck, startGrammarCheck")))},replaceOldOptionsNames:function(e){for(var t in e)t in this.backCompatibilityMap&&(e[this.backCompatibilityMap[t]]=e[t],delete e[t])},createScayt:function(e){var t=this,n=CKEDITOR.plugins.scayt;this.loadScaytLibrary(e,function(e){function o(e){return new SCAYT.CKSCAYT(e,function(){},function(){})}var r=e.window&&e.window.getFrame()||e.editable();if(r){var i;r={lang:e.config.scayt_sLang,container:r.$,customDictionary:e.config.scayt_customDictionaryIds,userDictionaryName:e.config.scayt_userDictionaryName,localization:e.langCode,customer_id:e.config.scayt_customerId,customPunctuation:e.config.scayt_customPunctuation,debug:e.config.scayt_debug,data_attribute_name:t.options.data_attribute_name,misspelled_word_class:t.options.misspelled_word_class,problem_grammar_data_attribute:t.options.problem_grammar_data_attribute,problem_grammar_class:t.options.problem_grammar_class,"options-to-restore":e.config.scayt_disableOptionsStorage,focused:e.editable().hasFocus,ignoreElementsRegex:e.config.scayt_elementsToIgnore,ignoreGraytElementsRegex:e.config.grayt_elementsToIgnore,minWordLength:e.config.scayt_minWordLength,multiLanguageMode:e.config.scayt_multiLanguageMode,multiLanguageStyles:e.config.scayt_multiLanguageStyles,graytAutoStartup:e.config.grayt_autoStartup,charsToObserve:n.charsToObserve},e.config.scayt_serviceProtocol&&(r.service_protocol=e.config.scayt_serviceProtocol),e.config.scayt_serviceHost&&(r.service_host=e.config.scayt_serviceHost),e.config.scayt_servicePort&&(r.service_port=e.config.scayt_servicePort),e.config.scayt_servicePath&&(r.service_path=e.config.scayt_servicePath),"boolean"==typeof e.config.scayt_ignoreAllCapsWords&&(r["ignore-all-caps-words"]=e.config.scayt_ignoreAllCapsWords),"boolean"==typeof e.config.scayt_ignoreDomainNames&&(r["ignore-domain-names"]=e.config.scayt_ignoreDomainNames),"boolean"==typeof e.config.scayt_ignoreWordsWithMixedCases&&(r["ignore-words-with-mixed-cases"]=e.config.scayt_ignoreWordsWithMixedCases),"boolean"==typeof e.config.scayt_ignoreWordsWithNumbers&&(r["ignore-words-with-numbers"]=e.config.scayt_ignoreWordsWithNumbers);try{i=o(r)}catch(e){t.alarmCompatibilityMessage(),delete r.charsToObserve,i=o(r)}i.subscribe("suggestionListSend",function(e){for(var t={},n=[],o=0;o<e.suggestionList.length;o++)t["word_"+e.suggestionList[o]]||(t["word_"+e.suggestionList[o]]=e.suggestionList[o],n.push(e.suggestionList[o]));CKEDITOR.plugins.scayt.suggestions=n}),i.subscribe("selectionIsChanged",function(t){e.getSelection().isLocked&&"restoreSelection"!==t.action&&e.lockSelection(),"restoreSelection"===t.action&&e.selectionChange(!0)}),i.subscribe("graytStateChanged",function(t){n.state.grayt[e.name]=t.state}),i.addMarkupHandler&&i.addMarkupHandler(function(t){var n=e.editable(),o=n.getCustomData(t.charName);o&&(o.$=t.node,n.setCustomData(t.charName,o))}),e.scayt=i,e.fire("scaytButtonState",e.readOnly?CKEDITOR.TRISTATE_DISABLED:CKEDITOR.TRISTATE_ON)}else n.state.scayt[e.name]=!1})},destroy:function(e){e.scayt&&e.scayt.destroy(),delete e.scayt,e.fire("scaytButtonState",CKEDITOR.TRISTATE_OFF)},loadScaytLibrary:function(e,t){var n=function(){CKEDITOR.fireOnce("scaytReady"),e.scayt||"function"==typeof t&&t(e)};void 0===window.SCAYT||"function"!=typeof window.SCAYT.CKSCAYT?CKEDITOR.scriptLoader.load(e.config.scayt_srcUrl+"?"+this.onLoadTimestamp,function(e){e&&n()}):window.SCAYT&&"function"==typeof window.SCAYT.CKSCAYT&&n()}},CKEDITOR.on("dialogDefinition",function(e){var t=e.data.name;e=e.data.definition.dialog,"scaytDialog"!==t&&"checkspell"!==t&&(e.on("show",function(e){e=e.sender&&e.sender.getParentEditor();var t=CKEDITOR.plugins.scayt,n=e.scayt;n&&t.state.scayt[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!0)}),e.on("hide",function(e){e=e.sender&&e.sender.getParentEditor();var t=CKEDITOR.plugins.scayt,n=e.scayt;n&&t.state.scayt[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1)})),"scaytDialog"===t&&e.on("cancel",function(e){return!1},this,null,-1),"checkspell"===t&&e.on("cancel",function(e){e=e.sender&&e.sender.getParentEditor();var t=CKEDITOR.plugins.scayt,n=e.scayt;n&&t.state.scayt[e.name]&&n.setMarkupPaused&&n.setMarkupPaused(!1),e.unlockSelection()},this,null,-2),"link"===t&&e.on("ok",function(e){var t=e.sender&&e.sender.getParentEditor();t&&setTimeout(function(){t.fire("reloadMarkupScayt",{removeOptions:{removeInside:!0,forceBookmark:!0},timeout:0})},0)}),"replace"===t&&e.on("hide",function(e){e=e.sender&&e.sender.getParentEditor();var t=CKEDITOR.plugins.scayt,n=e.scayt;e&&setTimeout(function(){n&&(n.fire("removeMarkupInDocument",{}),t.reloadMarkup(n))},0)})}),CKEDITOR.on("scaytReady",function(){if(!0===CKEDITOR.config.scayt_handleCheckDirty&&((e=CKEDITOR.editor.prototype).checkDirty=CKEDITOR.tools.override(e.checkDirty,function(e){return function(){var t=null,n=this.scayt;if(CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt){if(t="ready"==this.status){var o=n.removeMarkupFromString(this.getSnapshot());n=n.removeMarkupFromString(this._.previousValue),t=t&&n!==o}}else t=e.call(this);return t}}),e.resetDirty=CKEDITOR.tools.override(e.resetDirty,function(e){return function(){CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[this.name]&&this.scayt?this._.previousValue=this.scayt.removeMarkupFromString(this.getSnapshot()):e.call(this)}})),!0===CKEDITOR.config.scayt_handleUndoRedo){var e,t="function"==typeof(e=CKEDITOR.plugins.undo.Image.prototype).equalsContent?"equalsContent":"equals";e[t]=CKEDITOR.tools.override(e[t],function(e){return function(t){var n,o=t.editor.scayt,r=this.contents,i=t.contents;return CKEDITOR.plugins.scayt&&CKEDITOR.plugins.scayt.state.scayt[t.editor.name]&&t.editor.scayt&&(this.contents=o.removeMarkupFromString(r)||"",t.contents=o.removeMarkupFromString(i)||""),n=e.apply(this,arguments),this.contents=r,t.contents=i,n}})}}),function(){var e={preserveState:!0,editorFocus:!1,readOnly:1,exec:function(e){this.toggleState(),this.refresh(e)},refresh:function(e){if(e.document){var t=this.state==CKEDITOR.TRISTATE_ON?"attachClass":"removeClass";e.editable()[t]("cke_show_borders")}}};CKEDITOR.plugins.add("showborders",{modes:{wysiwyg:1},onLoad:function(){var e;e=(CKEDITOR.env.ie6Compat?[".%1 table.%2,",".%1 table.%2 td, .%1 table.%2 th","{","border : #d3d3d3 1px dotted","}"]:".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g,"cke_show_border").replace(/%1/g,"cke_show_borders "),CKEDITOR.addCss(e)},init:function(t){var n=t.addCommand("showborders",e);n.canUndo=!1,!1!==t.config.startupShowBorders&&n.setState(CKEDITOR.TRISTATE_ON),t.on("mode",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)},null,null,100),t.on("contentDom",function(){n.state!=CKEDITOR.TRISTATE_DISABLED&&n.refresh(t)}),t.on("removeFormatCleanup",function(e){e=e.data,t.getCommand("showborders").state==CKEDITOR.TRISTATE_ON&&e.is("table")&&(!e.hasAttribute("border")||0>=parseInt(e.getAttribute("border"),10))&&e.addClass("cke_show_border")})},afterInit:function(e){var t=e.dataProcessor;e=t&&t.dataFilter,t=t&&t.htmlFilter,e&&e.addRules({elements:{table:function(e){var t=(e=e.attributes).class,n=parseInt(e.border,10);n&&!(0>=n)||t&&-1!=t.indexOf("cke_show_border")||(e.class=(t||"")+" cke_show_border")}}}),t&&t.addRules({elements:{table:function(e){var t=(e=e.attributes).class;t&&(e.class=t.replace("cke_show_border","").replace(/\s{2}/," ").replace(/^\s+|\s+$/,""))}}})}}),CKEDITOR.on("dialogDefinition",function(e){var t=e.data.name;"table"!=t&&"tableProperties"!=t||((t=(e=e.data.definition).getContents("info").get("txtBorder")).commit=CKEDITOR.tools.override(t.commit,function(e){return function(t,n){e.apply(this,arguments);var o=parseInt(this.getValue(),10);n[!o||0>=o?"addClass":"removeClass"]("cke_show_border")}}),(e=(e=e.getContents("advanced"))&&e.get("advCSSClasses"))&&(e.setup=CKEDITOR.tools.override(e.setup,function(e){return function(){e.apply(this,arguments),this.setValue(this.getValue().replace(/cke_show_border/,""))}}),e.commit=CKEDITOR.tools.override(e.commit,function(e){return function(t,n){e.apply(this,arguments),parseInt(n.getAttribute("border"),10)||n.addClass("cke_show_border")}})))})}(),function(){CKEDITOR.plugins.add("sourcearea",{init:function(t){function n(){var e=r&&this.equals(CKEDITOR.document.getActive());this.hide(),this.setStyle("height",this.getParent().$.clientHeight+"px"),this.setStyle("width",this.getParent().$.clientWidth+"px"),this.show(),e&&this.focus()}if(t.elementMode!=CKEDITOR.ELEMENT_MODE_INLINE){var o=CKEDITOR.plugins.sourcearea;t.addMode("source",function(o){var r=t.ui.space("contents").getDocument().createElement("textarea");r.setStyles(CKEDITOR.tools.extend({width:CKEDITOR.env.ie7Compat?"99%":"100%",height:"100%",resize:"none",outline:"none","text-align":"left"},CKEDITOR.tools.cssVendorPrefix("tab-size",t.config.sourceAreaTabSize||4))),r.setAttribute("dir","ltr"),r.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"),t.ui.space("contents").append(r),(r=t.editable(new e(t,r))).setData(t.getData(1)),CKEDITOR.env.ie&&(r.attachListener(t,"resize",n,r),r.attachListener(CKEDITOR.document.getWindow(),"resize",n,r),CKEDITOR.tools.setTimeout(n,0,r)),t.fire("ariaWidget",this),o()}),t.addCommand("source",o.commands.source),t.ui.addButton&&t.ui.addButton("Source",{label:t.lang.sourcearea.toolbar,command:"source",toolbar:"mode,10"}),t.on("mode",function(){t.getCommand("source").setState("source"==t.mode?CKEDITOR.TRISTATE_ON:CKEDITOR.TRISTATE_OFF)});var r=CKEDITOR.env.ie&&9==CKEDITOR.env.version}}});var e=CKEDITOR.tools.createClass({base:CKEDITOR.editable,proto:{setData:function(e){this.setValue(e),this.status="ready",this.editor.fire("dataReady")},getData:function(){return this.getValue()},insertHtml:function(){},insertElement:function(){},insertText:function(){},setReadOnly:function(e){this[(e?"set":"remove")+"Attribute"]("readOnly","readonly")},detach:function(){e.baseProto.detach.call(this),this.clearCustomData(),this.remove()}}})}(),CKEDITOR.plugins.sourcearea={commands:{source:{modes:{wysiwyg:1,source:1},editorFocus:!1,readOnly:1,exec:function(e){"wysiwyg"==e.mode&&e.fire("saveSnapshot"),e.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED),e.setMode("source"==e.mode?"wysiwyg":"source")},canUndo:!1}}},CKEDITOR.plugins.add("specialchar",{availableLangs:{af:1,ar:1,az:1,bg:1,ca:1,cs:1,cy:1,da:1,de:1,"de-ch":1,el:1,en:1,"en-au":1,"en-ca":1,"en-gb":1,eo:1,es:1,"es-mx":1,et:1,eu:1,fa:1,fi:1,fr:1,"fr-ca":1,gl:1,he:1,hr:1,hu:1,id:1,it:1,ja:1,km:1,ko:1,ku:1,lt:1,lv:1,nb:1,nl:1,no:1,oc:1,pl:1,pt:1,"pt-br":1,ro:1,ru:1,si:1,sk:1,sl:1,sq:1,sv:1,th:1,tr:1,tt:1,ug:1,uk:1,vi:1,zh:1,"zh-cn":1},requires:"dialog",init:function(e){var t=this;CKEDITOR.dialog.add("specialchar",this.path+"dialogs/specialchar.js"),e.addCommand("specialchar",{exec:function(){var n=t.availableLangs[n=e.langCode]?n:t.availableLangs[n.replace(/-.*/,"")]?n.replace(/-.*/,""):"en";CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t.path+"dialogs/lang/"+n+".js"),function(){CKEDITOR.tools.extend(e.lang.specialchar,t.langEntries[n]),e.openDialog("specialchar")})},modes:{wysiwyg:1},canUndo:!1}),e.ui.addButton&&e.ui.addButton("SpecialChar",{label:e.lang.specialchar.toolbar,command:"specialchar",toolbar:"insert,50"})}}),CKEDITOR.config.specialChars="! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "),CKEDITOR.plugins.add("stylescombo",{requires:"richcombo",init:function(e){var t=e.config,n=e.lang.stylescombo,o={},r=[],i=[];e.on("stylesSet",function(n){if(n=n.data.styles){for(var a,s,l,u=0,c=n.length;u<c;u++)a=n[u],e.blockless&&a.element in CKEDITOR.dtd.$block||"string"==typeof a.type&&!CKEDITOR.style.customHandlers[a.type]||(s=a.name,a=new CKEDITOR.style(a),e.filter.customConfig&&!e.filter.check(a))||(a._name=s,a._.enterMode=t.enterMode,a._.type=l=a.assignedTo||a.type,a._.weight=u+1e3*(l==CKEDITOR.STYLE_OBJECT?1:l==CKEDITOR.STYLE_BLOCK?2:3),o[s]=a,r.push(a),i.push(a));r.sort(function(e,t){return e._.weight-t._.weight})}}),e.ui.addRichCombo("Styles",{label:n.label,title:n.panelTitle,toolbar:"styles,10",allowedContent:i,panel:{css:[CKEDITOR.skin.getPath("editor")].concat(t.contentsCss),multiSelect:!0,attributes:{"aria-label":n.panelTitle}},init:function(){var e,t,o,i,a,s;for(a=0,s=r.length;a<s;a++)t=(e=r[a])._name,(i=e._.type)!=o&&(this.startGroup(n["panelTitle"+String(i)]),o=i),this.add(t,e.type==CKEDITOR.STYLE_OBJECT?t:e.buildPreview(),t);this.commit()},onClick:function(t){e.focus(),e.fire("saveSnapshot"),t=o[t];var n=e.elementPath();t.group&&t.removeStylesFromSameGroup(e)?e.applyStyle(t):e[t.checkActive(n,e)?"removeStyle":"applyStyle"](t),e.fire("saveSnapshot")},onRender:function(){e.on("selectionChange",function(t){for(var n,r=this.getValue(),i=0,a=(t=t.data.path.elements).length;i<a;i++)for(var s in n=t[i],o)if(o[s].checkElementRemovable(n,!0,e))return void(s!=r&&this.setValue(s));this.setValue("")},this)},onOpen:function(){var t=(t=e.getSelection()).getSelectedElement()||t.getStartElement()||e.editable(),r=(t=e.elementPath(t),[0,0,0,0]);for(var i in this.showAll(),this.unmarkAll(),o){var a=o[i],s=a._.type;a.checkApplicable(t,e,e.activeFilter)?r[s]++:this.hideItem(i),a.checkActive(t,e)&&this.mark(i)}r[CKEDITOR.STYLE_BLOCK]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_BLOCK)]),r[CKEDITOR.STYLE_INLINE]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_INLINE)]),r[CKEDITOR.STYLE_OBJECT]||this.hideGroup(n["panelTitle"+String(CKEDITOR.STYLE_OBJECT)])},refresh:function(){var t=e.elementPath();if(t){for(var n in o)if(o[n].checkApplicable(t,e,e.activeFilter))return;this.setState(CKEDITOR.TRISTATE_DISABLED)}},reset:function(){o={},r=[]}})}}),function(){function e(e){return{editorFocus:!1,canUndo:!1,modes:{wysiwyg:1},exec:function(t){if(t.editable().hasFocus){var n,o=t.getSelection();if(n=new CKEDITOR.dom.elementPath(o.getCommonAncestor(),o.root).contains({td:1,th:1},1)){if(o=t.createRange(),(i=CKEDITOR.tools.tryThese(function(){return n.getParent().$.cells[n.$.cellIndex+(e?-1:1)]},function(){var t;return(t=(t=n.getParent()).getAscendant("table").$.rows[t.$.rowIndex+(e?-1:1)]).cells[e?t.cells.length-1:0]}))||e){if(!i)return!0;i=new CKEDITOR.dom.element(i),o.moveToElementEditStart(i),o.checkStartOfBlock()&&o.checkEndOfBlock()||o.selectNodeContents(i)}else{for(var r=n.getAscendant("table").$,i=n.getParent().$.cells,a=(r=new CKEDITOR.dom.element(r.insertRow(-1),t.document),0),s=i.length;a<s;a++)r.append(new CKEDITOR.dom.element(i[a],t.document).clone(!1,!1)).appendBogus();o.moveToElementEditStart(r)}return o.select(!0),!0}}return!1}}}var t={editorFocus:!1,modes:{wysiwyg:1,source:1}},n={exec:function(e){e.container.focusNext(!0,e.tabIndex)}},o={exec:function(e){e.container.focusPrevious(!0,e.tabIndex)}};CKEDITOR.plugins.add("tab",{init:function(r){for(var i=!1!==r.config.enableTabKeyTools,a=r.config.tabSpaces||0,s="";a--;)s+="\xa0";s&&r.on("key",function(e){9==e.data.keyCode&&(r.insertText(s),e.cancel())}),i&&r.on("key",function(e){(9==e.data.keyCode&&r.execCommand("selectNextCell")||e.data.keyCode==CKEDITOR.SHIFT+9&&r.execCommand("selectPreviousCell"))&&e.cancel()}),r.addCommand("blur",CKEDITOR.tools.extend(n,t)),r.addCommand("blurBack",CKEDITOR.tools.extend(o,t)),r.addCommand("selectNextCell",e()),r.addCommand("selectPreviousCell",e(!0))}})}(),CKEDITOR.dom.element.prototype.focusNext=function(e,t){var n,o,r,i,a,s,l=void 0===t?this.getTabIndex():t;if(0>=l)for(a=this.getNextSourceNode(e,CKEDITOR.NODE_ELEMENT);a;){if(a.isVisible()&&0===a.getTabIndex()){r=a;break}a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT)}else for(a=this.getDocument().getBody().getFirst();a=a.getNextSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!o&&a.equals(this)){if(o=!0,e){if(!(a=a.getNextSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else o&&!this.contains(a)&&(n=1);if(a.isVisible()&&!(0>(s=a.getTabIndex()))){if(n&&s==l){r=a;break}s>l&&(!r||!i||s<i)?(r=a,i=s):r||0!==s||(r=a,i=s)}}r&&r.focus()},CKEDITOR.dom.element.prototype.focusPrevious=function(e,t){for(var n,o,r,i,a=void 0===t?this.getTabIndex():t,s=0,l=this.getDocument().getBody().getLast();l=l.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT);){if(!n)if(!o&&l.equals(this)){if(o=!0,e){if(!(l=l.getPreviousSourceNode(!0,CKEDITOR.NODE_ELEMENT)))break;n=1}}else o&&!this.contains(l)&&(n=1);if(l.isVisible()&&!(0>(i=l.getTabIndex())))if(0>=a){if(n&&0===i){r=l;break}i>s&&(r=l,s=i)}else{if(n&&i==a){r=l;break}i<a&&(!r||i>s)&&(r=l,s=i)}}r&&r.focus()},CKEDITOR.plugins.add("table",{requires:"dialog",init:function(e){function t(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains("table",1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}if(!e.blockless){var n=e.lang.table;e.addCommand("table",new CKEDITOR.dialogCommand("table",{context:"table",allowedContent:"table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];"+(e.plugins.dialogadvtab?"table"+e.plugins.dialogadvtab.allowedContent():""),requiredContent:"table",contentTransformations:[["table{width}: sizeToStyle","table[width]: sizeToAttribute"],["td: splitBorderShorthand"],[{element:"table",right:function(e){if(e.styles){var t;if(e.styles.border)t=CKEDITOR.tools.style.parse.border(e.styles.border);else if(CKEDITOR.env.ie&&8===CKEDITOR.env.version){var n=e.styles;n["border-left"]&&n["border-left"]===n["border-right"]&&n["border-right"]===n["border-top"]&&n["border-top"]===n["border-bottom"]&&(t=CKEDITOR.tools.style.parse.border(n["border-top"]))}t&&t.style&&"solid"===t.style&&t.width&&0!==parseFloat(t.width)&&(e.attributes.border=1),"collapse"==e.styles["border-collapse"]&&(e.attributes.cellspacing=0)}}}]]})),e.addCommand("tableProperties",new CKEDITOR.dialogCommand("tableProperties",t())),e.addCommand("tableDelete",t({exec:function(e){var t=e.elementPath().contains("table",1);if(t){var n=t.getParent(),o=e.editable();1!=n.getChildCount()||n.is("td","th")||n.equals(o)||(t=n),(e=e.createRange()).moveToPosition(t,CKEDITOR.POSITION_BEFORE_START),t.remove(),e.select()}}})),e.ui.addButton&&e.ui.addButton("Table",{label:n.toolbar,command:"table",toolbar:"insert,30"}),CKEDITOR.dialog.add("table",this.path+"dialogs/table.js"),CKEDITOR.dialog.add("tableProperties",this.path+"dialogs/table.js"),e.addMenuItems&&e.addMenuItems({table:{label:n.menu,command:"tableProperties",group:"table",order:5},tabledelete:{label:n.deleteTable,command:"tableDelete",group:"table",order:1}}),e.on("doubleclick",function(e){e.data.element.is("table")&&(e.data.dialog="tableProperties")}),e.contextMenu&&e.contextMenu.addListener(function(){return{tabledelete:CKEDITOR.TRISTATE_OFF,table:CKEDITOR.TRISTATE_OFF}})}}}),function(){function e(e,t){function n(e){return!t||t.contains(e)&&e.getAscendant("table",!0).equals(t)}function o(e){0<r.length||e.type!=CKEDITOR.NODE_ELEMENT||!p.test(e.getName())||e.getCustomData("selected_cell")||(CKEDITOR.dom.element.setMarker(i,e,"selected_cell",!0),r.push(e))}var r=[],i={};if(!e)return r;for(var a=e.getRanges(),s=0;s<a.length;s++){var l,u;if((l=a[s]).collapsed)(l=l.getCommonAncestor().getAscendant({td:1,th:1},!0))&&n(l)&&r.push(l);else for((l=new CKEDITOR.dom.walker(l)).guard=o;u=l.next();)u.type==CKEDITOR.NODE_ELEMENT&&u.is(CKEDITOR.dtd.table)||(u=u.getAscendant({td:1,th:1},!0))&&!u.getCustomData("selected_cell")&&n(u)&&(CKEDITOR.dom.element.setMarker(i,u,"selected_cell",!0),r.push(u))}return CKEDITOR.dom.element.clearAllMarkers(i),r}function t(t,n){var o=(r=(s=g(t)?t:e(t))[0]).getAscendant("table"),r=r.getDocument(),i=(l=s[0].getParent()).$.rowIndex,a=(s=s[s.length-1]).getParent().$.rowIndex+s.$.rowSpan-1,s=new CKEDITOR.dom.element(o.$.rows[a]),l=(i=n?i:a,n?l:s);for(o=(s=CKEDITOR.tools.buildTableMap(o))[i],i=n?s[i-1]:s[i+1],s=s[0].length,r=r.createElement("tr"),a=0;o[a]&&a<s;a++){var u;1<o[a].rowSpan&&i&&o[a]==i[a]?(u=o[a]).rowSpan+=1:((u=new CKEDITOR.dom.element(o[a]).clone()).removeAttribute("rowSpan"),u.appendBogus(),r.append(u),u=u.$),a+=u.colSpan-1}return n?r.insertBefore(l):r.insertAfter(l),r}function n(t){if(t instanceof CKEDITOR.dom.selection){var o=t.getRanges(),r=(l=e(t))[0].getAscendant("table"),i=CKEDITOR.tools.buildTableMap(r),a=l[0].getParent().$.rowIndex,s=(l=l[l.length-1]).getParent().$.rowIndex+l.$.rowSpan-1,l=[];for(t.reset(),t=a;t<=s;t++){for(var u=i[t],c=new CKEDITOR.dom.element(r.$.rows[t]),d=0;d<u.length;d++){var h=new CKEDITOR.dom.element(u[d]),f=h.getParent().$.rowIndex;1==h.$.rowSpan?h.remove():(--h.$.rowSpan,f==t&&((f=i[t+1])[d-1]?h.insertAfter(new CKEDITOR.dom.element(f[d-1])):new CKEDITOR.dom.element(r.$.rows[t+1]).append(h,1))),d+=h.$.colSpan-1}l.push(c)}for(i=r.$.rows,o[0].moveToPosition(r,CKEDITOR.POSITION_BEFORE_START),a=new CKEDITOR.dom.element(i[s+1]||(0<a?i[a-1]:null)||r.$.parentNode),t=l.length;0<=t;t--)n(l[t]);return r.$.parentNode?a:(o[0].select(),null)}return t instanceof CKEDITOR.dom.element&&(1==(r=t.getAscendant("table")).$.rows.length?r.remove():t.remove()),null}function o(e){for(var t=e.getParent().$.cells,n=0,o=0;o<t.length;o++){var r=t[o];if(n+=r.colSpan,r==e.$)break}return n-1}function r(e,t){for(var n=t?1/0:0,r=0;r<e.length;r++){var i=o(e[r]);(t?i<n:i>n)&&(n=i)}return n}function i(t,n){for(var o=(a=g(t)?t:e(t))[0].getAscendant("table"),i=r(a,1),a=r(a),s=n?i:a,l=CKEDITOR.tools.buildTableMap(o),u=(o=[],i=[],a=[],l.length),c=0;c<u;c++)o.push(l[c][s]),i.push(n?l[c][s-1]:l[c][s+1]);for(c=0;c<u;c++)o[c]&&(1<o[c].colSpan&&i[c]==o[c]?(l=o[c]).colSpan+=1:((l=(s=new CKEDITOR.dom.element(o[c])).clone()).removeAttribute("colSpan"),l.appendBogus(),l[n?"insertBefore":"insertAfter"].call(l,s),a.push(l),l=l.$),c+=l.rowSpan-1);return a}function a(t){CKEDITOR.env.webkit&&!t.isFake&&(t=function(e){var t,n,o;if(1!==(t=e.getRanges()).length)return e;if((t=t[0]).collapsed||0!==t.endOffset)return e;if("td"!==(o=(n=t.endContainer).getName().toLowerCase())&&"th"!==o)return e;for((o=n.getPrevious())||(o=n.getParent().getPrevious().getLast());o.type!==CKEDITOR.NODE_TEXT&&"br"!==o.getName().toLowerCase();)if(!(o=o.getLast()))return e;return t.setEndAt(o,CKEDITOR.POSITION_BEFORE_END),t.select()}(t));var n,o,r=t.getRanges(),i=(s=e(t))[0],a=s[s.length-1],s=i.getAscendant("table"),l=CKEDITOR.tools.buildTableMap(s),u=[];t.reset();var c=0;for(t=l.length;c<t;c++)for(var d=0,h=l[c].length;d<h;d++)void 0===n&&l[c][d]==i.$&&(n=d),l[c][d]==a.$&&(o=d);for(c=n;c<=o;c++)for(d=0;d<l.length;d++)a=l[d],i=new CKEDITOR.dom.element(s.$.rows[d]),(a=new CKEDITOR.dom.element(a[c])).$&&(1==a.$.colSpan?a.remove():--a.$.colSpan,d+=a.$.rowSpan-1,i.$.cells.length||u.push(i));return n=l[0].length-1>o?new CKEDITOR.dom.element(l[0][o+1]):n&&-1!==l[0][n-1].cellIndex?new CKEDITOR.dom.element(l[0][n-1]):new CKEDITOR.dom.element(s.$.parentNode),u.length==t&&(r[0].moveToPosition(s,CKEDITOR.POSITION_AFTER_END),r[0].select(),s.remove()),n}function s(e,t){var n=e.getStartElement().getAscendant({td:1,th:1},!0);if(n){var o=n.clone();o.appendBogus(),t?o.insertBefore(n):o.insertAfter(n)}}function l(t){if(t instanceof CKEDITOR.dom.selection){var n,o=t.getRanges(),r=e(t),i=r[0]&&r[0].getAscendant("table");e:{var a=0;n=r.length-1;for(var s,c,d={};s=r[a++];)CKEDITOR.dom.element.setMarker(d,s,"delete_cell",!0);for(a=0;s=r[a++];)if((c=s.getPrevious())&&!c.getCustomData("delete_cell")||(c=s.getNext())&&!c.getCustomData("delete_cell")){CKEDITOR.dom.element.clearAllMarkers(d),n=c;break e}CKEDITOR.dom.element.clearAllMarkers(d),n=(a=(a=r[0].getParent()).getPrevious())?a.getLast():(a=(a=r[n].getParent()).getNext())?a.getChild(0):null}for(t.reset(),t=r.length-1;0<=t;t--)l(r[t]);n?u(n,!0):i&&(o[0].moveToPosition(i,CKEDITOR.POSITION_BEFORE_START),o[0].select(),i.remove())}else t instanceof CKEDITOR.dom.element&&(1==(o=t.getParent()).getChildCount()?o.remove():t.remove())}function u(e,t){var n=e.getDocument(),o=CKEDITOR.document;CKEDITOR.env.ie&&10==CKEDITOR.env.version&&(o.focus(),n.focus()),(n=new CKEDITOR.dom.range(n))["moveToElementEdit"+(t?"End":"Start")](e)||(n.selectNodeContents(e),n.collapse(!t)),n.select(!0)}function c(e,t,n){if(e=e[t],void 0===n)return e;for(t=0;e&&t<e.length;t++){if(n.is&&e[t]==n.$)return t;if(t==n)return new CKEDITOR.dom.element(e[t])}return n.is?-1:null}function d(t,n,o){var r,i,a=e(t);if((n?1!=a.length:2>a.length)||(r=t.getCommonAncestor())&&r.type==CKEDITOR.NODE_ELEMENT&&r.is("table"))return!1;r=(t=a[0]).getAscendant("table");var s=CKEDITOR.tools.buildTableMap(r),l=s.length,u=s[0].length,d=t.getParent().$.rowIndex,h=c(s,d,t);if(n){var f;try{var p=parseInt(t.getAttribute("rowspan"),10)||1;i=parseInt(t.getAttribute("colspan"),10)||1,f=s["up"==n?d-p:"down"==n?d+p:d]["left"==n?h-i:"right"==n?h+i:h]}catch(e){return!1}if(!f||t.$==f)return!1;a["up"==n||"left"==n?"unshift":"push"](new CKEDITOR.dom.element(f))}n=t.getDocument();var g=d,m=(p=f=0,!o&&new CKEDITOR.dom.documentFragment(n)),E=0;for(n=0;n<a.length;n++){var v=(i=a[n]).getParent(),T=i.getFirst(),C=i.$.colSpan,y=i.$.rowSpan,b=c(s,v=v.$.rowIndex,i);E+=C*y,p=Math.max(p,b-h+C),f=Math.max(f,v-d+y),o||((y=(C=i).getBogus())&&y.remove(),C.trim(),i.getChildren().count()&&(v==g||!T||T.isBlockBoundary&&T.isBlockBoundary({br:1})||!(g=m.getLast(CKEDITOR.dom.walker.whitespaces(!0)))||g.is&&g.is("br")||m.append("br"),i.moveChildren(m)),n?i.remove():i.setHtml("")),g=v}if(o)return f*p==E;for(m.moveChildren(t),t.appendBogus(),p>=u?t.removeAttribute("rowSpan"):t.$.rowSpan=f,f>=l?t.removeAttribute("colSpan"):t.$.colSpan=p,n=(a=(o=new CKEDITOR.dom.nodeList(r.$.rows)).count())-1;0<=n;n--)(r=o.getItem(n)).$.cells.length||(r.remove(),a++);return t}function h(t,n){if(1<(o=e(t)).length)return!1;if(n)return!0;var o,r,i=(u=(o=o[0]).getParent()).getAscendant("table"),a=c(d=CKEDITOR.tools.buildTableMap(i),h=u.$.rowIndex,o);if(1<(l=o.$.rowSpan)){r=Math.ceil(l/2);for(var s,l=Math.floor(l/2),u=h+r,d=(i=new CKEDITOR.dom.element(i.$.rows[u]),c(d,u)),h=(u=o.clone(),0);h<d.length;h++){if((s=d[h]).parentNode==i.$&&h>a){u.insertBefore(new CKEDITOR.dom.element(s));break}s=null}s||i.append(u)}else for(l=r=1,(i=u.clone()).insertAfter(u),i.append(u=o.clone()),s=c(d,h),a=0;a<s.length;a++)s[a].rowSpan++;return u.appendBogus(),o.$.rowSpan=r,u.$.rowSpan=l,1==r&&o.removeAttribute("rowSpan"),1==l&&u.removeAttribute("rowSpan"),u}function f(t,n){if(1<(o=e(t)).length)return!1;if(n)return!0;var o,r=(o=o[0]).getParent(),i=r.getAscendant("table"),a=c(i=CKEDITOR.tools.buildTableMap(i),r.$.rowIndex,o);if(1<(s=o.$.colSpan))r=Math.ceil(s/2),s=Math.floor(s/2);else{for(var s=r=1,l=[],u=0;u<i.length;u++){var d=i[u];l.push(d[a]),1<d[a].rowSpan&&(u+=d[a].rowSpan-1)}for(i=0;i<l.length;i++)l[i].colSpan++}return(i=o.clone()).insertAfter(o),i.appendBogus(),o.$.colSpan=r,i.$.colSpan=s,1==r&&o.removeAttribute("colSpan"),1==s&&i.removeAttribute("colSpan"),i}var p=/^(?:td|th)$/,g=CKEDITOR.tools.isArray;CKEDITOR.plugins.tabletools={requires:"table,dialog,contextmenu",init:function(o){function r(e){return CKEDITOR.tools.extend(e||{},{contextSensitive:1,refresh:function(e,t){this.setState(t.contains({td:1,th:1},1)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)}})}function c(e,t){var n=o.addCommand(e,t);o.addFeature(n)}var p=o.lang.table,g=CKEDITOR.tools.style.parse;c("cellProperties",new CKEDITOR.dialogCommand("cellProperties",r({allowedContent:"td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",requiredContent:"table",contentTransformations:[[{element:"td",left:function(e){return e.styles.background&&g.background(e.styles.background).color},right:function(e){e.styles["background-color"]=g.background(e.styles.background).color}},{element:"td",check:"td{vertical-align}",left:function(e){return e.attributes&&e.attributes.valign},right:function(e){e.styles["vertical-align"]=e.attributes.valign,delete e.attributes.valign}}],[{element:"tr",check:"td{height}",left:function(e){return e.styles&&e.styles.height},right:function(e){CKEDITOR.tools.array.forEach(e.children,function(t){t.name in{td:1,th:1}&&(t.attributes["cke-row-height"]=e.styles.height)}),delete e.styles.height}}],[{element:"td",check:"td{height}",left:function(e){return(e=e.attributes)&&e["cke-row-height"]},right:function(e){e.styles.height=e.attributes["cke-row-height"],delete e.attributes["cke-row-height"]}}]]}))),CKEDITOR.dialog.add("cellProperties",this.path+"dialogs/tableCell.js"),c("rowDelete",r({requiredContent:"table",exec:function(e){(e=n(e=e.getSelection()))&&u(e)}})),c("rowInsertBefore",r({requiredContent:"table",exec:function(n){t(n=e(n=n.getSelection()),!0)}})),c("rowInsertAfter",r({requiredContent:"table",exec:function(n){t(n=e(n=n.getSelection()))}})),c("columnDelete",r({requiredContent:"table",exec:function(e){(e=a(e=e.getSelection()))&&u(e,!0)}})),c("columnInsertBefore",r({requiredContent:"table",exec:function(t){i(t=e(t=t.getSelection()),!0)}})),c("columnInsertAfter",r({requiredContent:"table",exec:function(t){i(t=e(t=t.getSelection()))}})),c("cellDelete",r({requiredContent:"table",exec:function(e){l(e=e.getSelection())}})),c("cellMerge",r({allowedContent:"td[colspan,rowspan]",requiredContent:"td[colspan,rowspan]",exec:function(e,t){t.cell=d(e.getSelection()),u(t.cell,!0)}})),c("cellMergeRight",r({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e,t){t.cell=d(e.getSelection(),"right"),u(t.cell,!0)}})),c("cellMergeDown",r({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e,t){t.cell=d(e.getSelection(),"down"),u(t.cell,!0)}})),c("cellVerticalSplit",r({allowedContent:"td[rowspan]",requiredContent:"td[rowspan]",exec:function(e){u(f(e.getSelection()))}})),c("cellHorizontalSplit",r({allowedContent:"td[colspan]",requiredContent:"td[colspan]",exec:function(e){u(h(e.getSelection()))}})),c("cellInsertBefore",r({requiredContent:"table",exec:function(e){s(e=e.getSelection(),!0)}})),c("cellInsertAfter",r({requiredContent:"table",exec:function(e){s(e=e.getSelection())}})),o.addMenuItems&&o.addMenuItems({tablecell:{label:p.cell.menu,group:"tablecell",order:1,getItems:function(){var t=o.getSelection(),n=e(t);return{tablecell_insertBefore:CKEDITOR.TRISTATE_OFF,tablecell_insertAfter:CKEDITOR.TRISTATE_OFF,tablecell_delete:CKEDITOR.TRISTATE_OFF,tablecell_merge:d(t,null,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_right:d(t,"right",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_merge_down:d(t,"down",!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_vertical:f(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_split_horizontal:h(t,!0)?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED,tablecell_properties:0<n.length?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED}}},tablecell_insertBefore:{label:p.cell.insertBefore,group:"tablecell",command:"cellInsertBefore",order:5},tablecell_insertAfter:{label:p.cell.insertAfter,group:"tablecell",command:"cellInsertAfter",order:10},tablecell_delete:{label:p.cell.deleteCell,group:"tablecell",command:"cellDelete",order:15},tablecell_merge:{label:p.cell.merge,group:"tablecell",command:"cellMerge",order:16},tablecell_merge_right:{label:p.cell.mergeRight,group:"tablecell",command:"cellMergeRight",order:17},tablecell_merge_down:{label:p.cell.mergeDown,group:"tablecell",command:"cellMergeDown",order:18},tablecell_split_horizontal:{label:p.cell.splitHorizontal,group:"tablecell",command:"cellHorizontalSplit",order:19},tablecell_split_vertical:{label:p.cell.splitVertical,group:"tablecell",command:"cellVerticalSplit",order:20},tablecell_properties:{label:p.cell.title,group:"tablecellproperties",command:"cellProperties",order:21},tablerow:{label:p.row.menu,group:"tablerow",order:1,getItems:function(){return{tablerow_insertBefore:CKEDITOR.TRISTATE_OFF,tablerow_insertAfter:CKEDITOR.TRISTATE_OFF,tablerow_delete:CKEDITOR.TRISTATE_OFF}}},tablerow_insertBefore:{label:p.row.insertBefore,group:"tablerow",command:"rowInsertBefore",order:5},tablerow_insertAfter:{label:p.row.insertAfter,group:"tablerow",command:"rowInsertAfter",order:10},tablerow_delete:{label:p.row.deleteRow,group:"tablerow",command:"rowDelete",order:15},tablecolumn:{label:p.column.menu,group:"tablecolumn",order:1,getItems:function(){return{tablecolumn_insertBefore:CKEDITOR.TRISTATE_OFF,tablecolumn_insertAfter:CKEDITOR.TRISTATE_OFF,tablecolumn_delete:CKEDITOR.TRISTATE_OFF}}},tablecolumn_insertBefore:{label:p.column.insertBefore,group:"tablecolumn",command:"columnInsertBefore",order:5},tablecolumn_insertAfter:{label:p.column.insertAfter,group:"tablecolumn",command:"columnInsertAfter",order:10},tablecolumn_delete:{label:p.column.deleteColumn,group:"tablecolumn",command:"columnDelete",order:15}}),o.contextMenu&&o.contextMenu.addListener(function(e,t,n){return(e=n.contains({td:1,th:1},1))&&!e.isReadOnly()?{tablecell:CKEDITOR.TRISTATE_OFF,tablerow:CKEDITOR.TRISTATE_OFF,tablecolumn:CKEDITOR.TRISTATE_OFF}:null})},getCellColIndex:o,insertRow:t,insertColumn:i,getSelectedCells:e},CKEDITOR.plugins.add("tabletools",CKEDITOR.plugins.tabletools)}(),CKEDITOR.tools.buildTableMap=function(e,t,n,o,r){e=e.$.rows,n=n||0,o="number"==typeof o?o:e.length-1,r="number"==typeof r?r:-1;var i=-1,a=[];for(t=t||0;t<=o;t++){!a[++i]&&(a[i]=[]);for(var s=-1,l=n;l<=(-1===r?e[t].cells.length-1:r)&&(c=e[t].cells[l]);l++){for(s++;a[i][s];)s++;for(var u=isNaN(c.colSpan)?1:c.colSpan,c=isNaN(c.rowSpan)?1:c.rowSpan,d=0;d<c&&!(t+d>o);d++){a[i+d]||(a[i+d]=[]);for(var h=0;h<u;h++)a[i+d][s+h]=e[t].cells[l]}if(s+=u-1,-1!==r&&s>=r)break}}return a},function(){function e(e){return CKEDITOR.plugins.widget&&CKEDITOR.plugins.widget.isDomWidget(e)}function t(e,t){var n,o,r=e.getAscendant("table"),i=t.getAscendant("table"),a=CKEDITOR.tools.buildTableMap(r),l=s(e),u=s(t),c=[],d={};for(r.contains(i)&&(u=s(t=t.getAscendant({td:1,th:1}))),l>u&&(r=l,l=u,u=r,r=e,e=t,t=r),r=0;r<a[l].length;r++)if(e.$===a[l][r]){n=r;break}for(r=0;r<a[u].length;r++)if(t.$===a[u][r]){o=r;break}for(n>o&&(r=n,n=o,o=r),r=l;r<=u;r++)for(l=n;l<=o;l++)(i=new CKEDITOR.dom.element(a[r][l])).$&&!i.getCustomData("selected_cell")&&(c.push(i),CKEDITOR.dom.element.setMarker(d,i,"selected_cell",!0));return CKEDITOR.dom.element.clearAllMarkers(d),c}function n(e,t){var n,o=e.editable().find(".cke_table-faked-selection");for(e.fire("lockSnapshot"),e.editable().removeClass("cke_table-faked-selection-editor"),n=0;n<o.count();n++)o.getItem(n).removeClass("cke_table-faked-selection");0<o.count()&&o.getItem(0).getAscendant("table").data("cke-table-faked-selection-table",!1),e.fire("unlockSnapshot"),t&&(v={active:!1},e.getSelection().isInTable()&&e.getSelection().reset())}function o(e,t){var n,o,r=[];for(o=0;o<t.length;o++)(n=e.createRange()).setStartBefore(t[o]),n.setEndAfter(t[o]),r.push(n);e.getSelection().selectRanges(r)}function r(e){var n=e.editable().find(".cke_table-faked-selection");1>n.count()||o(e,n=t(n.getItem(0),n.getItem(n.count()-1)))}function i(r,i,a){var s,l=p(r.getSelection(!0));if(i=i.is("table")?null:i,(s=v.active&&!v.first)&&!(s=i)&&(s=r.getSelection().getRanges(),s=!!(1<l.length||s[0]&&!s[0].collapsed)),s)v.first=i||l[0],v.dirty=!i&&1!==l.length;else if(v.active&&i&&v.first.getAscendant("table").equals(i.getAscendant("table"))){if(l=t(v.first,i),!v.dirty&&1===l.length&&!e(a.data.getTarget()))return n(r,"mouseup"===a.name);v.dirty=!0,v.last=i,o(r,l)}}function a(e){var t,o=(e=e.editor||e.sender.editor)&&e.getSelection(),r=o&&o.getRanges()||[];if(o&&(n(e),o.isInTable()&&o.isFake)){for(1===r.length&&r[0]._getTableElement()&&r[0]._getTableElement().is("table")&&(t=r[0]._getTableElement()),t=p(o,t),e.fire("lockSnapshot"),o=0;o<t.length;o++)t[o].addClass("cke_table-faked-selection");0<t.length&&(e.editable().addClass("cke_table-faked-selection-editor"),t[0].getAscendant("table").data("cke-table-faked-selection-table","")),e.fire("unlockSnapshot")}}function s(e){return e.getAscendant("tr",!0).$.rowIndex}function l(t){function o(e,t){return!(!e||!t)&&(e.equals(t)||e.contains(t)||t.contains(e)||e.getCommonAncestor(t).is(h))}function a(e){return!e.getAscendant("table",!0)&&e.getDocument().equals(u.document)}if(t.data.getTarget().getName&&("mouseup"===t.name||!e(t.data.getTarget()))){var s,u=t.editor||t.listenerData.editor,c=(u.getSelection(1),function(e){return(e=e.editable().findOne(".cke_table-faked-selection"))&&e.getAscendant("table")}(u)),d=(s=t.data.getTarget())&&s.getAscendant({td:1,th:1},!0),h={table:1,thead:1,tbody:1,tfoot:1,tr:1,td:1,th:1};(function(e,t,n,r){return!("mousedown"!==e.name||CKEDITOR.tools.getMouseButton(e)!==CKEDITOR.MOUSE_BUTTON_LEFT&&r)||"mouseup"===e.name&&!a(e.data.getTarget())&&!o(n,r)})(t,0,c,s=s&&s.getAscendant("table",!0))&&n(u,!0),!v.active&&"mousedown"===t.name&&CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT&&s&&(v={active:!0},CKEDITOR.document.on("mouseup",l,null,{editor:u})),(d||s)&&i(u,d||s,t),"mouseup"===t.name&&(CKEDITOR.tools.getMouseButton(t)===CKEDITOR.MOUSE_BUTTON_LEFT&&(a(t.data.getTarget())||o(c,s))&&r(u),v={active:!1},CKEDITOR.document.removeListener("mouseup",l))}}function u(e){var t=e.data.getTarget().getAscendant({td:1,th:1},!0);t&&!t.hasClass("cke_table-faked-selection")&&(e.cancel(),e.data.preventDefault())}function c(e){var t=e.editor||e.sender.editor;t.getSelection().isInTable()&&function(e,t){var n,o,r,i,a=e.getSelection(),s=a.createBookmarks(),l=e.document,u=e.createRange(),c=l.getDocumentElement().$,d=CKEDITOR.env.ie&&9>CKEDITOR.env.version,h=e.blockless||CKEDITOR.env.ie?"span":"div";l.getById("cke_table_copybin")||(n=l.createElement(h),(o=l.createElement(h)).setAttributes({id:"cke_table_copybin","data-cke-temp":"1"}),n.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),n.setStyle("ltr"==e.config.contentsLangDirection?"left":"right","-5000px"),n.setHtml(e.getSelectedHtml(!0)),e.fire("lockSnapshot"),o.append(n),e.editable().append(o),i=e.on("selectionChange",function(e){e.cancel()},null,null,0),d&&(r=c.scrollTop),u.selectNodeContents(n),u.select(),d&&(c.scrollTop=r),setTimeout(function(){o.remove(),a.selectBookmarks(s),i.removeListener(),e.fire("unlockSnapshot"),t&&(e.extractSelectedHtml(),e.fire("saveSnapshot"))},100))}(t,"cut"===e.name)}function d(e){this._reset(),e&&this.setSelectedCells(e)}function h(e,t,n){e.on("beforeCommandExec",function(n){-1!==CKEDITOR.tools.array.indexOf(t,n.data.name)&&(n.data.selectedCells=p(e.getSelection()))}),e.on("afterCommandExec",function(o){-1!==CKEDITOR.tools.array.indexOf(t,o.data.name)&&n(e,o.data)})}var f,p,g,m,E,v={active:!1};(d.prototype={})._reset=function(){this.cells={first:null,last:null,all:[]},this.rows={first:null,last:null}},d.prototype.setSelectedCells=function(e){this._reset(),e=e.slice(0),this._arraySortByDOMOrder(e),this.cells.all=e,this.cells.first=e[0],this.cells.last=e[e.length-1],this.rows.first=e[0].getAscendant("tr"),this.rows.last=this.cells.last.getAscendant("tr")},d.prototype.getTableMap=function(){var e,t=g(this.cells.first);e:{var n,o=(e=this.cells.last).getAscendant("table"),r=s(e);for(o=CKEDITOR.tools.buildTableMap(o),n=0;n<o[r].length;n++)if(new CKEDITOR.dom.element(o[r][n]).equals(e)){e=n;break e}e=void 0}return CKEDITOR.tools.buildTableMap(this._getTable(),s(this.rows.first),t,s(this.rows.last),e)},d.prototype._getTable=function(){return this.rows.first.getAscendant("table")},d.prototype.insertRow=function(e,t,n){if(void 0===e)e=1;else if(0>=e)return;for(var o,r=this.cells.first.$.cellIndex,i=this.cells.last.$.cellIndex,a=n?[]:this.cells.all,s=0;s<e;s++)o=m(n?this.cells.all:a,t),o=CKEDITOR.tools.array.filter(o.find("td, th").toArray(),function(e){return!!n||e.$.cellIndex>=r&&e.$.cellIndex<=i}),a=t?o.concat(a):a.concat(o);this.setSelectedCells(a)},d.prototype.insertColumn=function(e){function t(e){return(e=s(e))>=o&&e<=r}if(void 0===e)e=1;else if(0>=e)return;for(var n=(i=this.cells).all,o=s(i.first),r=s(i.last),i=0;i<e;i++)n=n.concat(CKEDITOR.tools.array.filter(E(n),t));this.setSelectedCells(n)},d.prototype.emptyCells=function(e){e=e||this.cells.all;for(var t=0;t<e.length;t++)e[t].setHtml("")},d.prototype._arraySortByDOMOrder=function(e){e.sort(function(e,t){return e.getPosition(t)&CKEDITOR.POSITION_PRECEDING?-1:1})};var T={onPaste:function(e){function n(e){return Math.max.apply(null,CKEDITOR.tools.array.map(e,function(e){return e.length},0))}var r,i,a=e.editor,s=a.getSelection(),l=p(s),u=this.findTableInPastedContent(a,e.data.dataValue),c=s.isInTable(!0)&&this.isBoundarySelection(s);!l.length||1===l.length&&!function(e){if(e)return(e=e.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),(e=e.getEnclosedNode())&&e.is&&e.is(CKEDITOR.dtd.$tableContent)}(s.getRanges()[0])&&!c||c&&!u||(l=l[0].getAscendant("table"),r=new d(p(s,l)),a.once("afterPaste",function(){var e;if(i){e=new CKEDITOR.dom.element(i[0][0]);var n=i[i.length-1];e=t(e,new CKEDITOR.dom.element(n[n.length-1]))}else e=r.cells.all;o(a,e)}),u?(e.stop(),c?(r.insertRow(1,1===c,!0),s.selectElement(r.rows.first)):(r.emptyCells(),o(a,r.cells.all)),e=r.getTableMap(),i=CKEDITOR.tools.buildTableMap(u),r.insertRow(i.length-e.length),r.insertColumn(n(i)-n(e)),e=r.getTableMap(),this.pasteTable(r,e,i),a.fire("saveSnapshot"),setTimeout(function(){a.fire("afterPaste")},0)):(function(e){var t=a.createRange();t.selectNodeContents(e),t.select()}(r.cells.first),a.once("afterPaste",function(){a.fire("lockSnapshot"),r.emptyCells(r.cells.all.slice(1)),o(a,r.cells.all),a.fire("unlockSnapshot")})))},isBoundarySelection:function(e){var t=(e=e.getRanges()[0]).endContainer.getAscendant("tr",!0);if(t&&e.collapsed){if(e.checkBoundaryOfElement(t,CKEDITOR.START))return 1;if(e.checkBoundaryOfElement(t,CKEDITOR.END))return 2}return 0},findTableInPastedContent:function(e,t){var n=e.dataProcessor,o=new CKEDITOR.dom.element("body");return n||(n=new CKEDITOR.htmlDataProcessor(e)),o.setHtml(n.toHtml(t),{fixForBody:!1}),1<o.getChildCount()?null:o.findOne("table")},pasteTable:function(e,t,n){var o,r,i,a,s,l=g(e.cells.first),u=e._getTable(),c={};for(a=0;a<n.length;a++)for(r=new CKEDITOR.dom.element(u.$.rows[e.rows.first.$.rowIndex+a]),s=0;s<n[a].length;s++)i=new CKEDITOR.dom.element(n[a][s]),o=t[a]&&t[a][s]?new CKEDITOR.dom.element(t[a][s]):null,i&&!i.getCustomData("processed")?(o&&o.getParent()?i.replace(o):(0===s||n[a][s-1])&&((o=0!==s?new CKEDITOR.dom.element(n[a][s-1]):null)&&r.equals(o.getParent())?i.insertAfter(o):0<l?r.$.cells[l]?i.insertAfter(new CKEDITOR.dom.element(r.$.cells[l])):r.append(i):r.append(i,!0)),CKEDITOR.dom.element.setMarker(c,i,"processed",!0)):i.getCustomData("processed")&&o&&o.remove();CKEDITOR.dom.element.clearAllMarkers(c)}};CKEDITOR.plugins.tableselection={getCellsBetween:t,keyboardIntegration:function(e){function t(e){var t=e.getEnclosedNode();t&&t.is({td:1,th:1})?e.getEnclosedNode().setText(""):e.deleteContents(),CKEDITOR.tools.array.forEach(e._find("td"),function(e){e.appendBogus()})}var n=e.editable();n.attachListener(n,"keydown",function(e){function n(t,n){if(!n.length)return null;var o=e.createRange(),i=CKEDITOR.dom.range.mergeRanges(n);CKEDITOR.tools.array.forEach(i,function(e){e.enlarge(CKEDITOR.ENLARGE_ELEMENT)});var a=(s=i[0].getBoundaryNodes()).startNode,s=s.endNode;if(a&&a.is&&a.is(r)){for(var l=a.getAscendant("table",!0),u=a.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,l),c=!1,d=function(e){return!a.contains(e)&&e.is&&e.is("td","th")};u&&!d(u);)u=u.getPreviousSourceNode(!1,CKEDITOR.NODE_ELEMENT,l);return!u&&s&&s.is&&!s.is("table")&&s.getNext()&&(u=s.getNext().findOne("td, th"),c=!0),u?o["moveToElementEdit"+(c?"Start":"End")](u):(o.setStartBefore(a.getAscendant("table",!0)),o.collapse(!0)),i[0].deleteContents(),[o]}return a?(o.moveToElementEditablePosition(a),[o]):void 0}var o={37:1,38:1,39:1,40:1,8:1,46:1},r=CKEDITOR.tools.extend({table:1},CKEDITOR.dtd.$tableContent);return delete r.td,delete r.th,function(r){var i,a,s,l,u=r.data.getKey(),c=37===u||38==u;if(o[u]&&(i=e.getSelection())&&i.isInTable()&&i.isFake)if(s=(a=i.getRanges())[0]._getTableElement(),l=a[a.length-1]._getTableElement(),r.data.preventDefault(),r.cancel(),8<u&&46>u)a[0].moveToElementEditablePosition(c?s:l,!c),i.selectRanges([a[0]]);else{for(r=0;r<a.length;r++)t(a[r]);(r=n(0,a))?a=r:a[0].moveToElementEditablePosition(s),i.selectRanges(a),e.fire("saveSnapshot")}}}(e),null,null,-1),n.attachListener(n,"keypress",function(n){var o,r=e.getSelection(),i=n.data.$.charCode||13===n.data.getKey();if(r&&r.isInTable()&&r.isFake&&i&&!(n.data.getKeystroke()&CKEDITOR.CTRL)){for(i=(n=r.getRanges())[0].getEnclosedNode().getAscendant({td:1,th:1},!0),o=0;o<n.length;o++)t(n[o]);i&&(n[0].moveToElementEditablePosition(i),r.selectRanges([n[0]]))}},null,null,-1)},isSupportedEnvironment:!(CKEDITOR.env.ie&&11>CKEDITOR.env.version)},CKEDITOR.plugins.add("tableselection",{requires:"clipboard,tabletools",onLoad:function(){f=CKEDITOR.plugins.tabletools,p=f.getSelectedCells,g=f.getCellColIndex,m=f.insertRow,E=f.insertColumn,CKEDITOR.document.appendStyleSheet(this.path+"styles/tableselection.css")},init:function(e){CKEDITOR.plugins.tableselection.isSupportedEnvironment&&(e.addContentsCss&&e.addContentsCss(this.path+"styles/tableselection.css"),e.on("contentDom",function(){var t=e.editable(),n=t.isInline()?t:e.document,o={editor:e};t.attachListener(n,"mousedown",l,null,o),t.attachListener(n,"mousemove",l,null,o),t.attachListener(n,"mouseup",l,null,o),t.attachListener(t,"dragstart",u),t.attachListener(e,"selectionCheck",a),CKEDITOR.plugins.tableselection.keyboardIntegration(e),CKEDITOR.plugins.clipboard&&!CKEDITOR.plugins.clipboard.isCustomCopyCutSupported&&(t.attachListener(t,"cut",c),t.attachListener(t,"copy",c))}),e.on("paste",T.onPaste,T),h(e,"rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "),function(e,t){o(e,t.selectedCells)}),h(e,["cellMerge","cellMergeRight","cellMergeDown"],function(e,t){o(e,[t.commandData.cell])}),h(e,["cellDelete"],function(e){n(e,!0)}))}})}(),function(){var e=[CKEDITOR.CTRL+90,CKEDITOR.CTRL+89,CKEDITOR.CTRL+CKEDITOR.SHIFT+90],t={8:1,46:1};CKEDITOR.plugins.add("undo",{init:function(t){function o(e){a.enabled&&!1!==e.data.command.canUndo&&a.save()}function r(){a.enabled=!t.readOnly&&"wysiwyg"==t.mode,a.onChange()}var a=t.undoManager=new n(t),s=a.editingHandler=new i(a),l=t.addCommand("undo",{exec:function(){a.undo()&&(t.selectionChange(),this.fire("afterUndo"))},startDisabled:!0,canUndo:!1}),u=t.addCommand("redo",{exec:function(){a.redo()&&(t.selectionChange(),this.fire("afterRedo"))},startDisabled:!0,canUndo:!1});t.setKeystroke([[e[0],"undo"],[e[1],"redo"],[e[2],"redo"]]),a.onChange=function(){l.setState(a.undoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED),u.setState(a.redoable()?CKEDITOR.TRISTATE_OFF:CKEDITOR.TRISTATE_DISABLED)},t.on("beforeCommandExec",o),t.on("afterCommandExec",o),t.on("saveSnapshot",function(e){a.save(e.data&&e.data.contentOnly)}),t.on("contentDom",s.attachListeners,s),t.on("instanceReady",function(){t.fire("saveSnapshot")}),t.on("beforeModeUnload",function(){"wysiwyg"==t.mode&&a.save(!0)}),t.on("mode",r),t.on("readOnly",r),t.ui.addButton&&(t.ui.addButton("Undo",{label:t.lang.undo.undo,command:"undo",toolbar:"undo,10"}),t.ui.addButton("Redo",{label:t.lang.undo.redo,command:"redo",toolbar:"undo,20"})),t.resetUndo=function(){a.reset(),t.fire("saveSnapshot")},t.on("updateSnapshot",function(){a.currentImage&&a.update()}),t.on("lockSnapshot",function(e){a.lock((e=e.data)&&e.dontUpdate,e&&e.forceUpdate)}),t.on("unlockSnapshot",a.unlock,a)}}),CKEDITOR.plugins.undo={};var n=CKEDITOR.plugins.undo.UndoManager=function(e){this.strokesRecorded=[0,0],this.locked=null,this.previousKeyGroup=-1,this.limit=e.config.undoStackSize||20,this.strokesLimit=25,this.editor=e,this.reset()};n.prototype={type:function(e,t){var o=n.getKeyGroup(e),r=this.strokesRecorded[o]+1;t=t||r>=this.strokesLimit,this.typing||(this.hasUndo=this.typing=!0,this.hasRedo=!1,this.onChange()),t?(r=0,this.editor.fire("saveSnapshot")):this.editor.fire("change"),this.strokesRecorded[o]=r,this.previousKeyGroup=o},keyGroupChanged:function(e){return n.getKeyGroup(e)!=this.previousKeyGroup},reset:function(){this.snapshots=[],this.index=-1,this.currentImage=null,this.hasRedo=this.hasUndo=!1,this.locked=null,this.resetType()},resetType:function(){this.strokesRecorded=[0,0],this.typing=!1,this.previousKeyGroup=-1},refreshState:function(){this.hasUndo=!!this.getNextImage(!0),this.hasRedo=!!this.getNextImage(!1),this.resetType(),this.onChange()},save:function(e,t,n){var r=this.editor;if(this.locked||"ready"!=r.status||"wysiwyg"!=r.mode)return!1;var i=r.editable();if(!i||"ready"!=i.status)return!1;if(i=this.snapshots,t||(t=new o(r)),!1===t.contents)return!1;if(this.currentImage)if(t.equalsContent(this.currentImage)){if(e||t.equalsSelection(this.currentImage))return!1}else!1!==n&&r.fire("change");return i.splice(this.index+1,i.length-this.index-1),i.length==this.limit&&i.shift(),this.index=i.push(t)-1,this.currentImage=t,!1!==n&&this.refreshState(),!0},restoreImage:function(e){var t,n=this.editor;e.bookmarks&&(n.focus(),t=n.getSelection()),this.locked={level:999},this.editor.loadSnapshot(e.contents),e.bookmarks?t.selectBookmarks(e.bookmarks):CKEDITOR.env.ie&&((t=this.editor.document.getBody().$.createTextRange()).collapse(!0),t.select()),this.locked=null,this.index=e.index,this.currentImage=this.snapshots[this.index],this.update(),this.refreshState(),n.fire("change")},getNextImage:function(e){var t,n=this.snapshots,o=this.currentImage;if(o)if(e){for(t=this.index-1;0<=t;t--)if(!o.equalsContent(e=n[t]))return e.index=t,e}else for(t=this.index+1;t<n.length;t++)if(!o.equalsContent(e=n[t]))return e.index=t,e;return null},redoable:function(){return this.enabled&&this.hasRedo},undoable:function(){return this.enabled&&this.hasUndo},undo:function(){if(this.undoable()){this.save(!0);var e=this.getNextImage(!0);if(e)return this.restoreImage(e),!0}return!1},redo:function(){if(this.redoable()&&(this.save(!0),this.redoable())){var e=this.getNextImage(!1);if(e)return this.restoreImage(e),!0}return!1},update:function(e){if(!this.locked){e||(e=new o(this.editor));for(var t=this.index,n=this.snapshots;0<t&&this.currentImage.equalsContent(n[t-1]);)--t;n.splice(t,this.index-t+1,e),this.index=t,this.currentImage=e}},updateSelection:function(e){if(!this.snapshots.length)return!1;var t=this.snapshots,n=t[t.length-1];return!(!n.equalsContent(e)||n.equalsSelection(e)||(this.currentImage=t[t.length-1]=e,0))},lock:function(e,t){if(this.locked)this.locked.level++;else if(e)this.locked={level:1};else{var n=null;if(t)n=!0;else{var r=new o(this.editor,!0);this.currentImage&&this.currentImage.equalsContent(r)&&(n=r)}this.locked={update:n,level:1}}},unlock:function(){if(this.locked&&!--this.locked.level){var e=this.locked.update;if(this.locked=null,!0===e)this.update();else if(e){var t=new o(this.editor,!0);e.equalsContent(t)||this.update()}}}},n.navigationKeyCodes={37:1,38:1,39:1,40:1,36:1,35:1,33:1,34:1},n.keyGroups={PRINTABLE:0,FUNCTIONAL:1},n.isNavigationKey=function(e){return!!n.navigationKeyCodes[e]},n.getKeyGroup=function(e){var o=n.keyGroups;return t[e]?o.FUNCTIONAL:o.PRINTABLE},n.getOppositeKeyGroup=function(e){var t=n.keyGroups;return e==t.FUNCTIONAL?t.PRINTABLE:t.FUNCTIONAL},n.ieFunctionalKeysBug=function(e){return CKEDITOR.env.ie&&n.getKeyGroup(e)==n.keyGroups.FUNCTIONAL};var o=CKEDITOR.plugins.undo.Image=function(e,t){this.editor=e,e.fire("beforeUndoImage");var n=e.getSnapshot();CKEDITOR.env.ie&&n&&(n=n.replace(/\s+data-cke-expando=".*?"/g,"")),this.contents=n,t||(this.bookmarks=(n=n&&e.getSelection())&&n.createBookmarks2(!0)),e.fire("afterUndoImage")},r=/\b(?:href|src|name)="[^"]*?"/gi;o.prototype={equalsContent:function(e){var t=this.contents;return e=e.contents,CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks)&&(t=t.replace(r,""),e=e.replace(r,"")),t==e},equalsSelection:function(e){var t=this.bookmarks;if(e=e.bookmarks,t||e){if(!t||!e||t.length!=e.length)return!1;for(var n=0;n<t.length;n++){var o=t[n],r=e[n];if(o.startOffset!=r.startOffset||o.endOffset!=r.endOffset||!CKEDITOR.tools.arrayCompare(o.start,r.start)||!CKEDITOR.tools.arrayCompare(o.end,r.end))return!1}}return!0}};var i=CKEDITOR.plugins.undo.NativeEditingHandler=function(e){this.undoManager=e,this.ignoreInputEvent=!1,this.keyEventsStack=new a,this.lastKeydownImage=null};i.prototype={onKeydown:function(t){var r=t.data.getKey();229!==r&&(-1<CKEDITOR.tools.indexOf(e,t.data.getKeystroke())?t.data.preventDefault():(this.keyEventsStack.cleanUp(t),t=this.undoManager,this.keyEventsStack.getLast(r)||this.keyEventsStack.push(r),this.lastKeydownImage=new o(t.editor),(n.isNavigationKey(r)||this.undoManager.keyGroupChanged(r))&&(t.strokesRecorded[0]||t.strokesRecorded[1])&&(t.save(!1,this.lastKeydownImage,!1),t.resetType())))},onInput:function(){if(this.ignoreInputEvent)this.ignoreInputEvent=!1;else{var e=this.keyEventsStack.getLast();e||(e=this.keyEventsStack.push(0)),this.keyEventsStack.increment(e.keyCode),this.keyEventsStack.getTotalInputs()>=this.undoManager.strokesLimit&&(this.undoManager.type(e.keyCode,!0),this.keyEventsStack.resetInputs())}},onKeyup:function(e){var t=this.undoManager;e=e.data.getKey();var r=this.keyEventsStack.getTotalInputs();this.keyEventsStack.remove(e),n.ieFunctionalKeysBug(e)&&this.lastKeydownImage&&this.lastKeydownImage.equalsContent(new o(t.editor,!0))||(0<r?t.type(e):n.isNavigationKey(e)&&this.onNavigationKey(!0))},onNavigationKey:function(e){var t=this.undoManager;!e&&t.save(!0,null,!1)||t.updateSelection(new o(t.editor)),t.resetType()},ignoreInputEventListener:function(){this.ignoreInputEvent=!0},activateInputEventListener:function(){this.ignoreInputEvent=!1},attachListeners:function(){var e=this.undoManager.editor,t=e.editable(),o=this;t.attachListener(t,"keydown",function(e){o.onKeydown(e),n.ieFunctionalKeysBug(e.data.getKey())&&o.onInput()},null,null,999),t.attachListener(t,CKEDITOR.env.ie?"keypress":"input",o.onInput,o,null,999),t.attachListener(t,"keyup",o.onKeyup,o,null,999),t.attachListener(t,"paste",o.ignoreInputEventListener,o,null,999),t.attachListener(t,"drop",o.ignoreInputEventListener,o,null,999),e.on("afterPaste",o.activateInputEventListener,o,null,999),t.attachListener(t.isInline()?t:e.document.getDocumentElement(),"click",function(){o.onNavigationKey()},null,null,999),t.attachListener(this.undoManager.editor,"blur",function(){o.keyEventsStack.remove(9)},null,null,999)}};var a=CKEDITOR.plugins.undo.KeyEventsStack=function(){this.stack=[]};a.prototype={push:function(e){return e=this.stack.push({keyCode:e,inputs:0}),this.stack[e-1]},getLastIndex:function(e){if("number"!=typeof e)return this.stack.length-1;for(var t=this.stack.length;t--;)if(this.stack[t].keyCode==e)return t;return-1},getLast:function(e){return-1!=(e=this.getLastIndex(e))?this.stack[e]:null},increment:function(e){this.getLast(e).inputs++},remove:function(e){-1!=(e=this.getLastIndex(e))&&this.stack.splice(e,1)},resetInputs:function(e){if("number"==typeof e)this.getLast(e).inputs=0;else for(e=this.stack.length;e--;)this.stack[e].inputs=0},getTotalInputs:function(){for(var e=this.stack.length,t=0;e--;)t+=this.stack[e].inputs;return t},cleanUp:function(e){(e=e.data.$).ctrlKey||e.metaKey||this.remove(17),e.shiftKey||this.remove(16),e.altKey||this.remove(18)}}}(),function(){function e(e,t){CKEDITOR.tools.extend(this,{editor:e,editable:e.editable(),doc:e.document,win:e.window},t,!0),this.inline=this.editable.isInline(),this.inline||(this.frame=this.win.getFrame()),this.target=this[this.inline?"editable":"doc"]}function t(e,t){CKEDITOR.tools.extend(this,t,{editor:e},!0)}function n(e,t){var n=e.editable();CKEDITOR.tools.extend(this,{editor:e,editable:n,inline:n.isInline(),doc:e.document,win:e.window,container:CKEDITOR.document.getBody(),winTop:CKEDITOR.document.getWindow()},t,!0),this.hidden={},this.visible={},this.inline||(this.frame=this.win.getFrame()),this.queryViewport();var o=CKEDITOR.tools.bind(this.queryViewport,this),a=CKEDITOR.tools.bind(this.hideVisible,this),s=CKEDITOR.tools.bind(this.removeAll,this);n.attachListener(this.winTop,"resize",o),n.attachListener(this.winTop,"scroll",o),n.attachListener(this.winTop,"resize",a),n.attachListener(this.win,"scroll",a),n.attachListener(this.inline?n:this.frame,"mouseout",function(e){var t=e.data.$.clientX;e=e.data.$.clientY,this.queryViewport(),(t<=this.rect.left||t>=this.rect.right||e<=this.rect.top||e>=this.rect.bottom)&&this.hideVisible(),(0>=t||t>=this.winTopPane.width||0>=e||e>=this.winTopPane.height)&&this.hideVisible()},this),n.attachListener(e,"resize",o),n.attachListener(e,"mode",s),e.on("destroy",s),this.lineTpl=new CKEDITOR.template('<div data-cke-lineutils-line="1" class="cke_reset_all" style="{lineStyle}"><span style="{tipLeftStyle}">&nbsp;</span><span style="{tipRightStyle}">&nbsp;</span></div>').output({lineStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},i,this.lineStyle,!0)),tipLeftStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},r,{left:"0px","border-left-color":"red","border-width":"6px 0 6px 6px"},this.tipCss,this.tipLeftStyle,!0)),tipRightStyle:CKEDITOR.tools.writeCssText(CKEDITOR.tools.extend({},r,{right:"0px","border-right-color":"red","border-width":"6px 6px 6px 0"},this.tipCss,this.tipRightStyle,!0))})}function o(e){var t;return(t=e&&e.type==CKEDITOR.NODE_ELEMENT)&&(t=!(a[e.getComputedStyle("float")]||a[e.getAttribute("align")])),t&&!s[e.getComputedStyle("position")]}CKEDITOR.plugins.add("lineutils"),CKEDITOR.LINEUTILS_BEFORE=1,CKEDITOR.LINEUTILS_AFTER=2,CKEDITOR.LINEUTILS_INSIDE=4,e.prototype={start:function(e){var t,n,o,r,i=this,a=this.editor,s=this.doc,l=CKEDITOR.tools.eventsBuffer(50,function(){a.readOnly||"wysiwyg"!=a.mode||(i.relations={},(n=s.$.elementFromPoint(o,r))&&n.nodeType&&(t=new CKEDITOR.dom.element(n),i.traverseSearch(t),isNaN(o+r)||i.pixelSearch(t,o,r),e&&e(i.relations,o,r)))});this.listener=this.editable.attachListener(this.target,"mousemove",function(e){o=e.data.$.clientX,r=e.data.$.clientY,l.input()}),this.editable.attachListener(this.inline?this.editable:this.frame,"mouseout",function(){l.reset()})},stop:function(){this.listener&&this.listener.removeListener()},getRange:function(){var e={};return e[CKEDITOR.LINEUTILS_BEFORE]=CKEDITOR.POSITION_BEFORE_START,e[CKEDITOR.LINEUTILS_AFTER]=CKEDITOR.POSITION_AFTER_END,e[CKEDITOR.LINEUTILS_INSIDE]=CKEDITOR.POSITION_AFTER_START,function(t){var n=this.editor.createRange();return n.moveToPosition(this.relations[t.uid].element,e[t.type]),n}}(),store:function(){function e(e,t,n){var o=e.getUniqueId();o in n?n[o].type|=t:n[o]={element:e,type:t}}return function(t,n){var r;n&CKEDITOR.LINEUTILS_AFTER&&o(r=t.getNext())&&r.isVisible()&&(e(r,CKEDITOR.LINEUTILS_BEFORE,this.relations),n^=CKEDITOR.LINEUTILS_AFTER),n&CKEDITOR.LINEUTILS_INSIDE&&o(r=t.getFirst())&&r.isVisible()&&(e(r,CKEDITOR.LINEUTILS_BEFORE,this.relations),n^=CKEDITOR.LINEUTILS_INSIDE),e(t,n,this.relations)}}(),traverseSearch:function(e){var t,n,r;do{if(!((r=e.$["data-cke-expando"])&&r in this.relations)){if(e.equals(this.editable))break;if(o(e))for(t in this.lookups)(n=this.lookups[t](e))&&this.store(e,n)}}while((!e||e.type!=CKEDITOR.NODE_ELEMENT||"true"!=e.getAttribute("contenteditable"))&&(e=e.getParent()))},pixelSearch:function(){function e(e,n,r,i,a){for(var s,l=0;a(r)&&(r+=i,25!=++l);)if(s=this.doc.$.elementFromPoint(n,r))if(s==e)l=0;else if(t(e,s)&&(l=0,o(s=new CKEDITOR.dom.element(s))))return s}var t=CKEDITOR.env.ie||CKEDITOR.env.webkit?function(e,t){return e.contains(t)}:function(e,t){return!!(16&e.compareDocumentPosition(t))};return function(t,n,r){var i=this.win.getViewPaneSize().height,a=e.call(this,t.$,n,r,-1,function(e){return 0<e});if(n=e.call(this,t.$,n,r,1,function(e){return e<i}),a)for(this.traverseSearch(a);!a.getParent().equals(t);)a=a.getParent();if(n)for(this.traverseSearch(n);!n.getParent().equals(t);)n=n.getParent();for(;(a||n)&&(a&&(a=a.getNext(o)),a&&!a.equals(n))&&(this.traverseSearch(a),n&&(n=n.getPrevious(o)),n&&!n.equals(a));)this.traverseSearch(n)}}(),greedySearch:function(){this.relations={};for(var e,t,n,r=this.editable.getElementsByTag("*"),i=0;e=r.getItem(i++);)if(!e.equals(this.editable)&&e.type==CKEDITOR.NODE_ELEMENT&&(e.hasAttribute("contenteditable")||!e.isReadOnly())&&o(e)&&e.isVisible())for(n in this.lookups)(t=this.lookups[n](e))&&this.store(e,t);return this.relations}},t.prototype={locate:function(){function e(e,t){var n=e.element[t===CKEDITOR.LINEUTILS_BEFORE?"getPrevious":"getNext"]();return n&&o(n)?(e.siblingRect=n.getClientRect(),t==CKEDITOR.LINEUTILS_BEFORE?(e.siblingRect.bottom+e.elementRect.top)/2:(e.elementRect.bottom+e.siblingRect.top)/2):t==CKEDITOR.LINEUTILS_BEFORE?e.elementRect.top:e.elementRect.bottom}return function(t){var n;for(var o in this.locations={},t)(n=t[o]).elementRect=n.element.getClientRect(),n.type&CKEDITOR.LINEUTILS_BEFORE&&this.store(o,CKEDITOR.LINEUTILS_BEFORE,e(n,CKEDITOR.LINEUTILS_BEFORE)),n.type&CKEDITOR.LINEUTILS_AFTER&&this.store(o,CKEDITOR.LINEUTILS_AFTER,e(n,CKEDITOR.LINEUTILS_AFTER)),n.type&CKEDITOR.LINEUTILS_INSIDE&&this.store(o,CKEDITOR.LINEUTILS_INSIDE,(n.elementRect.top+n.elementRect.bottom)/2);return this.locations}}(),sort:function(){var e,t,n,o;return function(r,i){for(var a in t=[],e=this.locations)for(var s in e[a])if(n=Math.abs(r-e[a][s]),t.length){for(o=0;o<t.length;o++)if(n<t[o].dist){t.splice(o,0,{uid:+a,type:s,dist:n});break}o==t.length&&t.push({uid:+a,type:s,dist:n})}else t.push({uid:+a,type:s,dist:n});return void 0!==i?t.slice(0,i):t}}(),store:function(e,t,n){this.locations[e]||(this.locations[e]={}),this.locations[e][t]=n}};var r={display:"block",width:"0px",height:"0px","border-color":"transparent","border-style":"solid",position:"absolute",top:"-6px"},i={height:"0px","border-top":"1px dashed red",position:"absolute","z-index":9999};n.prototype={removeAll:function(){for(var e in this.hidden)this.hidden[e].remove(),delete this.hidden[e];for(e in this.visible)this.visible[e].remove(),delete this.visible[e]},hideLine:function(e){var t=e.getUniqueId();e.hide(),this.hidden[t]=e,delete this.visible[t]},showLine:function(e){var t=e.getUniqueId();e.show(),this.visible[t]=e,delete this.hidden[t]},hideVisible:function(){for(var e in this.visible)this.hideLine(this.visible[e])},placeLine:function(e,t){var n,o,r;if(n=this.getStyle(e.uid,e.type)){for(r in this.visible)if(this.visible[r].getCustomData("hash")!==this.hash){o=this.visible[r];break}if(!o)for(r in this.hidden)if(this.hidden[r].getCustomData("hash")!==this.hash){this.showLine(o=this.hidden[r]);break}o||this.showLine(o=this.addLine()),o.setCustomData("hash",this.hash),this.visible[o.getUniqueId()]=o,o.setStyles(n),t&&t(o)}},getStyle:function(e,t){var n=this.relations[e],o=this.locations[e][t],r={};if(r.width=n.siblingRect?Math.max(n.siblingRect.width,n.elementRect.width):n.elementRect.width,r.top=this.inline?o+this.winTopScroll.y-this.rect.relativeY:this.rect.top+this.winTopScroll.y+o,r.top-this.winTopScroll.y<this.rect.top||r.top-this.winTopScroll.y>this.rect.bottom)return!1;for(var i in this.inline?r.left=n.elementRect.left-this.rect.relativeX:(0<n.elementRect.left?r.left=this.rect.left+n.elementRect.left:(r.width+=n.elementRect.left,r.left=this.rect.left),0<(n=r.left+r.width-(this.rect.left+this.winPane.width))&&(r.width-=n)),r.left+=this.winTopScroll.x,r)r[i]=CKEDITOR.tools.cssLength(r[i]);return r},addLine:function(){var e=CKEDITOR.dom.element.createFromHtml(this.lineTpl);return e.appendTo(this.container),e},prepare:function(e,t){this.relations=e,this.locations=t,this.hash=Math.random()},cleanup:function(){var e,t;for(t in this.visible)(e=this.visible[t]).getCustomData("hash")!==this.hash&&this.hideLine(e)},queryViewport:function(){this.winPane=this.win.getViewPaneSize(),this.winTopScroll=this.winTop.getScrollPosition(),this.winTopPane=this.winTop.getViewPaneSize(),this.rect=this.getClientRect(this.inline?this.editable:this.frame)},getClientRect:function(e){e=e.getClientRect();var t=this.container.getDocumentPosition(),n=this.container.getComputedStyle("position");return e.relativeX=e.relativeY=0,"static"!=n&&(e.relativeY=t.y,e.relativeX=t.x,e.top-=e.relativeY,e.bottom-=e.relativeY,e.left-=e.relativeX,e.right-=e.relativeX),e}};var a={left:1,right:1,center:1},s={absolute:1,fixed:1};CKEDITOR.plugins.lineutils={finder:e,locator:t,liner:n}}(),function(){function e(e){return e.getName&&!e.hasAttribute("data-cke-temp")}CKEDITOR.plugins.add("widgetselection",{init:function(e){if(CKEDITOR.env.webkit){var t=CKEDITOR.plugins.widgetselection;e.on("contentDom",function(e){var n=(e=e.editor).document,o=e.editable();o.attachListener(n,"keydown",function(e){e.data.getKeystroke()==CKEDITOR.CTRL+65&&CKEDITOR.tools.setTimeout(function(){t.addFillers(o)||t.removeFillers(o)},0)},null,null,-1),e.on("selectionCheck",function(e){t.removeFillers(e.editor.editable())}),e.on("paste",function(e){e.data.dataValue=t.cleanPasteData(e.data.dataValue)}),"selectall"in e.plugins&&t.addSelectAllIntegration(e)})}}}),CKEDITOR.plugins.widgetselection={startFiller:null,endFiller:null,fillerAttribute:"data-cke-filler-webkit",fillerContent:"&nbsp;",fillerTagName:"div",addFillers:function(t){var n=t.editor;if(!this.isWholeContentSelected(t)&&0<t.getChildCount()){var o=t.getFirst(e),r=t.getLast(e);if(o&&o.type==CKEDITOR.NODE_ELEMENT&&!o.isEditable()&&(this.startFiller=this.createFiller(),t.append(this.startFiller,1)),r&&r.type==CKEDITOR.NODE_ELEMENT&&!r.isEditable()&&(this.endFiller=this.createFiller(!0),t.append(this.endFiller,0)),this.hasFiller(t))return(n=n.createRange()).selectNodeContents(t),n.select(),!0}return!1},removeFillers:function(e){if(this.hasFiller(e)&&!this.isWholeContentSelected(e)){var t=e.findOne(this.fillerTagName+"["+this.fillerAttribute+"=start]"),n=e.findOne(this.fillerTagName+"["+this.fillerAttribute+"=end]");this.startFiller&&t&&this.startFiller.equals(t)?this.removeFiller(this.startFiller,e):this.startFiller=t,this.endFiller&&n&&this.endFiller.equals(n)?this.removeFiller(this.endFiller,e):this.endFiller=n}},cleanPasteData:function(e){return e&&e.length&&(e=e.replace(this.createFillerRegex(),"").replace(this.createFillerRegex(!0),"")),e},isWholeContentSelected:function(e){var t=e.editor.getSelection().getRanges()[0];return!(!t||t&&t.collapsed||((t=t.clone()).enlarge(CKEDITOR.ENLARGE_ELEMENT),!(t&&e&&t.startContainer&&t.endContainer&&0===t.startOffset&&t.endOffset===e.getChildCount()&&t.startContainer.equals(e)&&t.endContainer.equals(e))))},hasFiller:function(e){return 0<e.find(this.fillerTagName+"["+this.fillerAttribute+"]").count()},createFiller:function(e){var t=new CKEDITOR.dom.element(this.fillerTagName);return t.setHtml(this.fillerContent),t.setAttribute(this.fillerAttribute,e?"end":"start"),t.setAttribute("data-cke-temp",1),t.setStyles({display:"block",width:0,height:0,padding:0,border:0,margin:0,position:"absolute",top:0,left:"-9999px",opacity:0,overflow:"hidden"}),t},removeFiller:function(e,t){if(e){var n,o,r=t.editor,i=t.editor.getSelection().getRanges()[0].startPath(),a=r.createRange();i.contains(e)&&(n=e.getHtml(),o=!0),i="start"==e.getAttribute(this.fillerAttribute),e.remove(),n&&0<n.length&&n!=this.fillerContent?(t.insertHtmlIntoRange(n,r.getSelection().getRanges()[0]),a.setStartAt(t.getChild(t.getChildCount()-1),CKEDITOR.POSITION_BEFORE_END),r.getSelection().selectRanges([a])):o&&(i?a.setStartAt(t.getFirst().getNext(),CKEDITOR.POSITION_AFTER_START):a.setEndAt(t.getLast().getPrevious(),CKEDITOR.POSITION_BEFORE_END),t.editor.getSelection().selectRanges([a]))}},createFillerRegex:function(e){var t=this.createFiller(e).getOuterHtml().replace(/style="[^"]*"/gi,'style="[^"]*"').replace(/>[^<]*</gi,">[^<]*<");return new RegExp((e?"":"^")+t+(e?"$":""))},addSelectAllIntegration:function(e){var t=this;e.editable().attachListener(e,"beforeCommandExec",function(n){var o=e.editable();"selectAll"==n.data.name&&o&&t.addFillers(o)},null,null,9999)}}}(),function(){function e(e){this.editor=e,this.registered={},this.instances={},this.selected=[],this.widgetHoldingFocusedEditable=this.focused=null,this._={nextId:0,upcasts:[],upcastCallbacks:[],filters:{}},function(e){var n,o,r=e.editor;r.on("toHtml",function(o){var r,i=function(e){var n=[],o=e._.upcasts,r=e._.upcastCallbacks;return{toBeWrapped:n,iterator:function(e){var i,a,s,l,u;if("data-cke-widget-wrapper"in e.attributes)return(e=e.getFirst(t.isParserWidgetElement))&&n.push([e]),!1;if("data-widget"in e.attributes)return n.push([e]),!1;if(u=o.length){if(e.attributes["data-cke-widget-upcasted"])return!1;for(l=0,i=r.length;l<i;++l)if(!1===r[l](e))return;for(l=0;l<u;++l)if(a=(i=o[l])[0](e,s={}))return a instanceof CKEDITOR.htmlParser.element&&(e=a),e.attributes["data-cke-widget-data"]=encodeURIComponent(JSON.stringify(s)),e.attributes["data-cke-widget-upcasted"]=1,n.push([e,i[1]]),!1}}}}(e);for(o.data.dataValue.forEach(i.iterator,CKEDITOR.NODE_ELEMENT,!0);r=i.toBeWrapped.pop();){var a=r[0],s=a.parent;s.type==CKEDITOR.NODE_ELEMENT&&s.attributes["data-cke-widget-wrapper"]&&s.replaceWith(a),e.wrapElement(r[0],r[1])}n=o.data.protectedWhitespaces?3==o.data.dataValue.children.length&&t.isParserWidgetWrapper(o.data.dataValue.children[1]):1==o.data.dataValue.children.length&&t.isParserWidgetWrapper(o.data.dataValue.children[0])},null,null,8),r.on("dataReady",function(){if(o)for(var n,i,a=r.editable().find(".cke_widget_wrapper"),s=0,l=a.count();s<l;++s)(i=(n=a.getItem(s)).getFirst(t.isDomWidgetElement)).type==CKEDITOR.NODE_ELEMENT&&i.data("widget")?(i.replace(n),e.wrapElement(i)):n.remove();o=0,e.destroyAll(!0),e.initOnAll()}),r.on("loadSnapshot",function(t){/data-cke-widget/.test(t.data)&&(o=1),e.destroyAll(!0)},null,null,9),r.on("paste",function(e){(e=e.data).dataValue=e.dataValue.replace(I,f),e.range&&(e=t.getNestedEditable(r.editable(),e.range.startContainer))&&(e=CKEDITOR.filter.instances[e.data("cke-filter")])&&r.setActiveFilter(e)}),r.on("afterInsertHtml",function(t){t.data.intoRange?e.checkWidgets({initOnlyNew:!0}):(r.fire("lockSnapshot"),e.checkWidgets({initOnlyNew:!0,focusInited:n}),r.fire("unlockSnapshot"))})}(this),function(e){var n=e.editor,o={};n.on("toDataFormat",function(n){var r=CKEDITOR.tools.getNextNumber(),i=[];n.data.downcastingSessionId=r,o[r]=i,n.data.dataValue.forEach(function(n){var o,r=n.attributes;if("data-cke-widget-white-space"in r){o=a(n);var l=s(n);o.parent.attributes["data-cke-white-space-first"]&&(o.value=o.value.replace(/^&nbsp;/g," ")),l.parent.attributes["data-cke-white-space-last"]&&(l.value=l.value.replace(/&nbsp;$/g," "))}if("data-cke-widget-id"in r)(r=e.instances[r["data-cke-widget-id"]])&&(o=n.getFirst(t.isParserWidgetElement),i.push({wrapper:n,element:o,widget:r,editables:{}}),"1"!=o.attributes["data-cke-widget-keep-attr"]&&delete o.attributes["data-widget"]);else if("data-cke-widget-editable"in r)return i[i.length-1].editables[r["data-cke-widget-editable"]]=n,!1},CKEDITOR.NODE_ELEMENT,!0)},null,null,8),n.on("toDataFormat",function(e){if(e.data.downcastingSessionId){e=o[e.data.downcastingSessionId];for(var t,n,r,i,a,s;t=e.shift();){for(s in r=t.element,i=(n=t.widget)._.downcastFn&&n._.downcastFn.call(n,r),t.editables)delete(a=t.editables[s]).attributes.contenteditable,a.setHtml(n.editables[s].getData());i||(i=r),t.wrapper.replaceWith(i)}}},null,null,13),n.on("contentDomUnload",function(){e.destroyAll(!0)})}(this),this.on("checkWidgets",r),this.editor.on("contentDomInvalidated",this.checkWidgets,this),function(e){var n=e.editor;n.on("selectionCheck",function(){e.fire("checkSelection")}),e.on("checkSelection",e.checkSelection,e),n.on("selectionChange",function(o){var r=(o=t.getNestedEditable(n.editable(),o.data.selection.getStartElement()))&&e.getByElement(o),i=e.widgetHoldingFocusedEditable;i?i===r&&i.focusedEditable.equals(o)||(h(e,i,null),r&&o&&h(e,r,o)):r&&o&&h(e,r,o)}),n.on("dataReady",function(){p(e).commit()}),n.on("blur",function(){var t;(t=e.focused)&&o(e,t),(t=e.widgetHoldingFocusedEditable)&&h(e,t,null)})}(this),function(e){var n=e.editor;n.on("contentDom",function(){var o,r,i=n.editable(),a=i.isInline()?i:n.document;i.attachListener(a,"mousedown",function(i){var a=i.data.getTarget();o=a instanceof CKEDITOR.dom.element?e.getByElement(a):null,r=0,o&&(o.inline&&a.type==CKEDITOR.NODE_ELEMENT&&a.hasAttribute("data-cke-widget-drag-handler")?(r=1,e.focused!=o&&n.getSelection().removeAllRanges()):t.getNestedEditable(o.wrapper,a)?o=null:(i.data.preventDefault(),CKEDITOR.env.ie||o.focus()))}),i.attachListener(a,"mouseup",function(){r&&o&&o.wrapper&&(r=0,o.focus())}),CKEDITOR.env.ie&&i.attachListener(a,"mouseup",function(){setTimeout(function(){o&&o.wrapper&&i.contains(o.wrapper)&&(o.focus(),o=null)})})}),n.on("doubleclick",function(n){var o=e.getByElement(n.data.element);if(o&&!t.getNestedEditable(o.wrapper,n.data.element))return o.fire("doubleclick",{element:n.data.element})},null,null,1)}(this),function(e){e.editor.on("key",function(t){var n,o=e.focused,r=e.widgetHoldingFocusedEditable;return o?n=o.fire("key",{keyCode:t.data.keyCode}):r&&(o=t.data.keyCode,t=r.focusedEditable,o==CKEDITOR.CTRL+65?(o=t.getBogus(),(r=r.editor.createRange()).selectNodeContents(t),o&&r.setEndAt(o,CKEDITOR.POSITION_BEFORE_START),r.select(),n=!1):8==o||46==o?(r=(n=r.editor.getSelection().getRanges())[0],n=!(1==n.length&&r.collapsed&&r.checkBoundaryOfElement(t,CKEDITOR[8==o?"START":"END"]))):n=void 0),n},null,null,1)}(this),function(e){var n=e.editor,o=CKEDITOR.plugins.lineutils;n.on("dragstart",function(o){var r=o.data.target;t.isDomDragHandler(r)&&(r=e.getByElement(r),o.data.dataTransfer.setData("cke/widget-id",r.id),n.focus(),r.focus())}),n.on("drop",function(t){var o=(i=t.data.dataTransfer).getData("cke/widget-id"),r=i.getTransferType(n),i=n.createRange();""!==o&&r===CKEDITOR.DATA_TRANSFER_CROSS_EDITORS?t.cancel():""!==o&&r==CKEDITOR.DATA_TRANSFER_INTERNAL&&(o=e.instances[o])&&(i.setStartBefore(o.wrapper),i.setEndAfter(o.wrapper),t.data.dragRange=i,delete CKEDITOR.plugins.clipboard.dragStartContainerChildCount,delete CKEDITOR.plugins.clipboard.dragEndContainerChildCount,t.data.dataTransfer.setData("text/html",n.editable().getHtmlFromRange(i).getHtml()),n.widgets.destroy(o,!0))}),n.on("contentDom",function(){var r=n.editable();CKEDITOR.tools.extend(e,{finder:new o.finder(n,{lookups:{default:function(n){if(!n.is(CKEDITOR.dtd.$listItem)&&n.is(CKEDITOR.dtd.$block)&&!t.isDomNestedEditable(n)&&!e._.draggedWidget.wrapper.contains(n)){var o=t.getNestedEditable(r,n);if(o){if(n=e._.draggedWidget,e.getByElement(o)==n)return;if(o=CKEDITOR.filter.instances[o.data("cke-filter")],n=n.requiredContent,o&&n&&!o.check(n))return}return CKEDITOR.LINEUTILS_BEFORE|CKEDITOR.LINEUTILS_AFTER}}}}),locator:new o.locator(n),liner:new o.liner(n,{lineStyle:{cursor:"move !important","border-top-color":"#666"},tipLeftStyle:{"border-left-color":"#666"},tipRightStyle:{"border-right-color":"#666"}})},!0)})}(this),function(e){function t(t){e.focused&&E(e.focused,"cut"==t.name)}var n=e.editor;n.on("contentDom",function(){var e=n.editable();e.attachListener(e,"copy",t),e.attachListener(e,"cut",t)})}(this)}function t(e,n,o,r,i){var a=e.editor;CKEDITOR.tools.extend(this,r,{editor:a,id:n,inline:"span"==o.getParent().getName(),element:o,data:CKEDITOR.tools.extend({},"function"==typeof r.defaults?r.defaults():r.defaults),dataReady:!1,inited:!1,ready:!1,edit:t.prototype.edit,focusedEditable:null,definition:r,repository:e,draggable:!1!==r.draggable,_:{downcastFn:r.downcast&&"string"==typeof r.downcast?r.downcasts[r.downcast]:r.downcast}},!0),e.fire("instanceCreated",this),function(e,n){(function(e){(e.wrapper=e.element.getParent()).setAttribute("data-cke-widget-id",e.id)})(e),function(e){if(e.parts){var t,n,o={};for(n in e.parts)t=e.wrapper.findOne(e.parts[n]),o[n]=t;e.parts=o}}(e),function(e){var t,n,o=e.editables;if(e.editables={},e.editables)for(t in o)e.initEditable(t,"string"==typeof(n=o[t])?{selector:n}:n)}(e),function(e){if(e.mask){var t=e.wrapper.findOne(".cke_widget_mask");t||((t=new CKEDITOR.dom.element("img",e.editor.document)).setAttributes({src:CKEDITOR.tools.transparentImageData,class:"cke_reset cke_widget_mask"}),e.wrapper.append(t)),e.mask=t}}(e),function(e){if(e.draggable){var n,o=e.editor,r=e.wrapper.getLast(t.isDomDragHandlerContainer);r?n=r.findOne("img"):((r=new CKEDITOR.dom.element("span",o.document)).setAttributes({class:"cke_reset cke_widget_drag_handler_container",style:"background:rgba(220,220,220,0.5);background-image:url("+o.plugins.widget.path+"images/handle.png)"}),(n=new CKEDITOR.dom.element("img",o.document)).setAttributes({class:"cke_reset cke_widget_drag_handler","data-cke-widget-drag-handler":"1",src:CKEDITOR.tools.transparentImageData,width:15,title:o.lang.widget.move,height:15,role:"presentation"}),e.inline&&n.setAttribute("draggable","true"),r.append(n),e.wrapper.append(r)),e.wrapper.on("dragover",function(e){e.data.preventDefault()}),e.wrapper.on("mouseenter",e.updateDragHandlerPosition,e),setTimeout(function(){e.on("data",e.updateDragHandlerPosition,e)},50),!e.inline&&(n.on("mousedown",y,e),CKEDITOR.env.ie&&9>CKEDITOR.env.version)&&n.on("dragstart",function(e){e.data.preventDefault(!0)}),e.dragHandlerContainer=r}}(e),function(e){var t=null;e.on("data",function(){var e,n=this.data.classes;if(t!=n){for(e in t)n&&n[e]||this.removeClass(e);for(e in n)this.addClass(e);t=n}})}(e),function(e){e.on("data",function(){if(e.wrapper){var t=this.getLabel?this.getLabel():this.editor.lang.widget.label.replace(/%1/,this.pathName||this.element.getName());e.wrapper.setAttribute("role","region"),e.wrapper.setAttribute("aria-label",t)}},null,null,9999)}(e),CKEDITOR.env.ie&&9>CKEDITOR.env.version&&e.wrapper.on("dragstart",function(n){var o=n.data.getTarget();t.getNestedEditable(e,o)||e.inline&&t.isDomDragHandler(o)||n.data.preventDefault()}),e.wrapper.removeClass("cke_widget_new"),e.element.addClass("cke_widget_element"),e.on("key",function(t){if(13==(t=t.data.keyCode))e.edit();else{if(t==CKEDITOR.CTRL+67||t==CKEDITOR.CTRL+88)return void E(e,t==CKEDITOR.CTRL+88);if(t in O||CKEDITOR.CTRL&t||CKEDITOR.ALT&t)return}return!1},null,null,999),e.on("doubleclick",function(t){e.edit()&&t.cancel()}),n.data&&e.on("data",n.data),n.edit&&e.on("edit",n.edit)}(this,r),this.init&&this.init(),this.inited=!0,(e=this.element.data("cke-widget-data"))&&this.setData(JSON.parse(decodeURIComponent(e))),i&&this.setData(i),this.data.classes||this.setData("classes",this.getClasses()),this.dataReady=!0,b(this),this.fire("data",this.data),this.isInited()&&a.editable().contains(this.wrapper)&&(this.ready=!0,this.fire("ready"))}function n(e,t,n){CKEDITOR.dom.element.call(this,t.$),this.editor=e,this._={},t=this.filter=n.filter,CKEDITOR.dtd[this.getName()].p?(this.enterMode=t?t.getAllowedEnterMode(e.enterMode):e.enterMode,this.shiftEnterMode=t?t.getAllowedEnterMode(e.shiftEnterMode,!0):e.shiftEnterMode):this.enterMode=this.shiftEnterMode=CKEDITOR.ENTER_BR}function o(e,t){if(e.focused=null,t.isInited()){var n=t.editor.checkDirty();e.fire("widgetBlurred",{widget:t}),t.setFocused(!1),!n&&t.editor.resetDirty()}}function r(e){if(e=e.data,"wysiwyg"==this.editor.mode){var n,o,r,i,a=this.editor.editable(),s=this.instances;if(a){for(n in s)s[n].isReady()&&!a.contains(s[n].wrapper)&&this.destroy(s[n],!0);if(e&&e.initOnlyNew)s=this.initOnAll();else{var l=a.find(".cke_widget_wrapper");for(s=[],n=0,o=l.count();n<o;n++){if(r=l.getItem(n),i=!this.getByElement(r,!0)){e:{i=d;for(var u=r;u=u.getParent();)if(i(u)){i=!0;break e}i=!1}i=!i}i&&a.contains(r)&&(r.addClass("cke_widget_new"),s.push(this.initOn(r.getFirst(t.isDomWidgetElement))))}}e&&e.focusInited&&1==s.length&&s[0].focus()}}}function i(e){if(void 0!==e.attributes&&e.attributes["data-widget"]){var t=a(e),n=s(e),o=!1;t&&t.value&&t.value.match(/^\s/g)&&(t.parent.attributes["data-cke-white-space-first"]=1,t.value=t.value.replace(/^\s/g,"&nbsp;"),o=!0),n&&n.value&&n.value.match(/\s$/g)&&(n.parent.attributes["data-cke-white-space-last"]=1,n.value=n.value.replace(/\s$/g,"&nbsp;"),o=!0),o&&(e.attributes["data-cke-widget-white-space"]=1)}}function a(e){return e.find(function(e){return 3===e.type},!0).shift()}function s(e){return e.find(function(e){return 3===e.type},!0).pop()}function l(e,t,n){if(!n.allowedContent&&!n.disallowedContent)return null;var o=this._.filters[e];return o||(this._.filters[e]=o={}),(e=o[t])||(e=n.allowedContent?new CKEDITOR.filter(n.allowedContent):this.editor.filter.clone(),o[t]=e,n.disallowedContent&&e.disallow(n.disallowedContent)),e}function u(e,t){return{tabindex:-1,contenteditable:"false","data-cke-widget-wrapper":1,"data-cke-filter":"off",class:"cke_widget_wrapper cke_widget_new cke_widget_"+(e?"inline":"block")+(t?" cke_widget_"+t:"")}}function c(e,t){return"boolean"==typeof e.inline?e.inline:!!CKEDITOR.dtd.$inline[t]}function d(e){return e.hasAttribute("data-cke-temp")}function h(e,t,n,o){var r=e.editor;r.fire("lockSnapshot"),n?(o=n.data("cke-widget-editable"),o=t.editables[o],e.widgetHoldingFocusedEditable=t,t.focusedEditable=o,n.addClass("cke_widget_editable_focused"),o.filter&&r.setActiveFilter(o.filter),r.setActiveEnterMode(o.enterMode,o.shiftEnterMode)):(o||t.focusedEditable.removeClass("cke_widget_editable_focused"),t.focusedEditable=null,e.widgetHoldingFocusedEditable=null,r.setActiveFilter(null),r.setActiveEnterMode(null,null)),r.fire("unlockSnapshot")}function f(e,t){return CKEDITOR.tools.trim(t)}function p(e){var t=e.selected,n=[],r=t.slice(0),i=null;return{select:function(e){return 0>CKEDITOR.tools.indexOf(t,e)&&n.push(e),0<=(e=CKEDITOR.tools.indexOf(r,e))&&r.splice(e,1),this},focus:function(e){return i=e,this},commit:function(){var a,s,l=e.focused!==i;for(e.editor.fire("lockSnapshot"),l&&(a=e.focused)&&o(e,a);a=r.pop();)t.splice(CKEDITOR.tools.indexOf(t,a),1),a.isInited()&&(s=a.editor.checkDirty(),a.setSelected(!1),!s&&a.editor.resetDirty());for(l&&i&&(s=e.editor.checkDirty(),e.focused=i,e.fire("widgetFocused",{widget:i}),i.setFocused(!0),!s&&e.editor.resetDirty());a=n.pop();)t.push(a),a.setSelected(!0);e.editor.fire("unlockSnapshot")}}}function g(e,t,n){var o=0;t=v(t);var r,i=e.data.classes||{};if(t){for(i=CKEDITOR.tools.clone(i);r=t.pop();)n?i[r]||(o=i[r]=1):i[r]&&(delete i[r],o=1);o&&e.setData("classes",i)}}function m(e){e.cancel()}function E(e,t){var n=e.editor,o=n.document,r=CKEDITOR.env.edge&&16<=CKEDITOR.env.version;if(!o.getById("cke_copybin")){var i=!n.blockless&&!CKEDITOR.env.ie||r?"div":"span",a=(r=o.createElement(i),o.createElement(i));i=CKEDITOR.env.ie&&9>CKEDITOR.env.version,a.setAttributes({id:"cke_copybin","data-cke-temp":"1"}),r.setStyles({position:"absolute",width:"1px",height:"1px",overflow:"hidden"}),r.setStyle("ltr"==n.config.contentsLangDirection?"left":"right","-5000px");var s=n.createRange();s.setStartBefore(e.wrapper),s.setEndAfter(e.wrapper),r.setHtml('<span data-cke-copybin-start="1">\u200b</span>'+n.editable().getHtmlFromRange(s).getHtml()+'<span data-cke-copybin-end="1">\u200b</span>'),n.fire("saveSnapshot"),n.fire("lockSnapshot"),a.append(r),n.editable().append(a);var l=n.on("selectionChange",m,null,null,0),u=e.repository.on("checkSelection",m,null,null,0);if(i)var c=o.getDocumentElement().$,d=c.scrollTop;(s=n.createRange()).selectNodeContents(r),s.select(),i&&(c.scrollTop=d),setTimeout(function(){t||e.focus(),a.remove(),l.removeListener(),u.removeListener(),n.fire("unlockSnapshot"),t&&!n.readOnly&&(e.repository.del(e),n.fire("saveSnapshot"))},100)}}function v(e){return(e=(e=e.getDefinition().attributes)&&e.class)?e.split(/\s+/):null}function T(){var e=CKEDITOR.document.getActive(),t=this.editor,n=t.editable();(n.isInline()?n:t.document.getWindow().getFrame()).equals(e)&&t.focusManager.focus(n)}function C(){CKEDITOR.env.gecko&&this.editor.unlockSelection(),CKEDITOR.env.webkit||(this.editor.forceNextSelectionCheck(),this.editor.selectionChange(1))}function y(e){function t(){var t;for(h.reset();t=u.pop();)t.removeListener();var n=c;t=e.sender;var o=this.repository.finder,r=this.repository.liner,i=this.editor,a=this.editor.editable();CKEDITOR.tools.isEmpty(r.visible)||(n=o.getRange(n[0]),this.focus(),i.fire("drop",{dropRange:n,target:n.startContainer})),a.removeClass("cke_widget_dragging"),r.hideVisible(),i.fire("dragend",{target:t})}if(CKEDITOR.tools.getMouseButton(e)===CKEDITOR.MOUSE_BUTTON_LEFT){var n,o,r=this.repository.finder,i=this.repository.locator,a=this.repository.liner,s=this.editor,l=s.editable(),u=[],c=[];this.repository._.draggedWidget=this;var d=r.greedySearch(),h=CKEDITOR.tools.eventsBuffer(50,function(){n=i.locate(d),(c=i.sort(o,1)).length&&(a.prepare(d,n),a.placeLine(c[0]),a.cleanup())});l.addClass("cke_widget_dragging"),u.push(l.on("mousemove",function(e){o=e.data.$.clientY,h.input()})),s.fire("dragstart",{target:e.sender}),u.push(s.document.once("mouseup",t,this)),l.isInline()||u.push(CKEDITOR.document.once("mouseup",t,this))}}function b(e){e.element.data("cke-widget-data",encodeURIComponent(JSON.stringify(e.data)))}CKEDITOR.plugins.add("widget",{requires:"lineutils,clipboard,widgetselection",onLoad:function(){void 0!==CKEDITOR.document.$.querySelectorAll&&(CKEDITOR.addCss(".cke_widget_wrapper{position:relative;outline:none}.cke_widget_inline{display:inline-block}.cke_widget_wrapper:hover>.cke_widget_element{outline:2px solid #ffd25c;cursor:default}.cke_widget_wrapper:hover .cke_widget_editable{outline:2px solid #ffd25c}.cke_widget_wrapper.cke_widget_focused>.cke_widget_element,.cke_widget_wrapper .cke_widget_editable.cke_widget_editable_focused{outline:2px solid #47a4f5}.cke_widget_editable{cursor:text}.cke_widget_drag_handler_container{position:absolute;width:15px;height:0;display:none;opacity:0.75;transition:height 0s 0.2s;line-height:0}.cke_widget_wrapper:hover>.cke_widget_drag_handler_container{height:15px;transition:none}.cke_widget_drag_handler_container:hover{opacity:1}img.cke_widget_drag_handler{cursor:move;width:15px;height:15px;display:inline-block}.cke_widget_mask{position:absolute;top:0;left:0;width:100%;height:100%;display:block}.cke_editable.cke_widget_dragging, .cke_editable.cke_widget_dragging *{cursor:move !important}"),function(){function e(){}function n(e,t,n){return!(!n||!this.checkElement(e))&&(e=n.widgets.getByElement(e,!0))&&e.checkStyleActive(this)}var o={};CKEDITOR.style.addCustomHandler({type:"widget",setup:function(e){if(this.widget=e.widget,this.group="string"==typeof e.group?[e.group]:e.group){var t;o[e=this.widget]||(o[e]={});for(var n=0,r=this.group.length;n<r;n++)o[e][t=this.group[n]]||(o[e][t]=[]),o[e][t].push(this)}},apply:function(e){var t;e instanceof CKEDITOR.editor&&this.checkApplicable(e.elementPath(),e)&&(t=e.widgets.focused,this.group&&this.removeStylesFromSameGroup(e),t.applyStyle(this))},remove:function(e){e instanceof CKEDITOR.editor&&this.checkApplicable(e.elementPath(),e)&&e.widgets.focused.removeStyle(this)},removeStylesFromSameGroup:function(e){var t,n,r=!1;if(!(e instanceof CKEDITOR.editor))return!1;if(n=e.elementPath(),this.checkApplicable(n,e))for(var i=0,a=this.group.length;i<a;i++){t=o[this.widget][this.group[i]];for(var s=0;s<t.length;s++)t[s]!==this&&t[s].checkActive(n,e)&&(e.widgets.focused.removeStyle(t[s]),r=!0)}return r},checkActive:function(e,t){return this.checkElementMatch(e.lastElement,0,t)},checkApplicable:function(e,t){return t instanceof CKEDITOR.editor&&this.checkElement(e.lastElement)},checkElementMatch:n,checkElementRemovable:n,checkElement:function(e){return!!t.isDomWidgetWrapper(e)&&(e=e.getFirst(t.isDomWidgetElement))&&e.data("widget")==this.widget},buildPreview:function(e){return e||this._.definition.name},toAllowedContentRules:function(e){if(!e)return null;var t,n={};return(e=e.widgets.registered[this.widget])?e.styleableElements?(t=this.getClassesArray())?(n[e.styleableElements]={classes:t,propertiesOnly:!0},n):null:e.styleToAllowedContentRules?e.styleToAllowedContentRules(this):null:null},getClassesArray:function(){var e=this._.definition.attributes&&this._.definition.attributes.class;return e?CKEDITOR.tools.trim(e).split(/\s+/):null},applyToRange:e,removeFromRange:e,applyToObject:e})}())},beforeInit:function(t){void 0!==CKEDITOR.document.$.querySelectorAll&&(t.widgets=new e(t))},afterInit:function(e){if(void 0!==CKEDITOR.document.$.querySelectorAll){var t,n,o,r=e.widgets.registered;for(n in r)(o=(t=r[n]).button)&&e.ui.addButton&&e.ui.addButton(CKEDITOR.tools.capitalize(t.name,!0),{label:o,command:t.name,toolbar:"insert,10"});!function(e){e.contextMenu&&e.contextMenu.addListener(function(t){if(t=e.widgets.getByElement(t,!0))return t.fire("contextMenu",{})})}(e)}}}),e.prototype={MIN_SELECTION_CHECK_INTERVAL:500,add:function(e,t){return(t=CKEDITOR.tools.prototypedCopy(t)).name=e,t._=t._||{},this.editor.fire("widgetDefinition",t),t.template&&(t.template=new CKEDITOR.template(t.template)),function(e,t){e.addCommand(t.name,{exec:function(e,n){function o(){e.widgets.finalizeCreation(s)}if((i=e.widgets.focused)&&i.name==t.name)i.edit();else if(t.insert)t.insert();else if(t.template){var r,i="function"==typeof t.defaults?t.defaults():t.defaults,a=(i=CKEDITOR.dom.element.createFromHtml(t.template.output(i)),e.widgets.wrapElement(i,t.name)),s=new CKEDITOR.dom.documentFragment(a.getDocument());s.append(a),(r=e.widgets.initOn(i,t,n&&n.startupData))?(i=r.once("edit",function(t){t.data.dialog?r.once("dialog",function(t){var n,i;n=(t=t.data).once("ok",o,null,null,20),i=t.once("cancel",function(t){t.data&&!1===t.data.hide||e.widgets.destroy(r,!0)}),t.once("hide",function(){n.removeListener(),i.removeListener()})}):o()},null,null,999),r.edit(),i.removeListener()):o()}},allowedContent:t.allowedContent,requiredContent:t.requiredContent,contentForms:t.contentForms,contentTransformations:t.contentTransformations})}(this.editor,t),function(e,t){var n=t.upcast;n&&function(t,n,o){var r=CKEDITOR.tools.getIndex(e._.upcasts,function(e){return e[2]>o});0>r&&(r=e._.upcasts.length),e._.upcasts.splice(r,0,[CKEDITOR.tools.bind(t,n),n.name,o])}("string"==typeof n?function(e,n){var o,r,i=t.upcast.split(",");for(r=0;r<i.length;r++)if((o=i[r])===e.name)return t.upcasts[o].call(this,e,n);return!1}:n,t,t.upcastPriority||10)}(this,t),this.registered[e]=t},addUpcastCallback:function(e){this._.upcastCallbacks.push(e)},checkSelection:function(){var e,n=this.editor.getSelection(),o=n.getSelectedElement(),r=p(this);if(o&&(e=this.getByElement(o,!0)))return r.focus(e).select(e).commit();if(!(n=n.getRanges()[0])||n.collapsed)return r.commit();for((n=new CKEDITOR.dom.walker(n)).evaluator=t.isDomWidgetWrapper;o=n.next();)r.select(this.getByElement(o));r.commit()},checkWidgets:function(e){this.fire("checkWidgets",CKEDITOR.tools.copy(e||{}))},del:function(e){if(this.focused===e){var t,n=e.editor,o=n.createRange();(t=o.moveToClosestEditablePosition(e.wrapper,!0))||(t=o.moveToClosestEditablePosition(e.wrapper,!1)),t&&n.getSelection().selectRanges([o])}e.wrapper.remove(),this.destroy(e,!0)},destroy:function(e,t){this.widgetHoldingFocusedEditable===e&&h(this,e,null,t),e.destroy(t),delete this.instances[e.id],this.fire("instanceDestroyed",e)},destroyAll:function(e,t){var n,o,r=this.instances;if(t&&!e){r=(o=t.find(".cke_widget_wrapper")).count();for(var i=0;i<r;++i)(n=this.getByElement(o.getItem(i),!0))&&this.destroy(n)}else for(o in r)this.destroy(n=r[o],e)},finalizeCreation:function(e){(e=e.getFirst())&&t.isDomWidgetWrapper(e)&&(this.editor.insertElement(e),(e=this.getByElement(e)).ready=!0,e.fire("ready"),e.focus())},getByElement:function(){function e(e){return e.is(t)&&e.data("cke-widget-id")}var t={div:1,span:1};return function(t,n){if(!t)return null;var o=e(t);if(!n&&!o){var r=this.editor.editable();do{t=t.getParent()}while(t&&!t.equals(r)&&!(o=e(t)))}return this.instances[o]||null}}(),initOn:function(e,n,o){if(n?"string"==typeof n&&(n=this.registered[n]):n=this.registered[e.data("widget")],!n)return null;var r=this.wrapElement(e,n.name);return r?r.hasClass("cke_widget_new")?(e=new t(this,this._.nextId++,e,n,o)).isInited()?this.instances[e.id]=e:null:this.getByElement(e):null},initOnAll:function(e){for(var n,o=[],r=(e=(e||this.editor.editable()).find(".cke_widget_new")).count();r--;)(n=this.initOn(e.getItem(r).getFirst(t.isDomWidgetElement)))&&o.push(n);return o},onWidget:function(e){var t=Array.prototype.slice.call(arguments);for(var n in t.shift(),this.instances){var o=this.instances[n];o.name==e&&o.on.apply(o,t)}this.on("instanceCreated",function(n){(n=n.data).name==e&&n.on.apply(n,t)})},parseElementClasses:function(e){if(!e)return null;e=CKEDITOR.tools.trim(e).split(/\s+/);for(var t,n={},o=0;t=e.pop();)-1==t.indexOf("cke_")&&(n[t]=o=1);return o?n:null},wrapElement:function(e,t){var n,o,r=null;if(e instanceof CKEDITOR.dom.element){if(t=t||e.data("widget"),!(n=this.registered[t]))return null;if((r=e.getParent())&&r.type==CKEDITOR.NODE_ELEMENT&&r.data("cke-widget-wrapper"))return r;e.hasAttribute("data-cke-widget-keep-attr")||e.data("cke-widget-keep-attr",e.data("widget")?1:0),e.data("widget",t),(o=c(n,e.getName()))&&i(e),(r=new CKEDITOR.dom.element(o?"span":"div")).setAttributes(u(o,t)),r.data("cke-display-name",n.pathName?n.pathName:e.getName()),e.getParent(!0)&&r.replace(e),e.appendTo(r)}else if(e instanceof CKEDITOR.htmlParser.element){if(!(n=this.registered[t=t||e.attributes["data-widget"]]))return null;if((r=e.parent)&&r.type==CKEDITOR.NODE_ELEMENT&&r.attributes["data-cke-widget-wrapper"])return r;var a;"data-cke-widget-keep-attr"in e.attributes||(e.attributes["data-cke-widget-keep-attr"]=e.attributes["data-widget"]?1:0),t&&(e.attributes["data-widget"]=t),(o=c(n,e.name))&&i(e),(r=new CKEDITOR.htmlParser.element(o?"span":"div",u(o,t))).attributes["data-cke-display-name"]=n.pathName?n.pathName:e.name,(n=e.parent)&&(a=e.getIndex(),e.remove()),r.add(e),n&&function e(t,n,o){if(t.type==CKEDITOR.NODE_ELEMENT&&(r=CKEDITOR.dtd[t.name])&&!r[o.name]){var r=t.split(n),i=t.parent;return n=r.getIndex(),t.children.length||(--n,t.remove()),r.children.length||r.remove(),e(i,n,o)}t.add(o,n)}(n,a,r)}return r},_tests_createEditableFilter:l},CKEDITOR.event.implementOn(e.prototype),t.prototype={addClass:function(e){this.element.addClass(e),this.wrapper.addClass(t.WRAPPER_CLASS_PREFIX+e)},applyStyle:function(e){g(this,e,1)},checkStyleActive:function(e){var t;if(!(e=v(e)))return!1;for(;t=e.pop();)if(!this.hasClass(t))return!1;return!0},destroy:function(e){if(this.fire("destroy"),this.editables)for(var t in this.editables)this.destroyEditable(t,e);e||("0"==this.element.data("cke-widget-keep-attr")&&this.element.removeAttribute("data-widget"),this.element.removeAttributes(["data-cke-widget-data","data-cke-widget-keep-attr"]),this.element.removeClass("cke_widget_element"),this.element.replace(this.wrapper)),this.wrapper=null},destroyEditable:function(e,t){var n=this.editables[e];n.removeListener("focus",C),n.removeListener("blur",T),this.editor.focusManager.remove(n),t||(this.repository.destroyAll(!1,n),n.removeClass("cke_widget_editable"),n.removeClass("cke_widget_editable_focused"),n.removeAttributes(["contenteditable","data-cke-widget-editable","data-cke-enter-mode"])),delete this.editables[e]},edit:function(){var e={dialog:this.dialog},t=this;return!(!1===this.fire("edit",e)||!e.dialog||(this.editor.openDialog(e.dialog,function(e){var n,o;!1!==t.fire("dialog",e)&&(n=e.on("show",function(){e.setupContent(t)}),o=e.on("ok",function(){var n,o=t.on("data",function(e){n=1,e.cancel()},null,null,0);t.editor.fire("saveSnapshot"),e.commitContent(t),o.removeListener(),n&&(t.fire("data",t.data),t.editor.fire("saveSnapshot"))}),e.once("hide",function(){n.removeListener(),o.removeListener()}))}),0))},getClasses:function(){return this.repository.parseElementClasses(this.element.getAttribute("class"))},hasClass:function(e){return this.element.hasClass(e)},initEditable:function(e,t){var o=this._findOneNotNested(t.selector);return!(!o||!o.is(CKEDITOR.dtd.$editable)||(o=new n(this.editor,o,{filter:l.call(this.repository,this.name,e,t)}),this.editables[e]=o,o.setAttributes({contenteditable:"true","data-cke-widget-editable":e,"data-cke-enter-mode":o.enterMode}),o.filter&&o.data("cke-filter",o.filter.id),o.addClass("cke_widget_editable"),o.removeClass("cke_widget_editable_focused"),t.pathName&&o.data("cke-display-name",t.pathName),this.editor.focusManager.add(o),o.on("focus",C,this),CKEDITOR.env.ie&&o.on("blur",T,this),o._.initialSetData=!0,o.setData(o.getHtml()),0))},_findOneNotNested:function(e){e=this.wrapper.find(e);for(var n,o,r=0;r<e.count();r++)if(o=(n=e.getItem(r)).getAscendant(t.isDomWidgetWrapper),this.wrapper.equals(o))return n;return null},isInited:function(){return!(!this.wrapper||!this.inited)},isReady:function(){return this.isInited()&&this.ready},focus:function(){var e=this.editor.getSelection();if(e){var t=this.editor.checkDirty();e.fake(this.wrapper),!t&&this.editor.resetDirty()}this.editor.focus()},removeClass:function(e){this.element.removeClass(e),this.wrapper.removeClass(t.WRAPPER_CLASS_PREFIX+e)},removeStyle:function(e){g(this,e,0)},setData:function(e,t){var n=this.data,o=0;if("string"==typeof e)n[e]!==t&&(n[e]=t,o=1);else{var r=e;for(e in r)n[e]!==r[e]&&(o=1,n[e]=r[e])}return o&&this.dataReady&&(b(this),this.fire("data",n)),this},setFocused:function(e){return this.wrapper[e?"addClass":"removeClass"]("cke_widget_focused"),this.fire(e?"focus":"blur"),this},setSelected:function(e){return this.wrapper[e?"addClass":"removeClass"]("cke_widget_selected"),this.fire(e?"select":"deselect"),this},updateDragHandlerPosition:function(){var e=this.editor,t=this._.dragHandlerOffset,n={x:(n=this.element.$).offsetLeft,y:n.offsetTop-15};t&&n.x==t.x&&n.y==t.y||(t=e.checkDirty(),e.fire("lockSnapshot"),this.dragHandlerContainer.setStyles({top:n.y+"px",left:n.x+"px",display:"block"}),e.fire("unlockSnapshot"),!t&&e.resetDirty(),this._.dragHandlerOffset=n)}},CKEDITOR.event.implementOn(t.prototype),t.getNestedEditable=function(e,n){return!n||n.equals(e)?null:t.isDomNestedEditable(n)?n:t.getNestedEditable(e,n.getParent())},t.isDomDragHandler=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-cke-widget-drag-handler")},t.isDomDragHandlerContainer=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasClass("cke_widget_drag_handler_container")},t.isDomNestedEditable=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-cke-widget-editable")},t.isDomWidgetElement=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-widget")},t.isDomWidgetWrapper=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&e.hasAttribute("data-cke-widget-wrapper")},t.isDomWidget=function(e){return!!e&&(this.isDomWidgetWrapper(e)||this.isDomWidgetElement(e))},t.isParserWidgetElement=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&!!e.attributes["data-widget"]},t.isParserWidgetWrapper=function(e){return e.type==CKEDITOR.NODE_ELEMENT&&!!e.attributes["data-cke-widget-wrapper"]},t.WRAPPER_CLASS_PREFIX="cke_widget_wrapper_",n.prototype=CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.dom.element.prototype),{setData:function(e){this._.initialSetData||this.editor.widgets.destroyAll(!1,this),this._.initialSetData=!1,e=this.editor.dataProcessor.toHtml(e,{context:this.getName(),filter:this.filter,enterMode:this.enterMode}),this.setHtml(e),this.editor.widgets.initOnAll(this)},getData:function(){return this.editor.dataProcessor.toDataFormat(this.getHtml(),{context:this.getName(),filter:this.filter,enterMode:this.enterMode})}});var I=/^(?:<(?:div|span)(?: data-cke-temp="1")?(?: id="cke_copybin")?(?: data-cke-temp="1")?>)?(?:<(?:div|span)(?: style="[^"]+")?>)?<span [^>]*data-cke-copybin-start="1"[^>]*>.?<\/span>([\s\S]+)<span [^>]*data-cke-copybin-end="1"[^>]*>.?<\/span>(?:<\/(?:div|span)>)?(?:<\/(?:div|span)>)?$/i,O={37:1,38:1,39:1,40:1,8:1,46:1};CKEDITOR.plugins.widget=t,t.repository=e,t.nestedEditable=n}(),function(){function e(e,t,n){this.editor=e,this.notification=null,this._message=new CKEDITOR.template(t),this._singularMessage=n?new CKEDITOR.template(n):null,this._tasks=[],this._doneTasks=this._doneWeights=this._totalWeights=0}function t(e){this._weight=e||1,this._doneWeight=0,this._isCanceled=!1}CKEDITOR.plugins.add("notificationaggregator",{requires:"notification"}),e.prototype={createTask:function(e){e=e||{};var t,n=!this.notification;return n&&(this.notification=this._createNotification()),(t=this._addTask(e)).on("updated",this._onTaskUpdate,this),t.on("done",this._onTaskDone,this),t.on("canceled",function(){this._removeTask(t)},this),this.update(),n&&this.notification.show(),t},update:function(){this._updateNotification(),this.isFinished()&&this.fire("finished")},getPercentage:function(){return 0===this.getTaskCount()?1:this._doneWeights/this._totalWeights},isFinished:function(){return this.getDoneTaskCount()===this.getTaskCount()},getTaskCount:function(){return this._tasks.length},getDoneTaskCount:function(){return this._doneTasks},_updateNotification:function(){this.notification.update({message:this._getNotificationMessage(),progress:this.getPercentage()})},_getNotificationMessage:function(){var e=this.getTaskCount(),t={current:this.getDoneTaskCount(),max:e,percentage:Math.round(100*this.getPercentage())};return(1==e&&this._singularMessage?this._singularMessage:this._message).output(t)},_createNotification:function(){return new CKEDITOR.plugins.notification(this.editor,{type:"progress"})},_addTask:function(e){return e=new t(e.weight),this._tasks.push(e),this._totalWeights+=e._weight,e},_removeTask:function(e){var t=CKEDITOR.tools.indexOf(this._tasks,e);-1!==t&&(e._doneWeight&&(this._doneWeights-=e._doneWeight),this._totalWeights-=e._weight,this._tasks.splice(t,1),this.update())},_onTaskUpdate:function(e){this._doneWeights+=e.data,this.update()},_onTaskDone:function(){this._doneTasks+=1,this.update()}},CKEDITOR.event.implementOn(e.prototype),t.prototype={done:function(){this.update(this._weight)},update:function(e){if(!this.isDone()&&!this.isCanceled()){var t=(e=Math.min(this._weight,e))-this._doneWeight;this._doneWeight=e,this.fire("updated",t),this.isDone()&&this.fire("done")}},cancel:function(){this.isDone()||this.isCanceled()||(this._isCanceled=!0,this.fire("canceled"))},isDone:function(){return this._weight===this._doneWeight},isCanceled:function(){return this._isCanceled}},CKEDITOR.event.implementOn(t.prototype),CKEDITOR.plugins.notificationAggregator=e,CKEDITOR.plugins.notificationAggregator.task=t}(),CKEDITOR.plugins.add("uploadwidget",{requires:"widget,clipboard,filetools,notificationaggregator",init:function(e){e.filter.allow("*[!data-widget,!data-cke-upload-id]")}}),CKEDITOR.fileTools||(CKEDITOR.fileTools={}),CKEDITOR.tools.extend(CKEDITOR.fileTools,{addUploadWidget:function(e,t,n){var o=CKEDITOR.fileTools,r=e.uploadRepository;n.fileToElement&&e.on("paste",function(n){var i,a,s=e.widgets.registered[t],l=(n=n.data).dataTransfer,u=l.getFilesCount(),c=s.loadMethod||"loadAndUpload";if(!n.dataValue&&u)for(a=0;a<u;a++)if(i=l.getFile(a),!s.supportedTypes||o.isTypeSupported(i,s.supportedTypes)){var d=s.fileToElement(i);i=r.create(i,void 0,s.loaderType),d&&(i[c](s.uploadUrl,s.additionalRequestParameters),CKEDITOR.fileTools.markElement(d,t,i.id),"loadAndUpload"!=c&&"upload"!=c||s.skipNotifications||CKEDITOR.fileTools.bindNotifications(e,i),n.dataValue+=d.getOuterHtml())}},null,null,n.supportedTypes?10:20),CKEDITOR.tools.extend(n,{downcast:function(){return new CKEDITOR.htmlParser.text("")},init:function(){var t,n,o=this,i=this.wrapper.findOne("[data-cke-upload-id]").data("cke-upload-id"),a=r.loaders[i],s=CKEDITOR.tools.capitalize;a.on("update",function(r){o.wrapper&&o.wrapper.getParent()?(e.fire("lockSnapshot"),r="on"+s(a.status),"function"==typeof o[r]&&!1===o[r](a)||(n="cke_upload_"+a.status,o.wrapper&&n!=t&&(t&&o.wrapper.removeClass(t),o.wrapper.addClass(n),t=n),"error"!=a.status&&"abort"!=a.status||e.widgets.del(o)),e.fire("unlockSnapshot")):(e.editable().find('[data-cke-upload-id="'+i+'"]').count()||a.abort(),r.removeListener())}),a.update()},replaceWith:function(t,n){if(""===t.trim())e.widgets.del(this);else{var o,r,i=this==e.widgets.focused,a=e.editable(),s=e.createRange();i||(r=e.getSelection().createBookmarks()),s.setStartBefore(this.wrapper),s.setEndAfter(this.wrapper),i&&(o=s.createBookmark()),a.insertHtmlIntoRange(t,s,n),e.widgets.checkWidgets({initOnlyNew:!0}),e.widgets.destroy(this,!0),i?(s.moveToBookmark(o),s.select()):e.getSelection().selectBookmarks(r)}},_getLoader:function(){var e=this.wrapper.findOne("[data-cke-upload-id]");return e?this.editor.uploadRepository.loaders[e.data("cke-upload-id")]:null}}),e.widgets.add(t,n)},markElement:function(e,t,n){e.setAttributes({"data-cke-upload-id":n,"data-widget":t})},bindNotifications:function(e,t){var n,o=null;t.on("update",function(){!o&&t.uploadTotal&&((n=e._.uploadWidgetNotificaionAggregator)&&!n.isFinished()||(n=e._.uploadWidgetNotificaionAggregator=new CKEDITOR.plugins.notificationAggregator(e,e.lang.uploadwidget.uploadMany,e.lang.uploadwidget.uploadOne)).once("finished",function(){var t=n.getTaskCount();0===t?n.notification.hide():n.notification.update({message:1==t?e.lang.uploadwidget.doneOne:e.lang.uploadwidget.doneMany.replace("%1",t),type:"success",important:1})}),o=n.createTask({weight:t.uploadTotal})),o&&"uploading"==t.status&&o.update(t.uploaded)}),t.on("uploaded",function(){o&&o.done()}),t.on("error",function(){o&&o.cancel(),e.showNotification(t.message,"warning")}),t.on("abort",function(){o&&o.cancel(),e.showNotification(e.lang.uploadwidget.abort,"info")})}}),function(){function e(e){return 9>=e&&(e="0"+e),String(e)}function t(t){var o=[(o=new Date).getFullYear(),o.getMonth()+1,o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds()];return n+=1,"image-"+CKEDITOR.tools.array.map(o,e).join("")+"-"+n+"."+t}var n=0;CKEDITOR.plugins.add("uploadimage",{requires:"uploadwidget",onLoad:function(){CKEDITOR.addCss(".cke_upload_uploading img{opacity: 0.3}")},init:function(e){if(CKEDITOR.plugins.clipboard.isFileApiSupported){var n=CKEDITOR.fileTools,o=n.getUploadUrl(e.config,"image");o&&(n.addUploadWidget(e,"uploadimage",{supportedTypes:/image\/(jpeg|png|gif|bmp)/,uploadUrl:o,fileToElement:function(){var e=new CKEDITOR.dom.element("img");return e.setAttribute("src","data:image/gif;base64,R0lGODlhDgAOAIAAAAAAAP///yH5BAAAAAAALAAAAAAOAA4AAAIMhI+py+0Po5y02qsKADs="),e},parts:{img:"img"},onUploading:function(e){this.parts.img.setAttribute("src",e.data)},onUploaded:function(e){var t=this.parts.img.$;this.replaceWith('<img src="'+e.url+'" width="'+(e.responseData.width||t.naturalWidth)+'" height="'+(e.responseData.height||t.naturalHeight)+'">')}}),e.on("paste",function(r){if(r.data.dataValue.match(/<img[\s\S]+data:/i)){r=r.data;var i,a,s,l=document.implementation.createHTMLDocument("");for((l=new CKEDITOR.dom.element(l.body)).data("cke-editable",1),l.appendHtml(r.dataValue),i=l.find("img"),s=0;s<i.count();s++){var u=(a=i.getItem(s)).getAttribute("src"),c=u&&"data:"==u.substring(0,5),d=null===a.data("cke-realelement");c&&d&&!a.data("cke-upload-id")&&!a.isReadOnly(1)&&(c=(c=u.match(/image\/([a-z]+?);/i))&&c[1]||"jpg",(u=e.uploadRepository.create(u,t(c))).upload(o),n.markElement(a,"uploadimage",u.id),n.bindNotifications(e,u))}r.dataValue=l.getHtml()}}))}}})}(),CKEDITOR.plugins.add("wsc",{requires:"dialog",parseApi:function(e){e.config.wsc_onFinish="function"==typeof e.config.wsc_onFinish?e.config.wsc_onFinish:function(){},e.config.wsc_onClose="function"==typeof e.config.wsc_onClose?e.config.wsc_onClose:function(){}},parseConfig:function(e){e.config.wsc_customerId=e.config.wsc_customerId||CKEDITOR.config.wsc_customerId||"1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk",e.config.wsc_customDictionaryIds=e.config.wsc_customDictionaryIds||CKEDITOR.config.wsc_customDictionaryIds||"",e.config.wsc_userDictionaryName=e.config.wsc_userDictionaryName||CKEDITOR.config.wsc_userDictionaryName||"",e.config.wsc_customLoaderScript=e.config.wsc_customLoaderScript||CKEDITOR.config.wsc_customLoaderScript,e.config.wsc_interfaceLang=e.config.wsc_interfaceLang,CKEDITOR.config.wsc_cmd=e.config.wsc_cmd||CKEDITOR.config.wsc_cmd||"spell",CKEDITOR.config.wsc_version="v4.3.0-master-d769233",CKEDITOR.config.wsc_removeGlobalVariable=!0},onLoad:function(e){"moono-lisa"==(CKEDITOR.skinName||e.config.skin)&&CKEDITOR.document.appendStyleSheet(this.path+"skins/"+CKEDITOR.skin.name+"/wsc.css")},init:function(e){var t=CKEDITOR.env;this.parseConfig(e),this.parseApi(e),e.addCommand("checkspell",new CKEDITOR.dialogCommand("checkspell")).modes={wysiwyg:!(CKEDITOR.env.opera||CKEDITOR.env.air||document.domain!=window.location.hostname||t.ie&&(8>t.version||t.quirks))},void 0===e.plugins.scayt&&e.ui.addButton&&e.ui.addButton("SpellChecker",{label:e.lang.wsc.toolbar,click:function(e){var t=e.elementMode==CKEDITOR.ELEMENT_MODE_INLINE?e.container.getText():e.document.getBody().getText();(t=t.replace(/\s/g,""))?e.execCommand("checkspell"):alert("Nothing to check!")},toolbar:"spellchecker,10"}),CKEDITOR.dialog.add("checkspell",this.path+(CKEDITOR.env.ie&&7>=CKEDITOR.env.version?"dialogs/wsc_ie.js":window.postMessage?"dialogs/wsc.js":"dialogs/wsc_ie.js"))}}),function(){function e(e){function t(e){var t=!1;a.attachListener(a,"keydown",function(){var n=o.getBody().getElementsByTag(e);if(!t){for(var r=0;r<n.count();r++)n.getItem(r).setCustomData("retain",!0);t=!0}},null,null,1),a.attachListener(a,"keyup",function(){var n=o.getElementsByTag(e);t&&(1==n.count()&&!n.getItem(0).getCustomData("retain")&&CKEDITOR.tools.isEmpty(n.getItem(0).getAttributes())&&n.getItem(0).remove(1),t=!1)})}var n=this.editor,o=e.document,r=o.body,i=o.getElementById("cke_actscrpt");i&&i.parentNode.removeChild(i),(i=o.getElementById("cke_shimscrpt"))&&i.parentNode.removeChild(i),(i=o.getElementById("cke_basetagscrpt"))&&i.parentNode.removeChild(i),r.contentEditable=!0,CKEDITOR.env.ie&&(r.hideFocus=!0,r.disabled=!0,r.removeAttribute("disabled")),delete this._.isLoadingData,this.$=r,o=new CKEDITOR.dom.document(o),this.setup(),this.fixInitialSelection();var a=this;CKEDITOR.env.ie&&!CKEDITOR.env.edge&&o.getDocumentElement().addClass(o.$.compatMode),CKEDITOR.env.ie&&!CKEDITOR.env.edge&&n.enterMode!=CKEDITOR.ENTER_P?t("p"):CKEDITOR.env.edge&&15>CKEDITOR.env.version&&n.enterMode!=CKEDITOR.ENTER_DIV&&t("div"),(CKEDITOR.env.webkit||CKEDITOR.env.ie&&10<CKEDITOR.env.version)&&o.getDocumentElement().on("mousedown",function(e){e.data.getTarget().is("html")&&setTimeout(function(){n.editable().focus()})}),function(e){function t(e){e.returnValue=!1}if(CKEDITOR.env.gecko)try{var n=e.document.$;n.execCommand("enableObjectResizing",!1,!e.config.disableObjectResizing),n.execCommand("enableInlineTableEditing",!1,!e.config.disableNativeTableHandles)}catch(e){}else CKEDITOR.env.ie&&11>CKEDITOR.env.version&&e.config.disableObjectResizing&&function(){var n;e.editable().attachListener(e,"selectionChange",function(){var o=e.getSelection().getSelectedElement();o&&(n&&(n.detachEvent("onresizestart",t),n=null),o.$.attachEvent("onresizestart",t),n=o.$)})}()}(n);try{n.document.$.execCommand("2D-position",!1,!0)}catch(e){}(CKEDITOR.env.gecko||CKEDITOR.env.ie&&"CSS1Compat"==n.document.$.compatMode)&&this.attachListener(this,"keydown",function(e){var t=e.data.getKeystroke();if(33==t||34==t)if(CKEDITOR.env.ie)setTimeout(function(){n.getSelection().scrollIntoView()},0);else if(n.window.$.innerHeight>this.$.offsetHeight){var o=n.createRange();o[33==t?"moveToElementEditStart":"moveToElementEditEnd"](this),o.select(),e.data.preventDefault()}}),CKEDITOR.env.ie&&this.attachListener(o,"blur",function(){try{o.$.selection.empty()}catch(e){}}),CKEDITOR.env.iOS&&this.attachListener(o,"touchend",function(){e.focus()}),(r=n.document.getElementsByTag("title").getItem(0)).data("cke-title",r.getText()),CKEDITOR.env.ie&&(n.document.$.title=this._.docTitle),CKEDITOR.tools.setTimeout(function(){"unloaded"==this.status&&(this.status="ready"),n.fire("contentDom"),this._.isPendingFocus&&(n.focus(),this._.isPendingFocus=!1),setTimeout(function(){n.fire("dataReady")},0)},0,this)}var t;CKEDITOR.plugins.add("wysiwygarea",{init:function(e){e.config.fullPage&&e.addFeature({allowedContent:"html head title; style [media,type]; body (*)[id]; meta link [*]",requiredContent:"body"}),e.addMode("wysiwyg",function(n){function o(o){o&&o.removeListener(),e.editable(new t(e,i.$.contentWindow.document.body)),e.setData(e.getData(1),n)}var r="document.open();"+(CKEDITOR.env.ie?"("+CKEDITOR.tools.fixDomain+")();":"")+"document.close();",i=(r=CKEDITOR.env.air?"javascript:void(0)":CKEDITOR.env.ie&&!CKEDITOR.env.edge?"javascript:void(function(){"+encodeURIComponent(r)+"}())":"",CKEDITOR.dom.element.createFromHtml('<iframe src="'+r+'" frameBorder="0"></iframe>'));i.setStyles({width:"100%",height:"100%"}),i.addClass("cke_wysiwyg_frame").addClass("cke_reset"),(r=e.ui.space("contents")).append(i);var a=CKEDITOR.env.ie&&!CKEDITOR.env.edge||CKEDITOR.env.gecko;a&&i.on("load",o);var s=e.title,l=e.fire("ariaEditorHelpLabel",{}).label;if(s&&(CKEDITOR.env.ie&&l&&(s+=", "+l),i.setAttribute("title",s)),l){s=CKEDITOR.tools.getNextId();var u=CKEDITOR.dom.element.createFromHtml('<span id="'+s+'" class="cke_voice_label">'+l+"</span>");r.append(u,1),i.setAttribute("aria-describedby",s)}e.on("beforeModeUnload",function(e){e.removeListener(),u&&u.remove()}),i.setAttributes({tabIndex:e.tabIndex,allowTransparency:"true"}),!a&&o(),e.fire("ariaWidget",i)})}}),CKEDITOR.editor.prototype.addContentsCss=function(e){var t=this.config,n=t.contentsCss;CKEDITOR.tools.isArray(n)||(t.contentsCss=n?[n]:[]),t.contentsCss.push(e)},t=CKEDITOR.tools.createClass({$:function(){this.base.apply(this,arguments),this._.frameLoadedHandler=CKEDITOR.tools.addFunction(function(t){CKEDITOR.tools.setTimeout(e,0,this,t)},this),this._.docTitle=this.getWindow().getFrame().getAttribute("title")},base:CKEDITOR.editable,proto:{setData:function(e,t){var n=this.editor;if(t)this.setHtml(e),this.fixInitialSelection(),n.fire("dataReady");else{this._.isLoadingData=!0,n._.dataStore={id:1};var o=n.config,r=o.fullPage,i=o.docType,a=CKEDITOR.tools.buildStyleHtml(function(){var e=[];if(8<=CKEDITOR.document.$.documentMode){e.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");var t,n=[];for(t in CKEDITOR.dtd.$removeEmpty)n.push("html.CSS1Compat "+t+"[contenteditable=false]");e.push(n.join(",")+"{display:inline-block}")}else CKEDITOR.env.gecko&&(e.push("html{height:100% !important}"),e.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));return e.push("html{cursor:text;*cursor:auto}"),e.push("img,input,textarea{cursor:default}"),e.join("\n")}()).replace(/<style>/,'<style data-cke-temp="1">');r||(a+=CKEDITOR.tools.buildStyleHtml(n.config.contentsCss));var s=o.baseHref?'<base href="'+o.baseHref+'" data-cke-temp="1" />':"";r&&(e=e.replace(/<!DOCTYPE[^>]*>/i,function(e){return n.docType=i=e,""}).replace(/<\?xml\s[^\?]*\?>/i,function(e){return n.xmlDeclaration=e,""})),e=n.dataProcessor.toHtml(e),r?(/<body[\s|>]/.test(e)||(e="<body>"+e),/<html[\s|>]/.test(e)||(e="<html>"+e+"</html>"),/<head[\s|>]/.test(e)?/<title[\s|>]/.test(e)||(e=e.replace(/<head[^>]*>/,"$&<title></title>")):e=e.replace(/<html[^>]*>/,"$&<head><title></title></head>"),s&&(e=e.replace(/<head[^>]*?>/,"$&"+s)),e=e.replace(/<\/head\s*>/,a+"$&"),e=i+e):e=o.docType+'<html dir="'+o.contentsLangDirection+'" lang="'+(o.contentsLanguage||n.langCode)+'"><head><title>'+this._.docTitle+"</title>"+s+a+"</head><body"+(o.bodyId?' id="'+o.bodyId+'"':"")+(o.bodyClass?' class="'+o.bodyClass+'"':"")+">"+e+"</body></html>",CKEDITOR.env.gecko&&(e=e.replace(/<body/,'<body contenteditable="true" '),2e4>CKEDITOR.env.version&&(e=e.replace(/<body[^>]*>/,"$&\x3c!-- cke-content-start --\x3e"))),o='<script id="cke_actscrpt" type="text/javascript"'+(CKEDITOR.env.ie?' defer="defer" ':"")+">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction("+this._.frameLoadedHandler+",window);wasLoaded=1;}"+(CKEDITOR.env.ie?"onload();":'document.addEventListener("DOMContentLoaded", onload, false );')+"<\/script>",CKEDITOR.env.ie&&9>CKEDITOR.env.version&&(o+='<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)<\/script>'),s&&CKEDITOR.env.ie&&10>CKEDITOR.env.version&&(o+='<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;<\/script>'),e=e.replace(/(?=\s*<\/(:?head)>)/,o),this.clearCustomData(),this.clearListeners(),n.fire("contentDomUnload");var l=this.getDocument();try{l.write(e)}catch(t){setTimeout(function(){l.write(e)},0)}}},getData:function(e){if(e)return this.getHtml();var t=(e=this.editor).config,n=(i=t.fullPage)&&e.docType,o=i&&e.xmlDeclaration,r=this.getDocument(),i=i?r.getDocumentElement().getOuterHtml():r.getBody().getHtml();return CKEDITOR.env.gecko&&t.enterMode!=CKEDITOR.ENTER_BR&&(i=i.replace(/<br>(?=\s*(:?$|<\/body>))/,"")),i=e.dataProcessor.toDataFormat(i),o&&(i=o+"\n"+i),n&&(i=n+"\n"+i),i},focus:function(){this._.isLoadingData?this._.isPendingFocus=!0:t.baseProto.focus.call(this)},detach:function(){var e,n=this.editor,o=n.document;try{e=n.window.getFrame()}catch(e){}t.baseProto.detach.call(this),this.clearCustomData(),o.getDocumentElement().clearCustomData(),CKEDITOR.tools.removeFunction(this._.frameLoadedHandler),e&&e.getParent()?(e.clearCustomData(),(n=e.removeCustomData("onResize"))&&n.removeListener(),e.remove()):CKEDITOR.warn("editor-destroy-iframe")}}})}(),CKEDITOR.config.disableObjectResizing=!1,CKEDITOR.config.disableNativeTableHandles=!0,CKEDITOR.config.disableNativeSpellChecker=!0,CKEDITOR.config.plugins="dialogui,dialog,a11yhelp,about,basicstyles,blockquote,notification,button,toolbar,clipboard,panel,floatpanel,menu,contextmenu,elementspath,indent,indentlist,list,enterkey,entities,popup,filetools,filebrowser,floatingspace,listblock,richcombo,format,horizontalrule,htmlwriter,image,fakeobjects,link,magicline,maximize,pastefromword,pastetext,removeformat,resize,menubutton,scayt,showborders,sourcearea,specialchar,stylescombo,tab,table,tabletools,tableselection,undo,lineutils,widgetselection,widget,notificationaggregator,uploadwidget,uploadimage,wsc,wysiwygarea",CKEDITOR.config.skin="moono-lisa",function(){var e=function(e,t){var n=CKEDITOR.getUrl("plugins/"+t);e=e.split(",");for(var o=0;o<e.length;o++)CKEDITOR.skin.icons[e[o]]={path:n,offset:-e[++o],bgsize:e[++o]}};CKEDITOR.env.hidpi?e("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,codesnippet,384,,bgcolor,408,,textcolor,432,,copyformatting,456,,creatediv,480,,docprops-rtl,504,,docprops,528,,easyimagealigncenter,552,,easyimagealignleft,576,,easyimagealignright,600,,easyimagealt,624,,easyimagefull,648,,easyimageside,672,,easyimageupload,696,,embed,720,,embedsemantic,744,,find-rtl,768,,find,792,,replace,816,,flash,840,,button,864,,checkbox,888,,form,912,,hiddenfield,936,,imagebutton,960,,radio,984,,select-rtl,1008,,select,1032,,textarea-rtl,1056,,textarea,1080,,textfield-rtl,1104,,textfield,1128,,horizontalrule,1152,,iframe,1176,,image,1200,,indent-rtl,1224,,indent,1248,,outdent-rtl,1272,,outdent,1296,,justifyblock,1320,,justifycenter,1344,,justifyleft,1368,,justifyright,1392,,language,1416,,anchor-rtl,1440,,anchor,1464,,link,1488,,unlink,1512,,bulletedlist-rtl,1536,,bulletedlist,1560,,numberedlist-rtl,1584,,numberedlist,1608,,mathjax,1632,,maximize,1656,,newpage-rtl,1680,,newpage,1704,,pagebreak-rtl,1728,,pagebreak,1752,,pastefromword-rtl,1776,,pastefromword,1800,,pastetext-rtl,1824,,pastetext,1848,,placeholder,1872,,preview-rtl,1896,,preview,1920,,print,1944,,removeformat,1968,,save,1992,,scayt,2016,,selectall,2040,,showblocks-rtl,2064,,showblocks,2088,,smiley,2112,,source-rtl,2136,,source,2160,,sourcedialog-rtl,2184,,sourcedialog,2208,,specialchar,2232,,table,2256,,templates-rtl,2280,,templates,2304,,uicolor,2328,,redo-rtl,2352,,redo,2376,,undo-rtl,2400,,undo,2424,,simplebox,4896,auto,spellchecker,2472,","icons_hidpi.png"):e("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,codesnippet,384,auto,bgcolor,408,auto,textcolor,432,auto,copyformatting,456,auto,creatediv,480,auto,docprops-rtl,504,auto,docprops,528,auto,easyimagealigncenter,552,auto,easyimagealignleft,576,auto,easyimagealignright,600,auto,easyimagealt,624,auto,easyimagefull,648,auto,easyimageside,672,auto,easyimageupload,696,auto,embed,720,auto,embedsemantic,744,auto,find-rtl,768,auto,find,792,auto,replace,816,auto,flash,840,auto,button,864,auto,checkbox,888,auto,form,912,auto,hiddenfield,936,auto,imagebutton,960,auto,radio,984,auto,select-rtl,1008,auto,select,1032,auto,textarea-rtl,1056,auto,textarea,1080,auto,textfield-rtl,1104,auto,textfield,1128,auto,horizontalrule,1152,auto,iframe,1176,auto,image,1200,auto,indent-rtl,1224,auto,indent,1248,auto,outdent-rtl,1272,auto,outdent,1296,auto,justifyblock,1320,auto,justifycenter,1344,auto,justifyleft,1368,auto,justifyright,1392,auto,language,1416,auto,anchor-rtl,1440,auto,anchor,1464,auto,link,1488,auto,unlink,1512,auto,bulletedlist-rtl,1536,auto,bulletedlist,1560,auto,numberedlist-rtl,1584,auto,numberedlist,1608,auto,mathjax,1632,auto,maximize,1656,auto,newpage-rtl,1680,auto,newpage,1704,auto,pagebreak-rtl,1728,auto,pagebreak,1752,auto,pastefromword-rtl,1776,auto,pastefromword,1800,auto,pastetext-rtl,1824,auto,pastetext,1848,auto,placeholder,1872,auto,preview-rtl,1896,auto,preview,1920,auto,print,1944,auto,removeformat,1968,auto,save,1992,auto,scayt,2016,auto,selectall,2040,auto,showblocks-rtl,2064,auto,showblocks,2088,auto,smiley,2112,auto,source-rtl,2136,auto,source,2160,auto,sourcedialog-rtl,2184,auto,sourcedialog,2208,auto,specialchar,2232,auto,table,2256,auto,templates-rtl,2280,auto,templates,2304,auto,uicolor,2328,auto,redo-rtl,2352,auto,redo,2376,auto,undo-rtl,2400,auto,undo,2424,auto,simplebox,2448,auto,spellchecker,2472,auto","icons.png")}())},crnd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error('Cannot find module "'+e+'".');throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},zUnb:function(e,t,n){"use strict";n.r(t);var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function r(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};function a(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}function u(e){return"function"==typeof e}var c=!1,d={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){c=e},get useDeprecatedSynchronousErrorHandling(){return c}};function h(e){setTimeout(function(){throw e})}var f={closed:!0,next:function(e){},error:function(e){if(d.useDeprecatedSynchronousErrorHandling)throw e;h(e)},complete:function(){}},p=Array.isArray||function(e){return e&&"number"==typeof e.length};function g(e){return null!=e&&"object"==typeof e}var m,E={e:{}};function v(){try{return m.apply(this,arguments)}catch(e){return E.e=e,E}}function T(e){return m=e,v}var C=function(e){function t(n){var o=e.call(this,n?n.length+" errors occurred during unsubscription:\n  "+n.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"")||this;return o.errors=n,o.name="UnsubscriptionError",Object.setPrototypeOf(o,t.prototype),o}return r(t,e),t}(Error),y=function(){function e(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var e,t=!1;if(!this.closed){var n=this._parent,o=this._parents,r=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var a=-1,s=o?o.length:0;n;)n.remove(this),n=++a<s&&o[a]||null;if(u(r)&&T(r).call(this)===E&&(t=!0,e=e||(E.e instanceof C?b(E.e.errors):[E.e])),p(i))for(a=-1,s=i.length;++a<s;){var l=i[a];if(g(l)&&T(l.unsubscribe).call(l)===E){t=!0,e=e||[];var c=E.e;c instanceof C?e=e.concat(b(c.errors)):e.push(c)}}if(t)throw new C(e)}},e.prototype.add=function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var o=n;(n=new e)._subscriptions=[o]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.prototype._addParent=function(e){var t=this._parent,n=this._parents;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e},e.EMPTY=((t=new e).closed=!0,t),e}();function b(e){return e.reduce(function(e,t){return e.concat(t instanceof C?t.errors:t)},[])}var I="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("rxSubscriber"):"@@rxSubscriber",O=function(e){function t(t,n,o){var r,i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=f;break;case 1:if(!t){i.destination=f;break}if("object"==typeof t){if((r=t)instanceof O||"syncErrorThrowable"in r&&r[I]){var a=t[I]();i.syncErrorThrowable=a.syncErrorThrowable,i.destination=a,a.add(i)}else i.syncErrorThrowable=!0,i.destination=new D(i,t);break}default:i.syncErrorThrowable=!0,i.destination=new D(i,t,n,o)}return i}return r(t,e),t.prototype[I]=function(){return this},t.create=function(e,n,o){var r=new t(e,n,o);return r.syncErrorThrowable=!1,r},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this},t}(y),D=function(e){function t(t,n,o,r){var i,a=e.call(this)||this;a._parentSubscriber=t;var s=a;return u(n)?i=n:n&&(i=n.next,o=n.error,r=n.complete,n!==f&&(u((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=i,a._error=o,a._complete=r,a}return r(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;d.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=d.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):h(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;h(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};d.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),d.useDeprecatedSynchronousErrorHandling)throw e;h(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!d.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return d.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(h(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(O),_="function"==typeof Symbol&&Symbol.observable||"@@observable";function R(){}function w(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return k(e)}function k(e){return e?1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}:R}var K=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var o=this.operator,r=function(e,t,n){if(e){if(e instanceof O)return e;if(e[I])return e[I]()}return e||t||n?new O(e,t,n):new O(f)}(e,t,n);if(o?o.call(r,this.source):r.add(this.source||!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),d.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){d.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=S(t))(function(t,o){var r;r=n.subscribe(function(t){try{e(t)}catch(e){o(e),r&&r.unsubscribe()}},o,t)})},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[_]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:k(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=S(e))(function(e,n){var o;t.subscribe(function(e){return o=e},function(e){return n(e)},function(){return e(o)})})},e.create=function(t){return new e(t)},e}();function S(e){if(e||(e=d.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function N(e){return e&&"function"==typeof e.schedule}var x=function(e){function t(t,n,o){var r=e.call(this)||this;return r.parent=t,r.outerValue=n,r.outerIndex=o,r.index=0,r}return r(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(O),A=function(e){return function(t){for(var n=0,o=e.length;n<o&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},P=function(e){return function(t){return e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,h),t}},L=function(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}(),F=function(e){return function(t){for(var n=e[L]();;){var o=n.next();if(o.done){t.complete();break}if(t.next(o.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t}},M=function(e){return function(t){var n=e[_]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},B=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function $(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var V=function(e){if(e instanceof K)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(B(e))return A(e);if($(e))return P(e);if(e&&"function"==typeof e[L])return F(e);if(e&&"function"==typeof e[_])return M(e);var t=g(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function H(e,t,n,o){var r=new x(e,n,o);return V(t)(r)}var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.notifyNext=function(e,t,n,o,r){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(O);function U(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new q(e,t))}}var q=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new z(e,this.project,this.thisArg))},e}(),z=function(e){function t(t,n,o){var r=e.call(this,t)||this;return r.project=n,r.count=0,r.thisArg=o||r,r}return r(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(O);function W(e,t){return new K(t?function(n){var o=new y,r=0;return o.add(t.schedule(function(){r!==e.length?(n.next(e[r++]),n.closed||o.add(this.schedule())):n.complete()})),o}:A(e))}function G(e,t){if(!t)return e instanceof K?e:new K(V(e));if(null!=e){if(function(e){return e&&"function"==typeof e[_]}(e))return function(e,t){return new K(t?function(n){var o=new y;return o.add(t.schedule(function(){var r=e[_]();o.add(r.subscribe({next:function(e){o.add(t.schedule(function(){return n.next(e)}))},error:function(e){o.add(t.schedule(function(){return n.error(e)}))},complete:function(){o.add(t.schedule(function(){return n.complete()}))}}))})),o}:M(e))}(e,t);if($(e))return function(e,t){return new K(t?function(n){var o=new y;return o.add(t.schedule(function(){return e.then(function(e){o.add(t.schedule(function(){n.next(e),o.add(t.schedule(function(){return n.complete()}))}))},function(e){o.add(t.schedule(function(){return n.error(e)}))})})),o}:P(e))}(e,t);if(B(e))return W(e,t);if(function(e){return e&&"function"==typeof e[L]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new K(t?function(n){var o,r=new y;return r.add(function(){o&&"function"==typeof o.return&&o.return()}),r.add(t.schedule(function(){o=e[L](),r.add(t.schedule(function(){if(!n.closed){var e,t;try{var r=o.next();e=r.value,t=r.done}catch(e){return void n.error(e)}t?n.complete():(n.next(e),this.schedule())}}))})),r}:F(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function X(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?function(o){return o.pipe(X(function(n,o){return G(e(n,o)).pipe(U(function(e,r){return t(n,e,o,r)}))},n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new Z(e,n))})}var Z=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new Y(e,this.project,this.concurrent))},e}(),Y=function(e){function t(t,n,o){void 0===o&&(o=Number.POSITIVE_INFINITY);var r=e.call(this,t)||this;return r.project=n,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return r(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(e){return void this.destination.error(e)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){this.add(H(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,o,r){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(j);function Q(e){return e}function J(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),X(Q,e)}var ee=function(e){function t(){var n=e.call(this,"object unsubscribed")||this;return n.name="ObjectUnsubscribedError",Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(Error),te=function(e){function t(t,n){var o=e.call(this)||this;return o.subject=t,o.subscriber=n,o.closed=!1,o}return r(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(y),ne=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r(t,e),t}(O),oe=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r(t,e),t.prototype[I]=function(){return new ne(this)},t.prototype.lift=function(e){var t=new re(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new ee;if(!this.isStopped)for(var t=this.observers,n=t.length,o=t.slice(),r=0;r<n;r++)o[r].next(e)},t.prototype.error=function(e){if(this.closed)throw new ee;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,o=t.slice(),r=0;r<n;r++)o[r].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new ee;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),o=0;o<t;o++)n[o].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new ee;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new ee;return this.hasError?(e.error(this.thrownError),y.EMPTY):this.isStopped?(e.complete(),y.EMPTY):(this.observers.push(e),new te(this,e))},t.prototype.asObservable=function(){var e=new K;return e.source=this,e},t.create=function(e,t){return new re(e,t)},t}(K),re=function(e){function t(t,n){var o=e.call(this)||this;return o.destination=t,o.source=n,o}return r(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):y.EMPTY},t}(oe);function ie(){return function(e){return e.lift(new ae(e))}}var ae=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var o=new se(e,n),r=t.subscribe(o);return o.closed||(o.connection=n.connect()),r},e}(),se=function(e){function t(t,n){var o=e.call(this,t)||this;return o.connectable=n,o}return r(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,o=e._connection;this.connection=null,!o||n&&o!==n||o.unsubscribe()}}else this.connection=null},t}(O),le=function(e){function t(t,n){var o=e.call(this)||this;return o.source=t,o.subjectFactory=n,o._refCount=0,o._isComplete=!1,o}return r(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new y).add(this.source.subscribe(new ce(this.getSubject(),this))),e.closed?(this._connection=null,e=y.EMPTY):this._connection=e),e},t.prototype.refCount=function(){return ie()(this)},t}(K).prototype,ue={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:le._subscribe},_isComplete:{value:le._isComplete,writable:!0},getSubject:{value:le.getSubject},connect:{value:le.connect},refCount:{value:le.refCount}},ce=function(e){function t(t,n){var o=e.call(this,t)||this;return o.connectable=n,o}return r(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(ne);function de(){return new oe}function he(e){return{providedIn:e.providedIn||null,factory:e.factory,value:void 0}}var fe=function(){function e(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==t?he({providedIn:t.providedIn||"root",factory:t.factory}):void 0}return e.prototype.toString=function(){return"InjectionToken "+this._desc},e}(),pe="__parameters__";function ge(e,t,n){var o=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e){var o=e.apply(void 0,l(t));for(var r in o)this[r]=o[r]}}}(t);function r(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this instanceof r)return o.apply(this,e),this;var n,i=new((n=r).bind.apply(n,l([void 0],e)));return a.annotation=i,a;function a(e,t,n){for(var o=e.hasOwnProperty(pe)?e[pe]:Object.defineProperty(e,pe,{value:[]})[pe];o.length<=n;)o.push(null);return(o[n]=o[n]||[]).push(i),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}var me=new fe("AnalyzeForEntryComponents");Function;var Ee="undefined"!=typeof window&&window,ve="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Te="undefined"!=typeof global&&global,Ce=Ee||Te||ve,ye=Promise.resolve(0),be=null;function Ie(){if(!be){var e=Ce.Symbol;if(e&&e.iterator)be=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var o=t[n];"entries"!==o&&"size"!==o&&Map.prototype[o]===Map.prototype.entries&&(be=o)}}return be}function Oe(e){"undefined"==typeof Zone?ye.then(function(){e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function De(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function _e(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(_e).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Re(e){return e.__forward_ref__=Re,e.toString=function(){return _e(this())},e}function we(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")&&e.__forward_ref__===Re?e():e}var ke=ge("Inject",function(e){return{token:e}}),Ke=ge("Optional"),Se=ge("Self"),Ne=ge("SkipSelf"),xe="__source",Ae=new Object,Pe=new fe("INJECTOR"),Le=function(){function e(){}return e.prototype.get=function(e,t){if(void 0===t&&(t=Ae),t===Ae)throw new Error("NullInjectorError: No provider for "+_e(e)+"!");return t},e}(),Fe=function(){function e(){}return e.create=function(e,t){return Array.isArray(e)?new We(e,t):new We(e.providers,e.parent,e.name||null)},e.THROW_IF_NOT_FOUND=Ae,e.NULL=new Le,e.ngInjectableDef=he({providedIn:"any",factory:function(){return Je(Pe)}}),e}(),Me=function(e){return e},Be=[],$e=Me,Ve=function(){return Array.prototype.slice.call(arguments)},He={},je=function(e){for(var t in e)if(e[t]===He)return t;throw Error("!prop")}({provide:String,useValue:He}),Ue=Fe.NULL,qe=/\n/gm,ze="\u0275",We=function(){function e(e,t,n){void 0===t&&(t=Ue),void 0===n&&(n=null),this.parent=t,this.source=n;var o=this._records=new Map;o.set(Fe,{token:Fe,fn:Me,deps:Be,value:this,useNew:!1}),o.set(Pe,{token:Pe,fn:Me,deps:Be,value:this,useNew:!1}),function e(t,n){if(n)if((n=we(n))instanceof Array)for(var o=0;o<n.length;o++)e(t,n[o]);else{if("function"==typeof n)throw Ze("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Ze("Unexpected provider",n);var r=we(n.provide),i=function(e){var t=function(e){var t=Be,n=e.deps;if(n&&n.length){t=[];for(var o=0;o<n.length;o++){var r=6;if((l=we(n[o]))instanceof Array)for(var i=0,a=l;i<a.length;i++){var s=a[i];s instanceof Ke||s==Ke?r|=1:s instanceof Ne||s==Ne?r&=-3:s instanceof Se||s==Se?r&=-5:l=s instanceof ke?s.token:we(s)}t.push({token:l,options:r})}}else if(e.useExisting){var l;t=[{token:l=we(e.useExisting),options:6}]}else if(!(n||je in e))throw Ze("'deps' required",e);return t}(e),n=Me,o=Be,r=!1,i=we(e.provide);if(je in e)o=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)r=!0,n=we(e.useClass);else{if("function"!=typeof i)throw Ze("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);r=!0,n=i}return{deps:t,fn:n,useNew:r,value:o}}(n);if(!0===n.multi){var a=t.get(r);if(a){if(a.fn!==Ve)throw Ge(r)}else t.set(r,a={token:n.provide,deps:[],useNew:!1,fn:Ve,value:Be});a.deps.push({token:r=n,options:6})}var s=t.get(r);if(s&&s.fn==Ve)throw Ge(r);t.set(r,i)}}(o,e)}return e.prototype.get=function(e,t,n){void 0===n&&(n=0);var o=this._records.get(e);try{return function e(t,n,o,r,i,a){try{return function(t,n,o,r,i,a){var s,u;if(!n||4&a)2&a||(s=r.get(t,i,0));else{if((s=n.value)==$e)throw Error(ze+"Circular dependency");if(s===Be){n.value=$e;var c=n.useNew,d=n.fn,h=n.deps,f=Be;if(h.length){f=[];for(var p=0;p<h.length;p++){var g=h[p],m=g.options,E=2&m?o.get(g.token):void 0;f.push(e(g.token,E,o,E||4&m?r:Ue,1&m?null:Fe.THROW_IF_NOT_FOUND,0))}}n.value=s=c?new((u=d).bind.apply(u,l([void 0],f))):d.apply(void 0,f)}}return s}(t,n,o,r,i,a)}catch(e){throw e instanceof Error||(e=new Error(e)),(e.ngTempTokenPath=e.ngTempTokenPath||[]).unshift(t),n&&n.value==$e&&(n.value=Be),e}}(e,o,this._records,this.parent,t,n)}catch(t){var r=t.ngTempTokenPath;throw e[xe]&&r.unshift(e[xe]),t.message=Xe("\n"+t.message,r,this.source),t.ngTokenPath=r,t.ngTempTokenPath=null,t}},e.prototype.toString=function(){var e=[];return this._records.forEach(function(t,n){return e.push(_e(n))}),"StaticInjector["+e.join(", ")+"]"},e}();function Ge(e){return Ze("Cannot mix multi providers and regular providers",e)}function Xe(e,t,n){void 0===n&&(n=null),e=e&&"\n"===e.charAt(0)&&e.charAt(1)==ze?e.substr(2):e;var o=_e(t);if(t instanceof Array)o=t.map(_e).join(" -> ");else if("object"==typeof t){var r=[];for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];r.push(i+":"+("string"==typeof a?JSON.stringify(a):_e(a)))}o="{"+r.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+o+"]: "+e.replace(qe,"\n  ")}function Ze(e,t){return new Error(Xe(e,t))}var Ye=void 0;function Qe(e){var t=Ye;return Ye=e,t}function Je(e,t){if(void 0===t&&(t=0),void 0===Ye)throw new Error("inject() must be called from an injection context");if(null===Ye){var n=e.ngInjectableDef;if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;throw new Error("Injector: NOT_FOUND ["+_e(e)+"]")}return Ye.get(e,8&t?null:void 0,t)}String;var et=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e}({}),tt=function(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")},nt=new tt("6.0.4"),ot="ngDebugContext",rt="ngOriginalError",it="ngErrorLogger";function at(e){return e[ot]}function st(e){return e[rt]}function lt(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e.error.apply(e,l(t))}var ut=function(){function e(){this._console=console}return e.prototype.handleError=function(e){var t=this._findOriginalError(e),n=this._findContext(e),o=function(e){return e[it]||lt}(e);o(this._console,"ERROR",e),t&&o(this._console,"ORIGINAL ERROR",t),n&&o(this._console,"ERROR CONTEXT",n)},e.prototype._findContext=function(e){return e?at(e)?at(e):this._findContext(st(e)):null},e.prototype._findOriginalError=function(e){for(var t=st(e);t&&st(t);)t=st(t);return t},e}(),ct=new fe("The presence of this token marks an injector as being the root injector.");function dt(e){return!!e&&"function"==typeof e.then}function ht(e){return!!e&&"function"==typeof e.subscribe}var ft=new fe("Application Initializer"),pt=function(){function e(e){var t=this;this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return e.prototype.runInitializers=function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var o=0;o<this.appInits.length;o++){var r=this.appInits[o]();dt(r)&&t.push(r)}Promise.all(t).then(function(){n()}).catch(function(t){e.reject(t)}),0===t.length&&n(),this.initialized=!0}},e}(),gt=new fe("AppId");function mt(){return""+Et()+Et()+Et()}function Et(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var vt=new fe("Platform Initializer"),Tt=new fe("Platform ID"),Ct=new fe("appBootstrapListener"),yt=function(){function e(){}return e.prototype.log=function(e){console.log(e)},e.prototype.warn=function(e){console.warn(e)},e}();function bt(){throw new Error("Runtime compiler is not loaded")}var It=function(){function e(){}return e.prototype.compileModuleSync=function(e){throw bt()},e.prototype.compileModuleAsync=function(e){throw bt()},e.prototype.compileModuleAndAllComponentsSync=function(e){throw bt()},e.prototype.compileModuleAndAllComponentsAsync=function(e){throw bt()},e.prototype.clearCache=function(){},e.prototype.clearCacheFor=function(e){},e}(),Ot=function(){},Dt=function(){};function _t(e){var t=Error("No component factory found for "+_e(e)+". Did you add it to @NgModule.entryComponents?");return t[kt]=e,t}var Rt,wt,kt="ngComponent",Kt=function(){function e(){}return e.prototype.resolveComponentFactory=function(e){throw _t(e)},e}(),St=function(){function e(){}return e.NULL=new Kt,e}(),Nt=function(){function e(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(var o=0;o<e.length;o++){var r=e[o];this._factories.set(r.componentType,r)}}return e.prototype.resolveComponentFactory=function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw _t(e);return new xt(t,this._ngModule)},e}(),xt=function(e){function t(t,n){var o=e.call(this)||this;return o.factory=t,o.ngModule=n,o.selector=t.selector,o.componentType=t.componentType,o.ngContentSelectors=t.ngContentSelectors,o.inputs=t.inputs,o.outputs=t.outputs,o}return r(t,e),t.prototype.create=function(e,t,n,o){return this.factory.create(e,t,n,o||this.ngModule)},t}(Dt),At=function(){},Pt=function(){},Lt=function(){var e=Ce.wtf;return!(!e||!(Rt=e.trace)||(wt=Rt.events,0))}();function Ft(e,t){return null}var Mt=Lt?function(e,t){return void 0===t&&(t=null),wt.createScope(e,t)}:function(e,t){return Ft},Bt=Lt?function(e,t){return Rt.leaveScope(e,t),t}:function(e,t){return t},$t=function(e){function t(t){void 0===t&&(t=!1);var n=e.call(this)||this;return n.__isAsync=t,n}return r(t,e),t.prototype.emit=function(t){e.prototype.next.call(this,t)},t.prototype.subscribe=function(t,n,o){var r,i=function(e){return null},a=function(){return null};t&&"object"==typeof t?(r=this.__isAsync?function(e){setTimeout(function(){return t.next(e)})}:function(e){t.next(e)},t.error&&(i=this.__isAsync?function(e){setTimeout(function(){return t.error(e)})}:function(e){t.error(e)}),t.complete&&(a=this.__isAsync?function(){setTimeout(function(){return t.complete()})}:function(){t.complete()})):(r=this.__isAsync?function(e){setTimeout(function(){return t(e)})}:function(e){t(e)},n&&(i=this.__isAsync?function(e){setTimeout(function(){return n(e)})}:function(e){n(e)}),o&&(a=this.__isAsync?function(){setTimeout(function(){return o()})}:function(){o()}));var s=e.prototype.subscribe.call(this,r,i,a);return t instanceof y&&t.add(s),s},t}(oe),Vt=function(){function e(e){var t,n=e.enableLongStackTrace,o=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $t(!1),this.onMicrotaskEmpty=new $t(!1),this.onStable=new $t(!1),this.onError=new $t(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(t=this)._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,n,o,r,i,a){try{return qt(t),e.invokeTask(o,r,i,a)}finally{zt(t)}},onInvoke:function(e,n,o,r,i,a,s){try{return qt(t),e.invoke(o,r,i,a,s)}finally{zt(t)}},onHasTask:function(e,n,o,r){e.hasTask(o,r),n===o&&("microTask"==r.change?(t.hasPendingMicrotasks=r.microTask,Ut(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,n,o,r){return e.handleError(o,r),t.runOutsideAngular(function(){return t.onError.emit(r)}),!1}})}return e.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},e.assertInAngularZone=function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},e.assertNotInAngularZone=function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},e.prototype.run=function(e,t,n){return this._inner.run(e,t,n)},e.prototype.runTask=function(e,t,n,o){var r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+o,e,jt,Ht,Ht);try{return r.runTask(i,t,n)}finally{r.cancelTask(i)}},e.prototype.runGuarded=function(e,t,n){return this._inner.runGuarded(e,t,n)},e.prototype.runOutsideAngular=function(e){return this._outer.run(e)},e}();function Ht(){}var jt={};function Ut(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(function(){return e.onStable.emit(null)})}finally{e.isStable=!0}}}function qt(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function zt(e){e._nesting--,Ut(e)}var Wt,Gt=function(){function e(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $t,this.onMicrotaskEmpty=new $t,this.onStable=new $t,this.onError=new $t}return e.prototype.run=function(e){return e()},e.prototype.runGuarded=function(e){return e()},e.prototype.runOutsideAngular=function(e){return e()},e.prototype.runTask=function(e){return e()},e}(),Xt=function(){function e(e){var t=this;this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),e.run(function(){t.taskTrackingZone=Zone.current.get("TaskTrackingZone")})}return e.prototype._watchAngularEvents=function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){e._ngZone.onStable.subscribe({next:function(){Vt.assertNotInAngularZone(),Oe(function(){e._isZoneStable=!0,e._runCallbacksIfReady()})}})})},e.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},e.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},e.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},e.prototype._runCallbacksIfReady=function(){var e=this;if(this.isStable())Oe(function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1});else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)}),this._didWork=!0}},e.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(e){return{source:e.source,isPeriodic:e.data.isPeriodic,delay:e.data.delay,creationLocation:e.creationLocation,xhr:e.data.target}}):[]},e.prototype.addCallback=function(e,t,n){var o=this,r=-1;t&&t>0&&(r=setTimeout(function(){o._callbacks=o._callbacks.filter(function(e){return e.timeoutId!==r}),e(o._didWork,o.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})},e.prototype.whenStable=function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()},e.prototype.getPendingRequestCount=function(){return this._pendingCount},e.prototype.findProviders=function(e,t,n){return[]},e}(),Zt=function(){function e(){this._applications=new Map,Yt.addToWindow(this)}return e.prototype.registerApplication=function(e,t){this._applications.set(e,t)},e.prototype.unregisterApplication=function(e){this._applications.delete(e)},e.prototype.unregisterAllApplications=function(){this._applications.clear()},e.prototype.getTestability=function(e){return this._applications.get(e)||null},e.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},e.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},e.prototype.findTestabilityInTree=function(e,t){return void 0===t&&(t=!0),Yt.findTestabilityInTree(this,e,t)},e.ctorParameters=function(){return[]},e}(),Yt=new(function(){function e(){}return e.prototype.addToWindow=function(e){},e.prototype.findTestabilityInTree=function(e,t,n){return null},e}()),Qt=!0,Jt=!1,en=new fe("AllowMultipleToken");function tn(){return Jt=!0,Qt}var nn=function(e,t){this.name=e,this.token=t};function on(e,t,n){void 0===n&&(n=[]);var o="Platform: "+t,r=new fe(o);return function(t){void 0===t&&(t=[]);var i=rn();if(!i||i.injector.get(en,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{var a=n.concat(t).concat({provide:r,useValue:!0});!function(e){if(Wt&&!Wt.destroyed&&!Wt.injector.get(en,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Wt=e.get(an);var t=e.get(vt,null);t&&t.forEach(function(e){return e()})}(Fe.create({providers:a,name:o}))}return function(e){var t=rn();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function rn(){return Wt&&!Wt.destroyed?Wt:null}var an=function(){function e(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return e.prototype.bootstrapModuleFactory=function(e,t){var n,o=this,r="noop"===(n=t?t.ngZone:void 0)?new Gt:("zone.js"===n?void 0:n)||new Vt({enableLongStackTrace:tn()}),i=[{provide:Vt,useValue:r}];return r.run(function(){var t=Fe.create({providers:i,parent:o.injector,name:e.moduleType.name}),n=e.create(t),a=n.injector.get(ut,null);if(!a)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return un(o._modules,n)}),r.runOutsideAngular(function(){return r.onError.subscribe({next:function(e){a.handleError(e)}})}),function(e,t,r){try{var i=((a=n.injector.get(pt)).runInitializers(),a.donePromise.then(function(){return o._moduleDoBootstrap(n),n}));return dt(i)?i.catch(function(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}):i}catch(n){throw t.runOutsideAngular(function(){return e.handleError(n)}),n}var a}(a,r)})},e.prototype.bootstrapModule=function(e,t){var n=this;void 0===t&&(t=[]);var o=this.injector.get(Ot),r=sn({},t);return o.createCompiler([r]).compileModuleAsync(e).then(function(e){return n.bootstrapModuleFactory(e,r)})},e.prototype._moduleDoBootstrap=function(e){var t=e.injector.get(ln);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(function(e){return t.bootstrap(e)});else{if(!e.instance.ngDoBootstrap)throw new Error("The module "+_e(e.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');e.instance.ngDoBootstrap(t)}this._modules.push(e)},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},Object.defineProperty(e.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(e){return e.destroy()}),this._destroyListeners.forEach(function(e){return e()}),this._destroyed=!0},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),e}();function sn(e,t){return Array.isArray(t)?t.reduce(sn,e):i({},e,t)}var ln=function(){function e(e,t,n,o,r,i){var a=this;this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=o,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=tn(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run(function(){a.tick()})}});var s=new K(function(e){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular(function(){e.next(a._stable),e.complete()})}),l=new K(function(e){var t;a._zone.runOutsideAngular(function(){t=a._zone.onStable.subscribe(function(){Vt.assertNotInAngularZone(),Oe(function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,e.next(!0))})})});var n=a._zone.onUnstable.subscribe(function(){Vt.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular(function(){e.next(!1)}))});return function(){t.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,o=null,r=e[e.length-1];return N(r)?(o=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof r&&(n=e.pop()),null===o&&1===e.length&&e[0]instanceof K?e[0]:J(n)(W(e,o))}(s,l.pipe(function(e){return ie()((t=de,function(e){var n;n="function"==typeof t?t:function(){return t};var o=Object.create(e,ue);return o.source=e,o.subjectFactory=n,o})(e));var t}))}return e.prototype.bootstrap=function(e,t){var n,o=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof Dt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var r=n instanceof xt?null:this._injector.get(At),i=n.create(Fe.NULL,[],t||n.selector,r);i.onDestroy(function(){o._unloadComponent(i)});var a=i.injector.get(Xt,null);return a&&i.injector.get(Zt).registerApplication(i.location.nativeElement,a),this._loadComponent(i),tn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},e.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(e){return e.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(e){return e.checkNoChanges()})}catch(e){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(e)})}finally{this._runningTick=!1,Bt(n)}},e.prototype.attachView=function(e){var t=e;this._views.push(t),t.attachToAppRef(this)},e.prototype.detachView=function(e){var t=e;un(this._views,t),t.detachFromAppRef()},e.prototype._loadComponent=function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ct,[]).concat(this._bootstrapListeners).forEach(function(t){return t(e)})},e.prototype._unloadComponent=function(e){this.detachView(e.hostView),un(this.components,e)},e.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(e){return e.destroy()})},Object.defineProperty(e.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),e._tickScope=Mt("ApplicationRef#tick()"),e}();function un(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var cn=function(){},dn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({}),hn=function(){},fn=function(e){this.nativeElement=e},pn=function(){},gn=function(){function e(){this.dirty=!0,this._results=[],this.changes=new $t,this.length=0}return e.prototype.map=function(e){return this._results.map(e)},e.prototype.filter=function(e){return this._results.filter(e)},e.prototype.find=function(e){return this._results.find(e)},e.prototype.reduce=function(e,t){return this._results.reduce(e,t)},e.prototype.forEach=function(e){this._results.forEach(e)},e.prototype.some=function(e){return this._results.some(e)},e.prototype.toArray=function(){return this._results.slice()},e.prototype[Ie()]=function(){return this._results[Ie()]()},e.prototype.toString=function(){return this._results.toString()},e.prototype.reset=function(e){this._results=function e(t){return t.reduce(function(t,n){var o=Array.isArray(n)?e(n):n;return t.concat(o)},[])}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},e.prototype.notifyOnChanges=function(){this.changes.emit(this)},e.prototype.setDirty=function(){this.dirty=!0},e.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},e}(),mn=function(){},En={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},vn=function(){function e(e,t){this._compiler=e,this._config=t||En}return e.prototype.load=function(e){return this._compiler instanceof It?this.loadFactory(e):this.loadAndCompile(e)},e.prototype.loadAndCompile=function(e){var t=this,o=s(e.split("#"),2),r=o[0],i=o[1];return void 0===i&&(i="default"),n("crnd")(r).then(function(e){return e[i]}).then(function(e){return Tn(e,r,i)}).then(function(e){return t._compiler.compileModuleAsync(e)})},e.prototype.loadFactory=function(e){var t=s(e.split("#"),2),o=t[0],r=t[1],i="NgFactory";return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+o+this._config.factoryPathSuffix).then(function(e){return e[r+i]}).then(function(e){return Tn(e,o,r)})},e}();function Tn(e,t,n){if(!e)throw new Error("Cannot find '"+n+"' in '"+t+"'");return e}var Cn=function(){},yn=function(){},bn=function(){},In=function(){function e(e,t,n){this._debugContext=n,this.nativeNode=e,t&&t instanceof On?t.addChild(this):this.parent=null,this.listeners=[]}return Object.defineProperty(e.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),e}(),On=function(e){function t(t,n,o){var r=e.call(this,t,n,o)||this;return r.properties={},r.attributes={},r.classes={},r.styles={},r.childNodes=[],r.nativeElement=t,r}return r(t,e),t.prototype.addChild=function(e){e&&(this.childNodes.push(e),e.parent=this)},t.prototype.removeChild=function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))},t.prototype.insertChildrenAfter=function(e,t){var n,o=this,r=this.childNodes.indexOf(e);-1!==r&&((n=this.childNodes).splice.apply(n,l([r+1,0],t)),t.forEach(function(e){e.parent&&e.parent.removeChild(e),e.parent=o}))},t.prototype.insertBefore=function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))},t.prototype.query=function(e){return this.queryAll(e)[0]||null},t.prototype.queryAll=function(e){var t=[];return function e(t,n,o){t.childNodes.forEach(function(t){t instanceof On&&(n(t)&&o.push(t),e(t,n,o))})}(this,e,t),t},t.prototype.queryAllNodes=function(e){var t=[];return function e(t,n,o){t instanceof On&&t.childNodes.forEach(function(t){n(t)&&o.push(t),t instanceof On&&e(t,n,o)})}(this,e,t),t},Object.defineProperty(t.prototype,"children",{get:function(){return this.childNodes.filter(function(e){return e instanceof t})},enumerable:!0,configurable:!0}),t.prototype.triggerEventHandler=function(e,t){this.listeners.forEach(function(n){n.name==e&&n.callback(t)})},t}(In),Dn=new Map;function _n(e){return Dn.get(e)||null}function Rn(e){Dn.set(e.nativeNode,e)}function wn(e,t){var n=Sn(e),o=Sn(t);return n&&o?function(e,t,n){for(var o=e[Ie()](),r=t[Ie()]();;){var i=o.next(),a=r.next();if(i.done&&a.done)return!0;if(i.done||a.done)return!1;if(!n(i.value,a.value))return!1}}(e,t,wn):!(n||!e||"object"!=typeof e&&"function"!=typeof e||o||!t||"object"!=typeof t&&"function"!=typeof t)||De(e,t)}var kn=function(){function e(e){this.wrapped=e}return e.wrap=function(t){return new e(t)},e.unwrap=function(t){return e.isWrapped(t)?t.wrapped:t},e.isWrapped=function(t){return t instanceof e},e}(),Kn=function(){function e(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}return e.prototype.isFirstChange=function(){return this.firstChange},e}();function Sn(e){return!!Nn(e)&&(Array.isArray(e)||!(e instanceof Map)&&Ie()in e)}function Nn(e){return null!==e&&("function"==typeof e||"object"==typeof e)}var xn=function(){function e(){}return e.prototype.supports=function(e){return Sn(e)},e.prototype.create=function(e){return new Pn(e)},e}(),An=function(e,t){return t},Pn=function(){function e(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||An}return e.prototype.forEachItem=function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)},e.prototype.forEachOperation=function(e){for(var t=this._itHead,n=this._removalsHead,o=0,r=null;t||n;){var i=!n||t&&t.currentIndex<Bn(n,o,r)?t:n,a=Bn(i,o,r),s=i.currentIndex;if(i===n)o--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)o++;else{r||(r=[]);var l=a-o,u=s-o;if(l!=u){for(var c=0;c<l;c++){var d=c<r.length?r[c]:r[c]=0,h=d+c;u<=h&&h<l&&(r[c]=d+1)}r[i.previousIndex]=u-l}}a!==s&&e(i,a,s)}},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachMovedItem=function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.forEachIdentityChange=function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)},e.prototype.diff=function(e){if(null==e&&(e=[]),!Sn(e))throw new Error("Error trying to diff '"+_e(e)+"'. Only arrays and iterables are allowed");return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n,o,r,i=this._itHead,a=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=this._trackByFn(s,o=e[s]),null!==i&&De(i.trackById,r)?(a&&(i=this._verifyReinsertion(i,o,r,s)),De(i.item,o)||this._addIdentityChange(i,o)):(i=this._mismatch(i,o,r,s),a=!0),i=i._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var o=e[Ie()](),r=void 0;!(r=o.next()).done;)t(r.value)}(e,function(e){r=t._trackByFn(n,e),null!==i&&De(i.trackById,r)?(a&&(i=t._verifyReinsertion(i,e,r,n)),De(i.item,e)||t._addIdentityChange(i,e)):(i=t._mismatch(i,e,r,n),a=!0),i=i._next,n++}),this.length=n;return this._truncate(i),this.collection=e,this.isDirty},Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),e.prototype._reset=function(){if(this.isDirty){var e=void 0,t=void 0;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},e.prototype._mismatch=function(e,t,n,o){var r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,o))?(De(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,o)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(De(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,o)):e=this._addAfter(new Ln(t,n),r,o),e},e.prototype._verifyReinsertion=function(e,t,n,o){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e},e.prototype._truncate=function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},e.prototype._reinsertAfter=function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var o=e._prevRemoved,r=e._nextRemoved;return null===o?this._removalsHead=r:o._nextRemoved=r,null===r?this._removalsTail=o:r._prevRemoved=o,this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._moveAfter=function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e},e.prototype._addAfter=function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e},e.prototype._insertAfter=function(e,t,n){var o=null===t?this._itHead:t._next;return e._next=o,e._prev=t,null===o?this._itTail=e:o._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Mn),this._linkedRecords.put(e),e.currentIndex=n,e},e.prototype._remove=function(e){return this._addToRemovals(this._unlink(e))},e.prototype._unlink=function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e},e.prototype._addToMoves=function(e,t){return e.previousIndex===t?e:(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e,e)},e.prototype._addToRemovals=function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Mn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e},e.prototype._addIdentityChange=function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e},e}(),Ln=function(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Fn=function(){function e(){this._head=null,this._tail=null}return e.prototype.add=function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)},e.prototype.get=function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&De(n.trackById,e))return n;return null},e.prototype.remove=function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head},e}(),Mn=function(){function e(){this.map=new Map}return e.prototype.put=function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Fn,this.map.set(t,n)),n.add(e)},e.prototype.get=function(e,t){var n=this.map.get(e);return n?n.get(e,t):null},e.prototype.remove=function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e},Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),e.prototype.clear=function(){this.map.clear()},e}();function Bn(e,t,n){var o=e.previousIndex;if(null===o)return o;var r=0;return n&&o<n.length&&(r=n[o]),o+t+r}var $n=function(){function e(){}return e.prototype.supports=function(e){return e instanceof Map||Nn(e)},e.prototype.create=function(){return new Vn},e}(),Vn=function(){function e(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),e.prototype.forEachItem=function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)},e.prototype.forEachPreviousItem=function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)},e.prototype.forEachChangedItem=function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)},e.prototype.forEachAddedItem=function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)},e.prototype.forEachRemovedItem=function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)},e.prototype.diff=function(e){if(e){if(!(e instanceof Map||Nn(e)))throw new Error("Error trying to diff '"+_e(e)+"'. Only maps and objects are allowed")}else e=new Map;return this.check(e)?this:null},e.prototype.onDestroy=function(){},e.prototype.check=function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,function(e,o){if(n&&n.key===o)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var r=t._getOrCreateRecordForKey(o,e);n=t._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var o=n;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},e.prototype._insertBeforeOrAppend=function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null},e.prototype._getOrCreateRecordForKey=function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var o=n._prev,r=n._next;return o&&(o._next=r),r&&(r._prev=o),n._next=null,n._prev=null,n}var i=new Hn(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i},e.prototype._reset=function(){if(this.isDirty){var e=void 0;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},e.prototype._maybeAddToChanges=function(e,t){De(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))},e.prototype._addToAdditions=function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)},e.prototype._addToChanges=function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)},e.prototype._forEach=function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(function(n){return t(e[n],n)})},e}(),Hn=function(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},jn=function(){function e(e){this.factories=e}return e.create=function(t,n){if(null!=n){var o=n.factories.slice();t=t.concat(o)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Ne,new Ke]]}},e.prototype.find=function(e){var t,n=this.factories.find(function(t){return t.supports(e)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+e+"' of type '"+((t=e).name||typeof t)+"'")},e.ngInjectableDef=he({providedIn:"root",factory:function(){return new e([new xn])}}),e}(),Un=function(){function e(e){this.factories=e}return e.create=function(t,n){if(n){var o=n.factories.slice();t=t.concat(o)}return new e(t)},e.extend=function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new Ne,new Ke]]}},e.prototype.find=function(e){var t=this.factories.find(function(t){return t.supports(e)});if(t)return t;throw new Error("Cannot find a differ supporting object '"+e+"'")},e}(),qn=[new $n],zn=new jn([new xn]),Wn=new Un(qn),Gn=on(null,"core",[{provide:Tt,useValue:"unknown"},{provide:an,deps:[Fe]},{provide:Zt,deps:[]},{provide:yt,deps:[]}]),Xn=new fe("LocaleId");function Zn(){return zn}function Yn(){return Wn}function Qn(e){return e||"en-US"}var Jn=function(e){},eo=function(){function e(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return e.prototype.getInertBodyElement_XHR=function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(e){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(null);var n=t.response.body;return n.removeChild(n.firstChild),n},e.prototype.getInertBodyElement_DOMParser=function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(e){return null}},e.prototype.getInertBodyElement_InertDocument=function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},e.prototype.stripCustomNsAttrs=function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var o=t.item(n).name;"xmlns:ns1"!==o&&0!==o.indexOf("ns1:")||e.removeAttribute(o)}for(var r=e.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling},e}(),to=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,no=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function oo(e){return(e=String(e)).match(to)||e.match(no)?e:(tn()&&console.warn("WARNING: sanitizing unsafe URL value "+e+" (see http://g.co/ng/security#xss)"),"unsafe:"+e)}function ro(e){var t,n,o={};try{for(var r=a(e.split(",")),i=r.next();!i.done;i=r.next())o[i.value]=!0}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return o}function io(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,o,r={};try{for(var i=a(e),s=i.next();!s.done;s=i.next()){var l=s.value;for(var u in l)l.hasOwnProperty(u)&&(r[u]=!0)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return r}var ao,so=ro("area,br,col,hr,img,wbr"),lo=ro("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uo=ro("rp,rt"),co=io(uo,lo),ho=io(so,io(lo,ro("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),io(uo,ro("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),co),fo=ro("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),po=ro("srcset"),go=io(fo,po,ro("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),mo=function(){function e(){this.sanitizedSomething=!1,this.buf=[]}return e.prototype.sanitizeChildren=function(e){for(var t=e.firstChild;t;)if(t.nodeType===Node.ELEMENT_NODE?this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var n=this.checkClobberedElement(t,t.nextSibling);if(n){t=n;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")},e.prototype.startElement=function(e){var t=e.nodeName.toLowerCase();if(ho.hasOwnProperty(t)){this.buf.push("<"),this.buf.push(t);for(var n,o=e.attributes,r=0;r<o.length;r++){var i=o.item(r),a=i.name,s=a.toLowerCase();if(go.hasOwnProperty(s)){var l=i.value;fo[s]&&(l=oo(l)),po[s]&&(n=l,l=(n=String(n)).split(",").map(function(e){return oo(e.trim())}).join(", ")),this.buf.push(" ",a,'="',To(l),'"')}else this.sanitizedSomething=!0}this.buf.push(">")}else this.sanitizedSomething=!0},e.prototype.endElement=function(e){var t=e.nodeName.toLowerCase();ho.hasOwnProperty(t)&&!so.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))},e.prototype.chars=function(e){this.buf.push(To(e))},e.prototype.checkClobberedElement=function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t},e}(),Eo=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vo=/([^\#-~ |!])/g;function To(e){return e.replace(/&/g,"&amp;").replace(Eo,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(vo,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Co(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var yo=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),bo=/^url\(([^)]+)\)$/,Io=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({}),Oo=function(){};function Do(e,t,n){var o=e.state,r=1792&o;return r===t?(e.state=-1793&o|n,e.initIndex=-1,!0):r===n}function _o(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Ro(e,t){return e.nodes[t]}function wo(e,t){return e.nodes[t]}function ko(e,t){return e.nodes[t]}function Ko(e,t){return e.nodes[t]}function So(e,t){return e.nodes[t]}var No={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function xo(e,t,n,o){var r="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+t+"'. Current value: '"+n+"'.";return o&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return Ao(n,t),n}(r,e)}function Ao(e,t){e[ot]=t,e[it]=t.logError.bind(t)}function Po(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}var Lo=function(){},Fo=new Map;function Mo(e){var t=Fo.get(e);return t||(t=_e(e)+"_"+Fo.size,Fo.set(e,t)),t}function Bo(e,t,n,o){if(kn.isWrapped(o)){o=kn.unwrap(o);var r=e.def.nodes[t].bindingIndex+n,i=kn.unwrap(e.oldValues[r]);e.oldValues[r]=new kn(i)}return o}var $o="$$undefined",Vo="$$empty";function Ho(e){return{id:$o,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var jo=0;function Uo(e,t,n,o){return!(!(2&e.state)&&De(e.oldValues[t.bindingIndex+n],o))}function qo(e,t,n,o){return!!Uo(e,t,n,o)&&(e.oldValues[t.bindingIndex+n]=o,!0)}function zo(e,t,n,o){var r=e.oldValues[t.bindingIndex+n];if(1&e.state||!wn(r,o)){var i=t.bindings[n].name;throw xo(No.createDebugContext(e,t.nodeIndex),i+": "+r,i+": "+o,0!=(1&e.state))}}function Wo(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Go(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Xo(e,t,n,o){try{return Wo(33554432&e.def.nodes[t].flags?wo(e,t).componentView:e),No.handleEvent(e,t,n,o)}catch(t){e.root.errorHandler.handleError(t)}}function Zo(e){return e.parent?wo(e.parent,e.parentNodeDef.nodeIndex):null}function Yo(e){return e.parent?e.parentNodeDef.parent:null}function Qo(e,t){switch(201347067&t.flags){case 1:return wo(e,t.nodeIndex).renderElement;case 2:return Ro(e,t.nodeIndex).renderText}}function Jo(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function er(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function tr(e){return 1<<e%32}function nr(e){var t={},n=0,o={};return e&&e.forEach(function(e){var r=s(e,2),i=r[0],a=r[1];"number"==typeof i?(t[i]=a,n|=tr(i)):o[i]=a}),{matchedQueries:t,references:o,matchedQueryIds:n}}function or(e,t){return e.map(function(e){var n,o,r;return Array.isArray(e)?(o=(r=s(e,2))[0],n=r[1]):(o=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,xe,{value:t,configurable:!0}),{flags:o,token:n,tokenKey:Mo(n)}})}function rr(e,t,n){var o=n.renderParent;return o?0==(1&o.flags)||0==(33554432&o.flags)||o.element.componentRendererType&&o.element.componentRendererType.encapsulation===et.Native?wo(e,n.renderParent.nodeIndex).renderElement:void 0:t}var ir=new WeakMap;function ar(e){var t=ir.get(e);return t||((t=e(function(){return Lo})).factory=e,ir.set(e,t)),t}function sr(e,t,n,o,r){3===t&&(n=e.renderer.parentNode(Qo(e,e.def.lastRenderRootNode))),lr(e,t,0,e.def.nodes.length-1,n,o,r)}function lr(e,t,n,o,r,i,a){for(var s=n;s<=o;s++){var l=e.def.nodes[s];11&l.flags&&cr(e,l,t,r,i,a),s+=l.childCount}}function ur(e,t,n,o,r,i){for(var a=e;a&&!Jo(a);)a=a.parent;for(var s=a.parent,l=Yo(a),u=l.nodeIndex+l.childCount,c=l.nodeIndex+1;c<=u;c++){var d=s.def.nodes[c];d.ngContentIndex===t&&cr(s,d,n,o,r,i),c+=d.childCount}if(!s.parent){var h=e.root.projectableNodes[t];if(h)for(c=0;c<h.length;c++)dr(e,h[c],n,o,r,i)}}function cr(e,t,n,o,r,i){if(8&t.flags)ur(e,t.ngContent.index,n,o,r,i);else{var a=Qo(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&dr(e,a,n,o,r,i),32&t.bindingFlags&&dr(wo(e,t.nodeIndex).componentView,a,n,o,r,i)):dr(e,a,n,o,r,i),16777216&t.flags)for(var s=wo(e,t.nodeIndex).viewContainer._embeddedViews,l=0;l<s.length;l++)sr(s[l],n,o,r,i);1&t.flags&&!t.element.name&&lr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,o,r,i)}}function dr(e,t,n,o,r,i){var a=e.renderer;switch(n){case 1:a.appendChild(o,t);break;case 2:a.insertBefore(o,t,r);break;case 3:a.removeChild(o,t);break;case 0:i.push(t)}}var hr=/^:([^:]+):(.+)$/;function fr(e){if(":"===e[0]){var t=e.match(hr);return[t[1],t[2]]}return["",e]}function pr(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function gr(e,t,n,o,r,i){e|=1;var a=nr(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:a.matchedQueries,matchedQueryIds:a.matchedQueryIds,references:a.references,ngContentIndex:n,childCount:o,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?ar(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||Lo},provider:null,text:null,query:null,ngContent:null}}function mr(e,t,n,o,r,i,a,l,u,c,d,h){void 0===a&&(a=[]),c||(c=Lo);var f=nr(n),p=f.matchedQueries,g=f.references,m=f.matchedQueryIds,E=null,v=null;i&&(E=(S=s(fr(i),2))[0],v=S[1]),l=l||[];for(var T=new Array(l.length),C=0;C<l.length;C++){var y=s(l[C],3),b=y[0],I=y[2],O=s(fr(y[1]),2),D=O[0],_=O[1],R=void 0,w=void 0;switch(15&b){case 4:w=I;break;case 1:case 8:R=I}T[C]={flags:b,ns:D,name:_,nonMinifiedName:_,securityContext:R,suffix:w}}u=u||[];var k=new Array(u.length);for(C=0;C<u.length;C++){var K=s(u[C],2);k[C]={type:0,target:K[0],eventName:K[1],propName:null}}var S,N=(a=a||[]).map(function(e){var t=s(e,2),n=t[1],o=s(fr(t[0]),2);return[o[0],o[1],n]});return h=function(e){if(e&&e.id===$o){var t=null!=e.encapsulation&&e.encapsulation!==et.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+jo++:Vo}return e&&e.id===Vo&&(e=null),e||null}(h),d&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:p,matchedQueryIds:m,references:g,ngContentIndex:o,childCount:r,bindings:T,bindingFlags:pr(T),outputs:k,element:{ns:E,name:v,attrs:N,template:null,componentProvider:null,componentView:d||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||Lo},provider:null,text:null,query:null,ngContent:null}}function Er(e,t,n){var o,r=n.element,i=e.root.selectorOrNode,a=e.renderer;if(e.parent||!i){o=r.name?a.createElement(r.name,r.ns):a.createComment("");var l=rr(e,t,n);l&&a.appendChild(l,o)}else o=a.selectRootElement(i);if(r.attrs)for(var u=0;u<r.attrs.length;u++){var c=s(r.attrs[u],3);a.setAttribute(o,c[1],c[2],c[0])}return o}function vr(e,t,n,o){for(var r=0;r<n.outputs.length;r++){var i=n.outputs[r],a=Tr(e,n.nodeIndex,(d=i.eventName,(c=i.target)?c+":"+d:d)),s=i.target,l=e;"component"===i.target&&(s=null,l=t);var u=l.renderer.listen(s||o,i.eventName,a);e.disposables[n.outputIndex+r]=u}var c,d}function Tr(e,t,n){return function(o){return Xo(e,t,n,o)}}function Cr(e,t,n,o){if(!qo(e,t,n,o))return!1;var r=t.bindings[n],i=wo(e,t.nodeIndex),a=i.renderElement,s=r.name;switch(15&r.flags){case 1:!function(e,t,n,o,r,i){var a=t.securityContext,s=a?e.root.sanitizer.sanitize(a,i):i;s=null!=s?s.toString():null;var l=e.renderer;null!=i?l.setAttribute(n,r,s,o):l.removeAttribute(n,r,o)}(e,r,a,r.ns,s,o);break;case 2:!function(e,t,n,o){var r=e.renderer;o?r.addClass(t,n):r.removeClass(t,n)}(e,a,s,o);break;case 4:!function(e,t,n,o,r){var i=e.root.sanitizer.sanitize(Io.STYLE,r);if(null!=i){i=i.toString();var a=t.suffix;null!=a&&(i+=a)}else i=null;var s=e.renderer;null!=i?s.setStyle(n,o,i):s.removeStyle(n,o)}(e,r,a,s,o);break;case 8:!function(e,t,n,o,r){var i=t.securityContext,a=i?e.root.sanitizer.sanitize(i,r):r;e.renderer.setProperty(n,o,a)}(33554432&t.flags&&32&r.flags?i.componentView:e,r,a,s,o)}return!0}var yr=new Object,br=Mo(Fe),Ir=Mo(Pe),Or=Mo(At);function Dr(e,t,n,o){return n=we(n),{index:-1,deps:or(o,_e(t)),flags:e,token:t,value:n}}function _r(e,t,n){void 0===n&&(n=Fe.THROW_IF_NOT_FOUND);var o,r,i=Qe(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);var a=t.tokenKey;switch(a){case br:case Ir:case Or:return e}var s=e._def.providersByKey[a];if(s){var l=e._providers[s.index];return void 0===l&&(l=e._providers[s.index]=Rr(e,s)),l===yr?void 0:l}if(t.token.ngInjectableDef&&(o=e,null!=(r=t.token.ngInjectableDef).providedIn&&(function(e,t){return e._def.modules.indexOf(r.providedIn)>-1}(o)||"root"===r.providedIn&&o._def.isRoot))){var u=e._providers.length;return e._def.providersByKey[t.tokenKey]={flags:5120,value:t.token.ngInjectableDef.factory,deps:[],index:u,token:t.token},e._providers[u]=yr,e._providers[u]=Rr(e,e._def.providersByKey[t.tokenKey])}return e._parent.get(t.token,n)}finally{Qe(i)}}function Rr(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var o=n.length;switch(o){case 0:return new t;case 1:return new t(_r(e,n[0]));case 2:return new t(_r(e,n[0]),_r(e,n[1]));case 3:return new t(_r(e,n[0]),_r(e,n[1]),_r(e,n[2]));default:for(var r=new Array(o),i=0;i<o;i++)r[i]=_r(e,n[i]);return new(t.bind.apply(t,l([void 0],r)))}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var o=n.length;switch(o){case 0:return t();case 1:return t(_r(e,n[0]));case 2:return t(_r(e,n[0]),_r(e,n[1]));case 3:return t(_r(e,n[0]),_r(e,n[1]),_r(e,n[2]));default:for(var r=Array(o),i=0;i<o;i++)r[i]=_r(e,n[i]);return t.apply(void 0,l(r))}}(e,t.value,t.deps);break;case 2048:n=_r(e,t.deps[0]);break;case 256:n=t.value}return n===yr||null==n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?yr:n}function wr(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var o=n[t];return o.viewContainerParent=null,Nr(n,t),No.dirtyParentQueries(o),Kr(o),o}function kr(e,t,n){var o=t?Qo(t,t.def.lastRenderRootNode):e.renderElement;sr(n,2,n.renderer.parentNode(o),n.renderer.nextSibling(o),void 0)}function Kr(e){sr(e,3,null,null,void 0)}function Sr(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Nr(e,t){t>=e.length-1?e.pop():e.splice(t,1)}var xr=new Object;function Ar(e,t,n,o,r,i){return new Pr(e,t,n,o,r,i)}var Pr=function(e){function t(t,n,o,r,i,a){var s=e.call(this)||this;return s.selector=t,s.componentType=n,s._inputs=r,s._outputs=i,s.ngContentSelectors=a,s.viewDefFactory=o,s}return r(t,e),Object.defineProperty(t.prototype,"inputs",{get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"outputs",{get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e},enumerable:!0,configurable:!0}),t.prototype.create=function(e,t,n,o){if(!o)throw new Error("ngModule should be provided");var r=ar(this.viewDefFactory),i=r.nodes[0].element.componentProvider.nodeIndex,a=No.createRootView(e,t||[],n,r,o,xr),s=ko(a,i).instance;return n&&a.renderer.setAttribute(wo(a,0).renderElement,"ng-version",nt.full),new Lr(a,new $r(a),s)},t}(Dt),Lr=function(e){function t(t,n,o){var r=e.call(this)||this;return r._view=t,r._viewRef=n,r._component=o,r._elDef=r._view.def.nodes[0],r.hostView=n,r.changeDetectorRef=n,r.instance=o,r}return r(t,e),Object.defineProperty(t.prototype,"location",{get:function(){return new fn(wo(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new Ur(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this._viewRef.destroy()},t.prototype.onDestroy=function(e){this._viewRef.onDestroy(e)},t}(function(){});function Fr(e,t,n){return new Mr(e,t,n)}var Mr=function(){function e(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}return Object.defineProperty(e.prototype,"element",{get:function(){return new fn(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new Ur(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentInjector",{get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=Yo(e),e=e.parent;return e?new Ur(e,t):new Ur(this._view,null)},enumerable:!0,configurable:!0}),e.prototype.clear=function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=wr(this._data,e);No.destroyView(t)}},e.prototype.get=function(e){var t=this._embeddedViews[e];if(t){var n=new $r(t);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(e.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),e.prototype.createEmbeddedView=function(e,t,n){var o=e.createEmbeddedView(t||{});return this.insert(o,n),o},e.prototype.createComponent=function(e,t,n,o,r){var i=n||this.parentInjector;r||e instanceof xt||(r=i.get(At));var a=e.create(i,o,void 0,r);return this.insert(a.hostView,t),a},e.prototype.insert=function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,o,r,i,a=e;return r=a._view,i=(n=this._data).viewContainer._embeddedViews,null!==(o=t)&&void 0!==o||(o=i.length),r.viewContainerParent=this._view,Sr(i,o,r),function(e,t){var n=Zo(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var o=n.template._projectedViews;o||(o=n.template._projectedViews=[]),o.push(t),function(e,n){if(!(4&n.flags)){t.parent.def.nodeFlags|=4,n.flags|=4;for(var o=n.parent;o;)o.childFlags|=4,o=o.parent}}(0,t.parentNodeDef)}}(n,r),No.dirtyParentQueries(r),kr(n,o>0?i[o-1]:null,r),a.attachToViewContainerRef(this),e},e.prototype.move=function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,o,r,i,a,s=this._embeddedViews.indexOf(e._view);return r=t,a=(i=(n=this._data).viewContainer._embeddedViews)[o=s],Nr(i,o),null==r&&(r=i.length),Sr(i,r,a),No.dirtyParentQueries(a),Kr(a),kr(n,r>0?i[r-1]:null,a),e},e.prototype.indexOf=function(e){return this._embeddedViews.indexOf(e._view)},e.prototype.remove=function(e){var t=wr(this._data,e);t&&No.destroyView(t)},e.prototype.detach=function(e){var t=wr(this._data,e);return t?new $r(t):null},e}();function Br(e){return new $r(e)}var $r=function(){function e(e){this._view=e,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(e.prototype,"rootNodes",{get:function(){return sr(this._view,0,void 0,void 0,e=[]),e;var e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),e.prototype.markForCheck=function(){Wo(this._view)},e.prototype.detach=function(){this._view.state&=-5},e.prototype.detectChanges=function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{No.checkAndUpdateView(this._view)}finally{e.end&&e.end()}},e.prototype.checkNoChanges=function(){No.checkNoChangesView(this._view)},e.prototype.reattach=function(){this._view.state|=4},e.prototype.onDestroy=function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)},e.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),No.destroyView(this._view)},e.prototype.detachFromAppRef=function(){this._appRef=null,Kr(this._view),No.dirtyParentQueries(this._view)},e.prototype.attachToAppRef=function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e},e.prototype.attachToViewContainerRef=function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e},e}();function Vr(e,t){return new Hr(e,t)}var Hr=function(e){function t(t,n){var o=e.call(this)||this;return o._parentView=t,o._def=n,o}return r(t,e),t.prototype.createEmbeddedView=function(e){return new $r(No.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))},Object.defineProperty(t.prototype,"elementRef",{get:function(){return new fn(wo(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),t}(Cn);function jr(e,t){return new Ur(e,t)}var Ur=function(){function e(e,t){this.view=e,this.elDef=t}return e.prototype.get=function(e,t){return void 0===t&&(t=Fe.THROW_IF_NOT_FOUND),No.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:Mo(e)},t)},e}();function qr(e,t){var n=e.def.nodes[t];if(1&n.flags){var o=wo(e,n.nodeIndex);return n.element.template?o.template:o.renderElement}if(2&n.flags)return Ro(e,n.nodeIndex).renderText;if(20240&n.flags)return ko(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function zr(e){return new Wr(e.renderer)}var Wr=function(){function e(e){this.delegate=e}return e.prototype.selectRootElement=function(e){return this.delegate.selectRootElement(e)},e.prototype.createElement=function(e,t){var n=s(fr(t),2),o=this.delegate.createElement(n[1],n[0]);return e&&this.delegate.appendChild(e,o),o},e.prototype.createViewRoot=function(e){return e},e.prototype.createTemplateAnchor=function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t},e.prototype.createText=function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n},e.prototype.projectNodes=function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])},e.prototype.attachViewAfter=function(e,t){for(var n=this.delegate.parentNode(e),o=this.delegate.nextSibling(e),r=0;r<t.length;r++)this.delegate.insertBefore(n,t[r],o)},e.prototype.detachView=function(e){for(var t=0;t<e.length;t++){var n=e[t],o=this.delegate.parentNode(n);this.delegate.removeChild(o,n)}},e.prototype.destroyView=function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])},e.prototype.listen=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.listenGlobal=function(e,t,n){return this.delegate.listen(e,t,n)},e.prototype.setElementProperty=function(e,t,n){this.delegate.setProperty(e,t,n)},e.prototype.setElementAttribute=function(e,t,n){var o=s(fr(t),2),r=o[0],i=o[1];null!=n?this.delegate.setAttribute(e,i,n,r):this.delegate.removeAttribute(e,i,r)},e.prototype.setBindingDebugInfo=function(e,t,n){},e.prototype.setElementClass=function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)},e.prototype.setElementStyle=function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)},e.prototype.invokeElementMethod=function(e,t,n){e[t].apply(e,n)},e.prototype.setText=function(e,t){this.delegate.setValue(e,t)},e.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},e}();function Gr(e,t,n,o){return new Xr(e,t,n,o)}var Xr=function(){function e(e,t,n,o){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=o,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),o=0;o<t.providers.length;o++){var r=t.providers[o];4096&r.flags||void 0===n[o]&&(n[o]=Rr(e,r))}}(this)}return e.prototype.get=function(e,t,n){void 0===t&&(t=Fe.THROW_IF_NOT_FOUND),void 0===n&&(n=0);var o=0;return 4&n?o|=1:2&n&&(o|=4),_r(this,{token:e,tokenKey:Mo(e),flags:o},t)},Object.defineProperty(e.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentFactoryResolver",{get:function(){return this.get(St)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+_e(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(e,t){for(var n=e._def,o=new Set,r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){var i=e._providers[r];if(i&&i!==yr){var a=i.ngOnDestroy;"function"!=typeof a||o.has(i)||(a.apply(i),o.add(i))}}}(this),this._destroyListeners.forEach(function(e){return e()})},e.prototype.onDestroy=function(e){this._destroyListeners.push(e)},e}(),Zr=Mo(function(){}),Yr=Mo(hn),Qr=Mo(fn),Jr=Mo(yn),ei=Mo(Cn),ti=Mo(bn),ni=Mo(Fe),oi=Mo(Pe);function ri(e,t,n,o,r,i,a,l){var u=[];if(a)for(var c in a){var d=s(a[c],2);u[d[0]]={flags:8,name:c,nonMinifiedName:d[1],ns:null,securityContext:null,suffix:null}}var h=[];if(l)for(var f in l)h.push({type:1,propName:f,target:null,eventName:l[f]});return si(e,t|=16384,n,o,r,r,i,u,h)}function ii(e,t,n){return si(-1,e|=16,null,0,t,t,n)}function ai(e,t,n,o,r){return si(-1,e,t,0,n,o,r)}function si(e,t,n,o,r,i,a,s,l){var u=nr(n),c=u.matchedQueries,d=u.references,h=u.matchedQueryIds;l||(l=[]),s||(s=[]),i=we(i);var f=or(a,_e(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:d,ngContentIndex:-1,childCount:o,bindings:s,bindingFlags:pr(s),outputs:l,element:null,provider:{token:r,value:i,deps:f},text:null,query:null,ngContent:null}}function li(e,t){return hi(e,t)}function ui(e,t){for(var n=e;n.parent&&!Jo(n);)n=n.parent;return fi(n.parent,Yo(n),!0,t.provider.value,t.provider.deps)}function ci(e,t){var n=fi(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var o=0;o<t.outputs.length;o++){var r=t.outputs[o],i=n[r.propName].subscribe(di(e,t.parent.nodeIndex,r.eventName));e.disposables[t.outputIndex+o]=i.unsubscribe.bind(i)}return n}function di(e,t,n){return function(o){return Xo(e,t,n,o)}}function hi(e,t){var n=(8192&t.flags)>0,o=t.provider;switch(201347067&t.flags){case 512:return fi(e,t.parent,n,o.value,o.deps);case 1024:return function(e,t,n,o,r){var i=r.length;switch(i){case 0:return o();case 1:return o(gi(e,t,n,r[0]));case 2:return o(gi(e,t,n,r[0]),gi(e,t,n,r[1]));case 3:return o(gi(e,t,n,r[0]),gi(e,t,n,r[1]),gi(e,t,n,r[2]));default:for(var a=Array(i),s=0;s<i;s++)a[s]=gi(e,t,n,r[s]);return o.apply(void 0,l(a))}}(e,t.parent,n,o.value,o.deps);case 2048:return gi(e,t.parent,n,o.deps[0]);case 256:return o.value}}function fi(e,t,n,o,r){var i=r.length;switch(i){case 0:return new o;case 1:return new o(gi(e,t,n,r[0]));case 2:return new o(gi(e,t,n,r[0]),gi(e,t,n,r[1]));case 3:return new o(gi(e,t,n,r[0]),gi(e,t,n,r[1]),gi(e,t,n,r[2]));default:for(var a=new Array(i),s=0;s<i;s++)a[s]=gi(e,t,n,r[s]);return new(o.bind.apply(o,l([void 0],a)))}}var pi={};function gi(e,t,n,o,r){if(void 0===r&&(r=Fe.THROW_IF_NOT_FOUND),8&o.flags)return o.token;var i=e;2&o.flags&&(r=null);var a=o.tokenKey;a===ti&&(n=!(!t||!t.element.componentView)),t&&1&o.flags&&(n=!1,t=t.parent);for(var s=e;s;){if(t)switch(a){case Zr:return zr(mi(s,t,n));case Yr:return mi(s,t,n).renderer;case Qr:return new fn(wo(s,t.nodeIndex).renderElement);case Jr:return wo(s,t.nodeIndex).viewContainer;case ei:if(t.element.template)return wo(s,t.nodeIndex).template;break;case ti:return Br(mi(s,t,n));case ni:case oi:return jr(s,t);default:var l=(n?t.element.allProviders:t.element.publicProviders)[a];if(l){var u=ko(s,l.nodeIndex);return u||(u={instance:hi(s,l)},s.nodes[l.nodeIndex]=u),u.instance}}n=Jo(s),t=Yo(s),s=s.parent,4&o.flags&&(s=null)}var c=i.root.injector.get(o.token,pi);return c!==pi||r===pi?c:i.root.ngModule.injector.get(o.token,r)}function mi(e,t,n){var o;if(n)o=wo(e,t.nodeIndex).componentView;else for(o=e;o.parent&&!Jo(o);)o=o.parent;return o}function Ei(e,t,n,o,r,i){if(32768&n.flags){var a=wo(e,n.parent.nodeIndex).componentView;2&a.def.flags&&(a.state|=8)}if(t.instance[n.bindings[o].name]=r,524288&n.flags){i=i||{};var s=kn.unwrap(e.oldValues[n.bindingIndex+o]);i[n.bindings[o].nonMinifiedName]=new Kn(s,r,0!=(2&e.state))}return e.oldValues[n.bindingIndex+o]=r,i}function vi(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,o=0,r=0;r<n.length;r++){var i=n[r],a=i.parent;for(!a&&i.flags&t&&Ci(e,r,i.flags&t,o++),0==(i.childFlags&t)&&(r+=i.childCount);a&&1&a.flags&&r===a.nodeIndex+a.childCount;)a.directChildFlags&t&&(o=Ti(e,a,t,o)),a=a.parent}}function Ti(e,t,n,o){for(var r=t.nodeIndex+1;r<=t.nodeIndex+t.childCount;r++){var i=e.def.nodes[r];i.flags&n&&Ci(e,r,i.flags&n,o++),r+=i.childCount}return o}function Ci(e,t,n,o){var r=ko(e,t);if(r){var i=r.instance;i&&(No.setCurrentNode(e,t),1048576&n&&_o(e,512,o)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&_o(e,768,o)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}function yi(e,t,n){var o=[];for(var r in n)o.push({propName:r,bindingType:n[r]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:tr(t),bindings:o},ngContent:null}}function bi(e){for(var t=e.def.nodeMatchedQueries;e.parent&&er(e);){var n=e.parentNodeDef;e=e.parent;for(var o=n.nodeIndex+n.childCount,r=0;r<=o;r++)67108864&(i=e.def.nodes[r]).flags&&536870912&i.flags&&(i.query.filterId&t)===i.query.filterId&&So(e,r).setDirty(),!(1&i.flags&&r+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(r+=i.childCount)}if(134217728&e.def.nodeFlags)for(r=0;r<e.def.nodes.length;r++){var i;134217728&(i=e.def.nodes[r]).flags&&536870912&i.flags&&So(e,r).setDirty(),r+=i.childCount}}function Ii(e,t){var n=So(e,t.nodeIndex);if(n.dirty){var o,r=void 0;if(67108864&t.flags){var i=t.parent.parent;r=Oi(e,i.nodeIndex,i.nodeIndex+i.childCount,t.query,[]),o=ko(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(r=Oi(e,0,e.def.nodes.length-1,t.query,[]),o=e.component);n.reset(r);for(var a=t.query.bindings,s=!1,l=0;l<a.length;l++){var u=a[l],c=void 0;switch(u.bindingType){case 0:c=n.first;break;case 1:c=n,s=!0}o[u.propName]=c}s&&n.notifyOnChanges()}}function Oi(e,t,n,o,r){for(var i=t;i<=n;i++){var a=e.def.nodes[i],s=a.matchedQueries[o.id];if(null!=s&&r.push(Di(e,a,s)),1&a.flags&&a.element.template&&(a.element.template.nodeMatchedQueries&o.filterId)===o.filterId){var l=wo(e,i);if((a.childMatchedQueries&o.filterId)===o.filterId&&(Oi(e,i+1,i+a.childCount,o,r),i+=a.childCount),16777216&a.flags)for(var u=l.viewContainer._embeddedViews,c=0;c<u.length;c++){var d=u[c],h=Zo(d);h&&h===l&&Oi(d,0,d.def.nodes.length-1,o,r)}var f=l.template._projectedViews;if(f)for(c=0;c<f.length;c++){var p=f[c];Oi(p,0,p.def.nodes.length-1,o,r)}}(a.childMatchedQueries&o.filterId)!==o.filterId&&(i+=a.childCount)}return r}function Di(e,t,n){if(null!=n)switch(n){case 1:return wo(e,t.nodeIndex).renderElement;case 0:return new fn(wo(e,t.nodeIndex).renderElement);case 2:return wo(e,t.nodeIndex).template;case 3:return wo(e,t.nodeIndex).viewContainer;case 4:return ko(e,t.nodeIndex).instance}}function _i(e,t,n){var o=rr(e,t,n);o&&ur(e,n.ngContent.index,1,o,null,void 0)}function Ri(e,t,n){for(var o=new Array(n.length-1),r=1;r<n.length;r++)o[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:o,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function wi(e,t,n){var o,r=e.renderer;o=r.createText(n.text.prefix);var i=rr(e,t,n);return i&&r.appendChild(i,o),{renderText:o}}function ki(e,t){return(null!=e?e.toString():"")+t.suffix}function Ki(e,t,n,o){for(var r=0,i=0,a=0,s=0,l=0,u=null,c=null,d=!1,h=!1,f=null,p=0;p<t.length;p++){var g=t[p];if(g.nodeIndex=p,g.parent=u,g.bindingIndex=r,g.outputIndex=i,g.renderParent=c,a|=g.flags,l|=g.matchedQueryIds,g.element){var m=g.element;m.publicProviders=u?u.element.publicProviders:Object.create(null),m.allProviders=m.publicProviders,d=!1,h=!1,g.element.template&&(l|=g.element.template.nodeMatchedQueries)}if(Ni(u,g,t.length),r+=g.bindings.length,i+=g.outputs.length,!c&&3&g.flags&&(f=g),20224&g.flags){d||(d=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);var E=0!=(32768&g.flags);0==(8192&g.flags)||E?u.element.publicProviders[Mo(g.provider.token)]=g:(h||(h=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[Mo(g.provider.token)]=g),E&&(u.element.componentProvider=g)}if(u?(u.childFlags|=g.flags,u.directChildFlags|=g.flags,u.childMatchedQueries|=g.matchedQueryIds,g.element&&g.element.template&&(u.childMatchedQueries|=g.element.template.nodeMatchedQueries)):s|=g.flags,g.childCount>0)u=g,Si(g)||(c=g);else for(;u&&p===u.nodeIndex+u.childCount;){var v=u.parent;v&&(v.childFlags|=u.childFlags,v.childMatchedQueries|=u.childMatchedQueries),c=(u=v)&&Si(u)?u.renderParent:u}}return{factory:null,nodeFlags:a,rootNodeFlags:s,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||Lo,updateRenderer:o||Lo,handleEvent:function(e,n,o,r){return t[n].element.handleEvent(e,o,r)},bindingCount:r,outputCount:i,lastRenderRootNode:f}}function Si(e){return 0!=(1&e.flags)&&null===e.element.name}function Ni(e,t,n){var o=t.element&&t.element.template;if(o){if(!o.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(o.lastRenderRootNode&&16777216&o.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+t.nodeIndex+"!")}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+t.nodeIndex+"!");if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+t.nodeIndex+"!");if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+t.nodeIndex+"!")}if(t.childCount){var r=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=r&&t.nodeIndex+t.childCount>r)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+t.nodeIndex+"!")}}function xi(e,t,n,o){var r=Li(e.root,e.renderer,e,t,n);return Fi(r,e.component,o),Mi(r),r}function Ai(e,t,n){var o=Li(e,e.renderer,null,null,t);return Fi(o,n,n),Mi(o),o}function Pi(e,t,n,o){var r,i=t.element.componentRendererType;return r=i?e.root.rendererFactory.createRenderer(o,i):e.root.renderer,Li(e.root,r,e,t.element.componentProvider,n)}function Li(e,t,n,o,r){var i=new Array(r.nodes.length),a=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:o,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(r.bindingCount),disposables:a,initIndex:-1}}function Fi(e,t,n){e.component=t,e.context=n}function Mi(e){var t;Jo(e)&&(t=wo(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,o=e.nodes,r=0;r<n.nodes.length;r++){var i=n.nodes[r];No.setCurrentNode(e,r);var a=void 0;switch(201347067&i.flags){case 1:var s=Er(e,t,i),l=void 0;if(33554432&i.flags){var u=ar(i.element.componentView);l=No.createComponentView(e,i,u,s)}vr(e,l,i,s),a={renderElement:s,componentView:l,viewContainer:null,template:i.element.template?Vr(e,i):void 0},16777216&i.flags&&(a.viewContainer=Fr(e,i,a));break;case 2:a=wi(e,t,i);break;case 512:case 1024:case 2048:case 256:(a=o[r])||4096&i.flags||(a={instance:li(e,i)});break;case 16:a={instance:ui(e,i)};break;case 16384:(a=o[r])||(a={instance:ci(e,i)}),32768&i.flags&&Fi(wo(e,i.parent.nodeIndex).componentView,a.instance,a.instance);break;case 32:case 64:case 128:a={value:void 0};break;case 67108864:case 134217728:a=new gn;break;case 8:_i(e,t,i),a=void 0}o[r]=a}Wi(e,zi.CreateViewNodes),Yi(e,201326592,268435456,0)}function Bi(e){Hi(e),No.updateDirectives(e,1),Gi(e,zi.CheckNoChanges),No.updateRenderer(e,1),Wi(e,zi.CheckNoChanges),e.state&=-97}function $i(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Do(e,0,256),Hi(e),No.updateDirectives(e,0),Gi(e,zi.CheckAndUpdate),Yi(e,67108864,536870912,0);var t=Do(e,256,512);vi(e,2097152|(t?1048576:0)),No.updateRenderer(e,0),Wi(e,zi.CheckAndUpdate),Yi(e,134217728,536870912,0),vi(e,8388608|((t=Do(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Do(e,768,1024)}function Vi(e,t,n,o,r,i,a,s,u,c,d,h,f){return 0===n?function(e,t,n,o,r,i,a,s,l,u,c,d){switch(201347067&t.flags){case 1:return function(e,t,n,o,r,i,a,s,l,u,c,d){var h=t.bindings.length,f=!1;return h>0&&Cr(e,t,0,n)&&(f=!0),h>1&&Cr(e,t,1,o)&&(f=!0),h>2&&Cr(e,t,2,r)&&(f=!0),h>3&&Cr(e,t,3,i)&&(f=!0),h>4&&Cr(e,t,4,a)&&(f=!0),h>5&&Cr(e,t,5,s)&&(f=!0),h>6&&Cr(e,t,6,l)&&(f=!0),h>7&&Cr(e,t,7,u)&&(f=!0),h>8&&Cr(e,t,8,c)&&(f=!0),h>9&&Cr(e,t,9,d)&&(f=!0),f}(e,t,n,o,r,i,a,s,l,u,c,d);case 2:return function(e,t,n,o,r,i,a,s,l,u,c,d){var h=!1,f=t.bindings,p=f.length;if(p>0&&qo(e,t,0,n)&&(h=!0),p>1&&qo(e,t,1,o)&&(h=!0),p>2&&qo(e,t,2,r)&&(h=!0),p>3&&qo(e,t,3,i)&&(h=!0),p>4&&qo(e,t,4,a)&&(h=!0),p>5&&qo(e,t,5,s)&&(h=!0),p>6&&qo(e,t,6,l)&&(h=!0),p>7&&qo(e,t,7,u)&&(h=!0),p>8&&qo(e,t,8,c)&&(h=!0),p>9&&qo(e,t,9,d)&&(h=!0),h){var g=t.text.prefix;p>0&&(g+=ki(n,f[0])),p>1&&(g+=ki(o,f[1])),p>2&&(g+=ki(r,f[2])),p>3&&(g+=ki(i,f[3])),p>4&&(g+=ki(a,f[4])),p>5&&(g+=ki(s,f[5])),p>6&&(g+=ki(l,f[6])),p>7&&(g+=ki(u,f[7])),p>8&&(g+=ki(c,f[8])),p>9&&(g+=ki(d,f[9]));var m=Ro(e,t.nodeIndex).renderText;e.renderer.setValue(m,g)}return h}(e,t,n,o,r,i,a,s,l,u,c,d);case 16384:return function(e,t,n,o,r,i,a,s,l,u,c,d){var h=ko(e,t.nodeIndex),f=h.instance,p=!1,g=void 0,m=t.bindings.length;return m>0&&Uo(e,t,0,n)&&(p=!0,g=Ei(e,h,t,0,n,g)),m>1&&Uo(e,t,1,o)&&(p=!0,g=Ei(e,h,t,1,o,g)),m>2&&Uo(e,t,2,r)&&(p=!0,g=Ei(e,h,t,2,r,g)),m>3&&Uo(e,t,3,i)&&(p=!0,g=Ei(e,h,t,3,i,g)),m>4&&Uo(e,t,4,a)&&(p=!0,g=Ei(e,h,t,4,a,g)),m>5&&Uo(e,t,5,s)&&(p=!0,g=Ei(e,h,t,5,s,g)),m>6&&Uo(e,t,6,l)&&(p=!0,g=Ei(e,h,t,6,l,g)),m>7&&Uo(e,t,7,u)&&(p=!0,g=Ei(e,h,t,7,u,g)),m>8&&Uo(e,t,8,c)&&(p=!0,g=Ei(e,h,t,8,c,g)),m>9&&Uo(e,t,9,d)&&(p=!0,g=Ei(e,h,t,9,d,g)),g&&f.ngOnChanges(g),65536&t.flags&&_o(e,256,t.nodeIndex)&&f.ngOnInit(),262144&t.flags&&f.ngDoCheck(),p}(e,t,n,o,r,i,a,s,l,u,c,d);case 32:case 64:case 128:return function(e,t,n,o,r,i,a,s,l,u,c,d){var h=t.bindings,f=!1,p=h.length;if(p>0&&qo(e,t,0,n)&&(f=!0),p>1&&qo(e,t,1,o)&&(f=!0),p>2&&qo(e,t,2,r)&&(f=!0),p>3&&qo(e,t,3,i)&&(f=!0),p>4&&qo(e,t,4,a)&&(f=!0),p>5&&qo(e,t,5,s)&&(f=!0),p>6&&qo(e,t,6,l)&&(f=!0),p>7&&qo(e,t,7,u)&&(f=!0),p>8&&qo(e,t,8,c)&&(f=!0),p>9&&qo(e,t,9,d)&&(f=!0),f){var g=Ko(e,t.nodeIndex),m=void 0;switch(201347067&t.flags){case 32:m=new Array(h.length),p>0&&(m[0]=n),p>1&&(m[1]=o),p>2&&(m[2]=r),p>3&&(m[3]=i),p>4&&(m[4]=a),p>5&&(m[5]=s),p>6&&(m[6]=l),p>7&&(m[7]=u),p>8&&(m[8]=c),p>9&&(m[9]=d);break;case 64:m={},p>0&&(m[h[0].name]=n),p>1&&(m[h[1].name]=o),p>2&&(m[h[2].name]=r),p>3&&(m[h[3].name]=i),p>4&&(m[h[4].name]=a),p>5&&(m[h[5].name]=s),p>6&&(m[h[6].name]=l),p>7&&(m[h[7].name]=u),p>8&&(m[h[8].name]=c),p>9&&(m[h[9].name]=d);break;case 128:var E=n;switch(p){case 1:m=E.transform(n);break;case 2:m=E.transform(o);break;case 3:m=E.transform(o,r);break;case 4:m=E.transform(o,r,i);break;case 5:m=E.transform(o,r,i,a);break;case 6:m=E.transform(o,r,i,a,s);break;case 7:m=E.transform(o,r,i,a,s,l);break;case 8:m=E.transform(o,r,i,a,s,l,u);break;case 9:m=E.transform(o,r,i,a,s,l,u,c);break;case 10:m=E.transform(o,r,i,a,s,l,u,c,d)}}g.value=m}return f}(e,t,n,o,r,i,a,s,l,u,c,d);default:throw"unreachable"}}(e,t,o,r,i,a,s,u,c,d,h,f):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var o=!1,r=0;r<n.length;r++)Cr(e,t,r,n[r])&&(o=!0);return o}(e,t,n);case 2:return function(e,t,n){for(var o=t.bindings,r=!1,i=0;i<n.length;i++)qo(e,t,i,n[i])&&(r=!0);if(r){var a="";for(i=0;i<n.length;i++)a+=ki(n[i],o[i]);a=t.text.prefix+a;var s=Ro(e,t.nodeIndex).renderText;e.renderer.setValue(s,a)}return r}(e,t,n);case 16384:return function(e,t,n){for(var o=ko(e,t.nodeIndex),r=o.instance,i=!1,a=void 0,s=0;s<n.length;s++)Uo(e,t,s,n[s])&&(i=!0,a=Ei(e,o,t,s,n[s],a));return a&&r.ngOnChanges(a),65536&t.flags&&_o(e,256,t.nodeIndex)&&r.ngOnInit(),262144&t.flags&&r.ngDoCheck(),i}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var o=t.bindings,r=!1,i=0;i<n.length;i++)qo(e,t,i,n[i])&&(r=!0);if(r){var a=Ko(e,t.nodeIndex),s=void 0;switch(201347067&t.flags){case 32:s=n;break;case 64:for(s={},i=0;i<n.length;i++)s[o[i].name]=n[i];break;case 128:var u=n[0],c=n.slice(1);s=u.transform.apply(u,l(c))}a.value=s}return r}(e,t,n);default:throw"unreachable"}}(e,t,o)}function Hi(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var o=t.nodes[n];if(4&o.flags){var r=wo(e,n).template._projectedViews;if(r)for(var i=0;i<r.length;i++){var a=r[i];a.state|=32,Go(a,e)}}else 0==(4&o.childFlags)&&(n+=o.childCount)}}function ji(e,t,n,o,r,i,a,s,l,u,c,d,h){return 0===n?function(e,t,n,o,r,i,a,s,l,u,c,d){var h=t.bindings.length;h>0&&zo(e,t,0,n),h>1&&zo(e,t,1,o),h>2&&zo(e,t,2,r),h>3&&zo(e,t,3,i),h>4&&zo(e,t,4,a),h>5&&zo(e,t,5,s),h>6&&zo(e,t,6,l),h>7&&zo(e,t,7,u),h>8&&zo(e,t,8,c),h>9&&zo(e,t,9,d)}(e,t,o,r,i,a,s,l,u,c,d,h):function(e,t,n){for(var o=0;o<n.length;o++)zo(e,t,o,n[o])}(e,t,o),!1}function Ui(e,t){if(So(e,t.nodeIndex).dirty)throw xo(No.createDebugContext(e,t.nodeIndex),"Query "+t.query.id+" not dirty","Query "+t.query.id+" dirty",0!=(1&e.state))}function qi(e){if(!(128&e.state)){if(Gi(e,zi.Destroy),Wi(e,zi.Destroy),vi(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=Zo(e);if(t){var n=t.template._projectedViews;n&&(Nr(n,n.indexOf(e)),No.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var o=e.def.nodes[n];1&o.flags?e.renderer.destroyNode(wo(e,n).renderElement):2&o.flags?e.renderer.destroyNode(Ro(e,n).renderText):(67108864&o.flags||134217728&o.flags)&&So(e,n).destroy()}}(e),Jo(e)&&e.renderer.destroy(),e.state|=128}}var zi=function(e){return e[e.CreateViewNodes=0]="CreateViewNodes",e[e.CheckNoChanges=1]="CheckNoChanges",e[e.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate=3]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",e[e.Destroy=5]="Destroy",e}({});function Wi(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var o=0;o<n.nodes.length;o++){var r=n.nodes[o];33554432&r.flags?Xi(wo(e,o).componentView,t):0==(33554432&r.childFlags)&&(o+=r.childCount)}}function Gi(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var o=0;o<n.nodes.length;o++){var r=n.nodes[o];if(16777216&r.flags)for(var i=wo(e,o).viewContainer._embeddedViews,a=0;a<i.length;a++)Xi(i[a],t);else 0==(16777216&r.childFlags)&&(o+=r.childCount)}}function Xi(e,t){var n=e.state;switch(t){case zi.CheckNoChanges:0==(128&n)&&(12==(12&n)?Bi(e):64&n&&Zi(e,zi.CheckNoChangesProjectedViews));break;case zi.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Bi(e):64&n&&Zi(e,t));break;case zi.CheckAndUpdate:0==(128&n)&&(12==(12&n)?$i(e):64&n&&Zi(e,zi.CheckAndUpdateProjectedViews));break;case zi.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?$i(e):64&n&&Zi(e,t));break;case zi.Destroy:qi(e);break;case zi.CreateViewNodes:Mi(e)}}function Zi(e,t){Gi(e,t),Wi(e,t)}function Yi(e,t,n,o){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var r=e.def.nodes.length,i=0;i<r;i++){var a=e.def.nodes[i];if(a.flags&t&&a.flags&n)switch(No.setCurrentNode(e,a.nodeIndex),o){case 0:Ii(e,a);break;case 1:Ui(e,a)}a.childFlags&t&&a.childFlags&n||(i+=a.childCount)}}var Qi=!1;function Ji(e,t,n,o,r,i){return Ai(ta(e,r,r.injector.get(cn),t,n),o,i)}function ea(e,t,n,o,r,i){var a=r.injector.get(cn),s=ta(e,r,new Pa(a),t,n),l=da(o);return xa(Ca.create,Ai,null,[s,l,i])}function ta(e,t,n,o,r){var i=t.injector.get(Oo),a=t.injector.get(ut);return{ngModule:t,injector:e,projectableNodes:o,selectorOrNode:r,sanitizer:i,rendererFactory:n,renderer:n.createRenderer(null,null),errorHandler:a}}function na(e,t,n,o){var r=da(n);return xa(Ca.create,xi,null,[e,t,r,o])}function oa(e,t,n,o){return n=sa.get(t.element.componentProvider.provider.token)||da(n),xa(Ca.create,Pi,null,[e,t,n,o])}function ra(e,t,n,o){return Gr(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===ia.size?{hasOverrides:t,hasDeprecatedOverrides:n}:(e.providers.forEach(function(e){var o=ia.get(e.token);3840&e.flags&&o&&(t=!0,n=n||o.deprecatedBehavior)}),e.modules.forEach(function(e){aa.forEach(function(o,r){r.ngInjectableDef.providedIn===e&&(t=!0,n=n||o.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n})}(e),n=t.hasDeprecatedOverrides;return t.hasOverrides?(function(e){for(var t=0;t<e.providers.length;t++){var o=e.providers[t];n&&(o.flags|=4096);var r=ia.get(o.token);r&&(o.flags=-3841&o.flags|r.flags,o.deps=or(r.deps),o.value=r.value)}if(aa.size>0){var i=new Set(e.modules);aa.forEach(function(t,o){if(i.has(o.ngInjectableDef.providedIn)){var r={token:o,flags:t.flags|(n?4096:0),deps:or(t.deps),value:t.value,index:e.providers.length};e.providers.push(r),e.providersByKey[Mo(o)]=r}})}}(e=e.factory(function(){return Lo})),e):e}(o))}var ia=new Map,aa=new Map,sa=new Map;function la(e){ia.set(e.token,e),"function"==typeof e.token&&e.token.ngInjectableDef&&"function"==typeof e.token.ngInjectableDef.providedIn&&aa.set(e.token,e)}function ua(e,t){var n=ar(ar(t.viewDefFactory).nodes[0].element.componentView);sa.set(e,n)}function ca(){ia.clear(),aa.clear(),sa.clear()}function da(e){if(0===ia.size)return e;var t=function(e){for(var t=[],n=null,o=0;o<e.nodes.length;o++){var r=e.nodes[o];1&r.flags&&(n=r),n&&3840&r.flags&&ia.has(r.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(function(){return Lo});for(var n=0;n<t.length;n++)o(e,t[n]);return e;function o(e,t){for(var n=t+1;n<e.nodes.length;n++){var o=e.nodes[n];if(1&o.flags)return;if(3840&o.flags){var r=o.provider,i=ia.get(r.token);i&&(o.flags=-3841&o.flags|i.flags,r.deps=or(i.deps),r.value=i.value)}}}}function ha(e,t,n,o,r,i,a,s,l,u,c,d,h){var f=e.def.nodes[t];return Vi(e,f,n,o,r,i,a,s,l,u,c,d,h),224&f.flags?Ko(e,t).value:void 0}function fa(e,t,n,o,r,i,a,s,l,u,c,d,h){var f=e.def.nodes[t];return ji(e,f,n,o,r,i,a,s,l,u,c,d,h),224&f.flags?Ko(e,t).value:void 0}function pa(e){return xa(Ca.detectChanges,$i,null,[e])}function ga(e){return xa(Ca.checkNoChanges,Bi,null,[e])}function ma(e){return xa(Ca.destroy,qi,null,[e])}var Ea,va,Ta,Ca=function(e){return e[e.create=0]="create",e[e.detectChanges=1]="detectChanges",e[e.checkNoChanges=2]="checkNoChanges",e[e.destroy=3]="destroy",e[e.handleEvent=4]="handleEvent",e}({});function ya(e,t){va=e,Ta=t}function ba(e,t,n,o){return ya(e,t),xa(Ca.handleEvent,e.def.handleEvent,null,[e,t,n,o])}function Ia(e,t){if(128&e.state)throw Po(Ca[Ea]);return ya(e,ka(e,0)),e.def.updateDirectives(function(e,n,o){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var a=e.def.nodes[n];return 0===t?Da(e,a,o,r):_a(e,a,o,r),16384&a.flags&&ya(e,ka(e,n)),224&a.flags?Ko(e,a.nodeIndex).value:void 0},e)}function Oa(e,t){if(128&e.state)throw Po(Ca[Ea]);return ya(e,Ka(e,0)),e.def.updateRenderer(function(e,n,o){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var a=e.def.nodes[n];return 0===t?Da(e,a,o,r):_a(e,a,o,r),3&a.flags&&ya(e,Ka(e,n)),224&a.flags?Ko(e,a.nodeIndex).value:void 0},e)}function Da(e,t,n,o){if(Vi.apply(void 0,l([e,t,n],o))){var r=1===n?o[0]:o;if(16384&t.flags){for(var i={},a=0;a<t.bindings.length;a++){var s=t.bindings[a],u=r[a];8&s.flags&&(i[(f=s.nonMinifiedName,"ng-reflect-"+(f=f.replace(/[$@]/g,"_").replace(Ra,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"-"+e[1].toLowerCase()})))]=wa(u))}var c=t.parent,d=wo(e,c.nodeIndex).renderElement;if(c.element.name)for(var h in i)null!=(u=i[h])?e.renderer.setAttribute(d,h,u):e.renderer.removeAttribute(d,h);else e.renderer.setValue(d,"bindings="+JSON.stringify(i,null,2))}}var f}function _a(e,t,n,o){ji.apply(void 0,l([e,t,n],o))}var Ra=/([A-Z])/g;function wa(e){try{return null!=e?e.toString().slice(0,30):e}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function ka(e,t){for(var n=t;n<e.def.nodes.length;n++){var o=e.def.nodes[n];if(16384&o.flags&&o.bindings&&o.bindings.length)return n}return null}function Ka(e,t){for(var n=t;n<e.def.nodes.length;n++){var o=e.def.nodes[n];if(3&o.flags&&o.bindings&&o.bindings.length)return n}return null}var Sa=function(){function e(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];for(var n=this.nodeDef,o=e;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&o;)n=Yo(o),o=o.parent;this.elDef=n,this.elView=o}return Object.defineProperty(e.prototype,"elOrCompView",{get:function(){return wo(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return jr(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"providerTokens",{get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"references",{get:function(){var e={};if(this.elDef){Na(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&Na(this.elView,n,e),t+=n.childCount}}return e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentRenderElement",{get:function(){var e=function(e){for(;e&&!Jo(e);)e=e.parent;return e.parent?wo(e.parent,Yo(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?Qo(this.view,this.nodeDef):Qo(this.elView,this.elDef)},enumerable:!0,configurable:!0}),e.prototype.logError=function(e){for(var t,n,o=[],r=1;r<arguments.length;r++)o[r-1]=arguments[r];2&this.nodeDef.flags?(t=this.view.def,n=this.nodeDef.nodeIndex):(t=this.elView.def,n=this.elDef.nodeIndex);var i=function(e,t){for(var n=-1,o=0;o<=t;o++)3&e.nodes[o].flags&&n++;return n}(t,n),a=-1;t.factory(function(){return++a===i?(t=e.error).bind.apply(t,l([e],o)):Lo;var t}),a<i&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,l(o)))},e}();function Na(e,t,n){for(var o in t.references)n[o]=Di(e,t,t.references[o])}function xa(e,t,n,o){var r=Ea,i=va,a=Ta;try{Ea=e;var s=t.apply(n,o);return va=i,Ta=a,Ea=r,s}catch(e){if(at(e)||!va)throw e;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Ao(e,t),e}(e,Aa())}}function Aa(){return va?new Sa(va,Ta):null}var Pa=function(){function e(e){this.delegate=e}return e.prototype.createRenderer=function(e,t){return new La(this.delegate.createRenderer(e,t))},e.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},e.prototype.end=function(){this.delegate.end&&this.delegate.end()},e.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},e}(),La=function(){function e(e){this.delegate=e,this.data=this.delegate.data}return e.prototype.destroyNode=function(e){!function(e){Dn.delete(e.nativeNode)}(_n(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)},e.prototype.destroy=function(){this.delegate.destroy()},e.prototype.createElement=function(e,t){var n=this.delegate.createElement(e,t),o=Aa();if(o){var r=new On(n,null,o);r.name=e,Rn(r)}return n},e.prototype.createComment=function(e){var t=this.delegate.createComment(e),n=Aa();return n&&Rn(new In(t,null,n)),t},e.prototype.createText=function(e){var t=this.delegate.createText(e),n=Aa();return n&&Rn(new In(t,null,n)),t},e.prototype.appendChild=function(e,t){var n=_n(e),o=_n(t);n&&o&&n instanceof On&&n.addChild(o),this.delegate.appendChild(e,t)},e.prototype.insertBefore=function(e,t,n){var o=_n(e),r=_n(t),i=_n(n);o&&r&&o instanceof On&&o.insertBefore(i,r),this.delegate.insertBefore(e,t,n)},e.prototype.removeChild=function(e,t){var n=_n(e),o=_n(t);n&&o&&n instanceof On&&n.removeChild(o),this.delegate.removeChild(e,t)},e.prototype.selectRootElement=function(e){var t=this.delegate.selectRootElement(e),n=Aa();return n&&Rn(new On(t,null,n)),t},e.prototype.setAttribute=function(e,t,n,o){var r=_n(e);r&&r instanceof On&&(r.attributes[o?o+":"+t:t]=n),this.delegate.setAttribute(e,t,n,o)},e.prototype.removeAttribute=function(e,t,n){var o=_n(e);o&&o instanceof On&&(o.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)},e.prototype.addClass=function(e,t){var n=_n(e);n&&n instanceof On&&(n.classes[t]=!0),this.delegate.addClass(e,t)},e.prototype.removeClass=function(e,t){var n=_n(e);n&&n instanceof On&&(n.classes[t]=!1),this.delegate.removeClass(e,t)},e.prototype.setStyle=function(e,t,n,o){var r=_n(e);r&&r instanceof On&&(r.styles[t]=n),this.delegate.setStyle(e,t,n,o)},e.prototype.removeStyle=function(e,t,n){var o=_n(e);o&&o instanceof On&&(o.styles[t]=null),this.delegate.removeStyle(e,t,n)},e.prototype.setProperty=function(e,t,n){var o=_n(e);o&&o instanceof On&&(o.properties[t]=n),this.delegate.setProperty(e,t,n)},e.prototype.listen=function(e,t,n){if("string"!=typeof e){var o=_n(e);o&&o.listeners.push(new function(e,t){this.name=e,this.callback=t}(t,n))}return this.delegate.listen(e,t,n)},e.prototype.parentNode=function(e){return this.delegate.parentNode(e)},e.prototype.nextSibling=function(e){return this.delegate.nextSibling(e)},e.prototype.setValue=function(e,t){return this.delegate.setValue(e,t)},e}(),Fa=function(e){function t(t,n,o){var r=e.call(this)||this;return r.moduleType=t,r._bootstrapComponents=n,r._ngModuleDefFactory=o,r}return r(t,e),t.prototype.create=function(e){!function(){if(!Qi){Qi=!0;var e=tn()?{setCurrentNode:ya,createRootView:ea,createEmbeddedView:na,createComponentView:oa,createNgModuleRef:ra,overrideProvider:la,overrideComponentView:ua,clearOverrides:ca,checkAndUpdateView:pa,checkNoChangesView:ga,destroyView:ma,createDebugContext:function(e,t){return new Sa(e,t)},handleEvent:ba,updateDirectives:Ia,updateRenderer:Oa}:{setCurrentNode:function(){},createRootView:Ji,createEmbeddedView:xi,createComponentView:Pi,createNgModuleRef:Gr,overrideProvider:Lo,overrideComponentView:Lo,clearOverrides:Lo,checkAndUpdateView:$i,checkNoChangesView:Bi,destroyView:qi,createDebugContext:function(e,t){return new Sa(e,t)},handleEvent:function(e,t,n,o){return e.def.handleEvent(e,t,n,o)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?ha:fa,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?ha:fa,e)}};No.setCurrentNode=e.setCurrentNode,No.createRootView=e.createRootView,No.createEmbeddedView=e.createEmbeddedView,No.createComponentView=e.createComponentView,No.createNgModuleRef=e.createNgModuleRef,No.overrideProvider=e.overrideProvider,No.overrideComponentView=e.overrideComponentView,No.clearOverrides=e.clearOverrides,No.checkAndUpdateView=e.checkAndUpdateView,No.checkNoChangesView=e.checkNoChangesView,No.destroyView=e.destroyView,No.resolveDep=gi,No.createDebugContext=e.createDebugContext,No.handleEvent=e.handleEvent,No.updateDirectives=e.updateDirectives,No.updateRenderer=e.updateRenderer,No.dirtyParentQueries=bi}}();var t=ar(this._ngModuleDefFactory);return No.createNgModuleRef(this.moduleType,e||Fe.NULL,this._bootstrapComponents,t)},t}(Pt);function Ma(e,t,n){e!=t&&Va(n)}function Ba(e,t){null!=e&&Va(t)}function $a(e,t){null==e&&Va(t)}function Va(e){throw new Error("ASSERTION ERROR: "+e)}function Ha(e,t,n,o){var r=o?t:n;r&&function(e,t){for(var n=0;n<t.length;n+=2)t[n+1].call(e[t[n]])}(e,r)}"undefined"==typeof ngDevMode&&("undefined"!=typeof window&&(window.ngDevMode=!0),"undefined"!=typeof self&&(self.ngDevMode=!0),"undefined"!=typeof global&&(global.ngDevMode=!0));var ja,Ua,qa,za,Wa,Ga,Xa,Za,Ya,Qa,Ja="__ngHostLNode__",es=Promise.resolve(null),ts=[0,0],ns=null,os=!1;function rs(e,t){var n=ns;return Za=e&&e.data,Ya=e&&e.directives,Wa=e&&e.tView.data,Xa=e&&1==(1&e.flags),ja=e&&e.renderer,e&&e.bindingIndex<0&&(e.bindingIndex=e.bindingStartIndex),null!=t&&(qa=t,za=!0),ns=e,Ga=e&&e.queries,n}function is(e){os||Ha(Ya,ns.tView.viewHooks,ns.tView.viewCheckHooks,Xa),ns.flags&=-6,ns.lifecycleStage=1,ns.bindingIndex=-1,rs(e,null)}function as(){ls();var e=ns.tView;e.firstTemplatePass=!1,ss(e.hostBindings),function(e){if(null!=e)for(var t=0;t<e.length;t+=2)ds(e[t],e[t+1])}(e.components)}function ss(e){if(null!=e)for(var t=ns.tView.directives,n=0;n<e.length;n+=2){var o=e[n],r=t[o];r.hostBindings&&r.hostBindings(o,e[n+1])}}function ls(){if(!os){var e=ns.tView;(function(e,t,n){1===e.lifecycleStage&&(Ha(e.directives,t.initHooks,t.checkHooks,n),e.lifecycleStage=2)})(ns,e,Xa),Ha(Ya,e.contentHooks,e.contentCheckHooks,Xa)}}function us(e,t,n,o,r,i){var a,s,l,u,c,d,h,f,p,g=za,m=qa;try{za=!0,qa=null;var E=2;null==e&&(s=null,l=2,u=null,c=function(e,t,n,o,r,i){return{parent:ns,id:-1,flags:11,node:null,data:[],directives:null,tView:n,cleanup:null,renderer:t,child:null,tail:null,next:null,bindingStartIndex:-1,bindingIndex:-1,template:o,context:r,dynamicViewCount:0,lifecycleStage:1,queries:null,injector:ns&&ns.injector}}(0,o,function(e,t,n){return e.ngPrivateData||(e.ngPrivateData=function(e,t){return{data:[],directives:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,hostBindings:null,components:null,directiveRegistry:"function"==typeof e?e():e,pipeRegistry:"function"==typeof t?t():t,currentMatches:null}}(t,n))}(t,r||null,i||null),t,n),d=za?qa:qa&&qa.parent,h=(za?Ga:qa&&qa.queries)||d&&d.queries&&d.queries.child(),p=function(e,t,n,o,r,i){return{type:e,native:o,view:t,parent:n,child:null,next:null,nodeInjector:n?n.nodeInjector:null,data:r,queries:i,tNode:null,pNextOrParent:null,dynamicLContainerNode:null}}(l,ns,d,u,(f=null!=c)?c:null,h),2==(2&l)&&f&&(ngDevMode&&Ba(c.node,"LView.node should not have been initialized"),c.node=p),null!=s&&(ngDevMode&&function(e,t){null==t&&(t=Za),Ma(t.length,e,"index "+e+" expected to be at the end of arr (length "+t.length+")")}(s),Za[s]=p,s>=Wa.length?Wa[s]=null:p.tNode=Wa[s],za?(Ga=null,qa.view!==ns&&2!==qa.type||(ngDevMode&&Ba(qa.child,"previousOrParentNode's child should not have been set."),qa.child=p)):qa&&(ngDevMode&&Ba(qa.next,"previousOrParentNode's next property should not have been set "+s+"."),qa.next=p,qa.dynamicLContainerNode&&(qa.dynamicLContainerNode.next=p))),qa=p,za=!0,e=p,E=1),a=rs(e.data,e),t(E,n),as(),cs()}finally{is(a),za=g,qa=m}return e}function cs(){for(var e=ns.child;null!==e;e=e.next)if(0!==e.dynamicViewCount&&e.views)for(var t=e,n=0;n<t.views.length;n++){var o=t.views[n];us(o,o.data.template,o.data.context,ja)}}function ds(e,t){ngDevMode&&ps(t);var n,o,r=Za[t];ngDevMode&&(o=3,$a(n=r,"should be called with a node"),Ma(n.type,o,"should be a "+function(e){return 1==e?"Projection":0==e?"Container":2==e?"View":3==e?"Element":"<unknown>"}(o))),ngDevMode&&$a(r.data,"Component's host node should have an LView attached.");var i,a=r.data;8==(8&a.flags)&&6&a.flags&&(ngDevMode&&ps(e,Ya),fs(a,r,ns.tView.directives[e],(i=Ya[e],Array.isArray(i)?i[0]:i)))}function hs(e){var t=gs(e);ngDevMode&&$a(t.data,"Component host node should be attached to an LView"),fs(t.data,t,t.view.tView.directives[t.tNode.flags>>13],e)}function fs(e,t,n,o){var r=rs(e,t),i=n.template;try{i(1&e.flags?3:2,o),as(),cs()}finally{is(r)}}function ps(e,t){null==t&&(t=Za),e>=(t?t.length:0)&&Va("index expected to be a valid data index")}function gs(e){ngDevMode&&$a(e,"expecting component got null");var t=e[Ja];return ngDevMode&&$a(e,"object is not a component"),t}r(function(e,t,n){var o=Qa.call(this,e.data,n)||this;return o._lViewNode=e,o},Qa=function(){function e(e,t){this._view=e,this.context=t}return e.prototype._setComponentContext=function(e,t){this._view=e,this.context=t},e.prototype.destroy=function(){},e.prototype.onDestroy=function(e){},e.prototype.markForCheck=function(){!function(e){for(var t=e;null!=t.parent;)t.flags|=4,t=t.parent;var n,o;t.flags|=4,ngDevMode&&$a(t.context,"rootContext"),(n=t.context).clean==es&&(n.clean=new Promise(function(e){return o=e}),n.scheduler(function(){var e,t;t=gs((e=function(e){ngDevMode&&$a(e,"component");for(var t=gs(e).view;t.parent;)t=t.parent;return t}(n.component)).context.component),ngDevMode&&$a(t.data,"Component host node should be attached to an LView"),function(n,o,r,i){var a=rs(e,t);try{Ua.begin&&Ua.begin(),ls(),ss(ts),ds(0,0)}finally{Ua.end&&Ua.end(),is(a)}}(),o(null),n.clean=es}))}(this._view)},e.prototype.detach=function(){this._view.flags&=-9},e.prototype.reattach=function(){this._view.flags|=8},e.prototype.detectChanges=function(){hs(this.context)},e.prototype.checkNoChanges=function(){!function(e){os=!0;try{hs(e)}finally{os=!1}}(this.context)},e}());var ms=new K(function(e){return e.complete()});function Es(e){return e?function(e){return new K(function(t){return e.schedule(function(){return t.complete()})})}(e):ms}function vs(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,o,r=e[e.length-1];switch(N(r)?e.pop():r=void 0,e.length){case 0:return Es(r);case 1:return r?W(e,r):(n=e[0],(o=new K(function(e){e.next(n),e.complete()}))._isScalar=!0,o.value=n,o);default:return W(e,r)}}function Ts(e,t){return X(e,t,1)}function Cs(e,t){return function(n){return n.lift(new ys(e,t))}}var ys=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new bs(e,this.predicate,this.thisArg))},e}(),bs=function(e){function t(t,n,o){var r=e.call(this,t)||this;return r.predicate=n,r.thisArg=o,r.count=0,r}return r(t,e),t.prototype._next=function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)},t}(O),Is=function(){},Os=new fe("Location Initialized"),Ds=function(){},_s=new fe("appBaseHref"),Rs=function(){function e(t){var n=this;this._subject=new $t,this._platformStrategy=t;var o=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(ws(o)),this._platformStrategy.onPopState(function(e){n._subject.emit({url:n.path(!0),pop:!0,state:e.state,type:e.type})})}return e.prototype.path=function(e){return void 0===e&&(e=!1),this.normalize(this._platformStrategy.path(e))},e.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},e.prototype.normalize=function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,ws(t)))},e.prototype.prepareExternalUrl=function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)},e.prototype.go=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",e,t)},e.prototype.replaceState=function(e,t,n){void 0===t&&(t=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",e,t)},e.prototype.forward=function(){this._platformStrategy.forward()},e.prototype.back=function(){this._platformStrategy.back()},e.prototype.subscribe=function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})},e.normalizeQueryParams=function(e){return e&&"?"!==e[0]?"?"+e:e},e.joinWithSlash=function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t},e.stripTrailingSlash=function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)},e}();function ws(e){return e.replace(/\/index.html$/,"")}var ks=function(e){function t(t,n){var o=e.call(this)||this;return o._platformLocation=t,o._baseHref="",null!=n&&(o._baseHref=n),o}return r(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t},t.prototype.prepareExternalUrl=function(e){var t=Rs.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t},t.prototype.pushState=function(e,t,n,o){var r=this.prepareExternalUrl(n+Rs.normalizeQueryParams(o));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)},t.prototype.replaceState=function(e,t,n,o){var r=this.prepareExternalUrl(n+Rs.normalizeQueryParams(o));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(Ds),Ks=function(e){function t(t,n){var o=e.call(this)||this;if(o._platformLocation=t,null==n&&(n=o._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return o._baseHref=n,o}return r(t,e),t.prototype.onPopState=function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)},t.prototype.getBaseHref=function(){return this._baseHref},t.prototype.prepareExternalUrl=function(e){return Rs.joinWithSlash(this._baseHref,e)},t.prototype.path=function(e){void 0===e&&(e=!1);var t=this._platformLocation.pathname+Rs.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?""+t+n:t},t.prototype.pushState=function(e,t,n,o){var r=this.prepareExternalUrl(n+Rs.normalizeQueryParams(o));this._platformLocation.pushState(e,t,r)},t.prototype.replaceState=function(e,t,n,o){var r=this.prepareExternalUrl(n+Rs.normalizeQueryParams(o));this._platformLocation.replaceState(e,t,r)},t.prototype.forward=function(){this._platformLocation.forward()},t.prototype.back=function(){this._platformLocation.back()},t}(Ds),Ss=void 0,Ns=["en",[["a","p"],["AM","PM"],Ss],[["AM","PM"],Ss,Ss],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ss,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ss,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ss,"{1} 'at' {0}",Ss],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}],xs={},As=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({}),Ps=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}({}),Ls=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}({}),Fs=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}({}),Ms=function(e){return e[e.Decimal=0]="Decimal",e[e.Group=1]="Group",e[e.List=2]="List",e[e.PercentSign=3]="PercentSign",e[e.PlusSign=4]="PlusSign",e[e.MinusSign=5]="MinusSign",e[e.Exponential=6]="Exponential",e[e.SuperscriptingExponent=7]="SuperscriptingExponent",e[e.PerMille=8]="PerMille",e[e[1/0]=9]="Infinity",e[e.NaN=10]="NaN",e[e.TimeSeparator=11]="TimeSeparator",e[e.CurrencyDecimal=12]="CurrencyDecimal",e[e.CurrencyGroup=13]="CurrencyGroup",e}({});function Bs(e,t){return Us(zs(e)[10],t)}function $s(e,t){return Us(zs(e)[11],t)}function Vs(e,t){return Us(zs(e)[12],t)}function Hs(e,t){var n=zs(e),o=n[13][t];if(void 0===o){if(t===Ms.CurrencyDecimal)return n[13][Ms.Decimal];if(t===Ms.CurrencyGroup)return n[13][Ms.Group]}return o}function js(e){if(!e[19])throw new Error('Missing extra locale data for the locale "'+e[0]+'". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.')}function Us(e,t){for(var n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function qs(e){var t=s(e.split(":"),2);return{hours:+t[0],minutes:+t[1]}}function zs(e){var t=e.toLowerCase().replace(/_/g,"-"),n=xs[t];if(n)return n;var o=t.split("-")[0];if(n=xs[o])return n;if("en"===o)return Ns;throw new Error('Missing locale data for the locale "'+e+'".')}var Ws=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Gs={},Xs=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Zs=function(e){return e[e.Short=0]="Short",e[e.ShortGMT=1]="ShortGMT",e[e.Long=2]="Long",e[e.Extended=3]="Extended",e}({}),Ys=function(e){return e[e.FullYear=0]="FullYear",e[e.Month=1]="Month",e[e.Date=2]="Date",e[e.Hours=3]="Hours",e[e.Minutes=4]="Minutes",e[e.Seconds=5]="Seconds",e[e.Milliseconds=6]="Milliseconds",e[e.Day=7]="Day",e}({}),Qs=function(e){return e[e.DayPeriods=0]="DayPeriods",e[e.Days=1]="Days",e[e.Months=2]="Months",e[e.Eras=3]="Eras",e}({});function Js(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function el(e,t,n,o,r){void 0===n&&(n="-");var i="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i=n));for(var a=String(e);a.length<t;)a="0"+a;return o&&(a=a.substr(a.length-t)),i+a}function tl(e,t,n,o,r){return void 0===n&&(n=0),void 0===o&&(o=!1),void 0===r&&(r=!1),function(i,a){var s=function(e,t,n){switch(e){case Ys.FullYear:return t.getFullYear();case Ys.Month:return t.getMonth();case Ys.Date:return t.getDate();case Ys.Hours:return t.getHours();case Ys.Minutes:return t.getMinutes();case Ys.Seconds:return t.getSeconds();case Ys.Milliseconds:var o=1===n?100:2===n?10:1;return Math.round(t.getMilliseconds()/o);case Ys.Day:return t.getDay();default:throw new Error('Unknown DateType value "'+e+'".')}}(e,i,t);return(n>0||s>-n)&&(s+=n),e===Ys.Hours&&0===s&&-12===n&&(s=12),el(s,t,Hs(a,Ms.MinusSign),o,r)}}function nl(e,t,n,o){return void 0===n&&(n=Ps.Format),void 0===o&&(o=!1),function(r,i){return function(e,t,n,o,r,i){switch(n){case Qs.Months:return function(e,t,n){var o=zs(e);return Us(Us([o[5],o[6]],t),n)}(t,r,o)[e.getMonth()];case Qs.Days:return function(e,t,n){var o=zs(e);return Us(Us([o[3],o[4]],t),n)}(t,r,o)[e.getDay()];case Qs.DayPeriods:var a=e.getHours(),s=e.getMinutes();if(i){var l,u=function(e){var t=zs(e);return js(t),(t[19][2]||[]).map(function(e){return"string"==typeof e?qs(e):[qs(e[0]),qs(e[1])]})}(t),c=function(e,t,n){var o=zs(e);return js(o),Us(Us([o[19][0],o[19][1]],t)||[],n)||[]}(t,r,o);if(u.forEach(function(e,t){if(Array.isArray(e)){var n=e[0],o=e[1],r=o.hours;a>=n.hours&&s>=n.minutes&&(a<r||a===r&&s<o.minutes)&&(l=c[t])}else e.hours===a&&e.minutes===s&&(l=c[t])}),l)return l}return function(e,t,n){var o=zs(e);return Us(Us([o[1],o[2]],t),n)}(t,r,o)[a<12?0:1];case Qs.Eras:return function(e,t){return Us(zs(e)[7],t)}(t,o)[e.getFullYear()<=0?0:1];default:throw new Error("unexpected translation type "+n)}}(r,i,e,t,n,o)}}function ol(e){return function(t,n,o){var r=-1*o,i=Hs(n,Ms.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case Zs.Short:return(r>=0?"+":"")+el(a,2,i)+el(Math.abs(r%60),2,i);case Zs.ShortGMT:return"GMT"+(r>=0?"+":"")+el(a,1,i);case Zs.Long:return"GMT"+(r>=0?"+":"")+el(a,2,i)+":"+el(Math.abs(r%60),2,i);case Zs.Extended:return 0===o?"Z":(r>=0?"+":"")+el(a,2,i)+":"+el(Math.abs(r%60),2,i);default:throw new Error('Unknown zone width "'+e+'"')}}}var rl=0,il=4;function al(e,t){return void 0===t&&(t=!1),function(n,o){var r,i,a,s;if(t){var l=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,u=n.getDate();r=1+Math.floor((u+l)/7)}else{var c=(a=n.getFullYear(),s=new Date(a,rl,1).getDay(),new Date(a,0,1+(s<=il?il:il+7)-s)),d=(i=n,new Date(i.getFullYear(),i.getMonth(),i.getDate()+(il-i.getDay()))).getTime()-c.getTime();r=1+Math.round(d/6048e5)}return el(r,e,Hs(o,Ms.MinusSign))}}var sl={};function ll(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ul(e){return e instanceof Date&&!isNaN(e.valueOf())}var cl=new fe("UseV4Plurals"),dl=function(){},hl=function(e){function t(t,n){var o=e.call(this)||this;return o.locale=t,o.deprecatedPluralFn=n,o}return r(t,e),t.prototype.getPluralCategory=function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return zs(e)[18]}(t||this.locale)(e)){case As.Zero:return"zero";case As.One:return"one";case As.Two:return"two";case As.Few:return"few";case As.Many:return"many";default:return"other"}},t}(dl);function fl(e,t){t=encodeURIComponent(t);try{for(var n=a(e.split(";")),o=n.next();!o.done;o=n.next()){var r=o.value,i=r.indexOf("="),l=s(-1==i?[r,""]:[r.slice(0,i),r.slice(i+1)],2),u=l[1];if(l[0].trim()===t)return decodeURIComponent(u)}}catch(e){c={error:e}}finally{try{o&&!o.done&&(d=n.return)&&d.call(n)}finally{if(c)throw c.error}}return null;var c,d}var pl=function(){function e(e,t){this._viewContainer=e,this._context=new gl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}return Object.defineProperty(e.prototype,"ngIf",{set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfThen",{set:function(e){ml("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngIfElse",{set:function(e){ml("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),e.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},e}(),gl=function(){this.$implicit=null,this.ngIf=null};function ml(e,t){if(t&&!t.createEmbeddedView)throw new Error(e+" must be a TemplateRef, but received '"+_e(t)+"'.")}var El=function(){function e(e){this.locale=e}return e.prototype.transform=function(t,n,o,r){if(void 0===n&&(n="mediumDate"),null==t||""===t||t!=t)return null;try{return function(e,t,n,o){var r=function(e){if(ul(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();var t,n=parseFloat(e);if(!isNaN(e-n))return new Date(n);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){var o=s(e.split("-").map(function(e){return+e}),3);return new Date(o[0],o[1]-1,o[2])}if(t=e.match(Ws))return function(e){var t=new Date(0),n=0,o=0,r=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),o=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));var a=Number(e[4]||0)-n,s=Number(e[5]||0)-o,l=Number(e[6]||0),u=Math.round(1e3*parseFloat("0."+(e[7]||0)));return i.call(t,a,s,l,u),t}(t)}var r=new Date(e);if(!ul(r))throw new Error('Unable to convert "'+e+'" into a date');return r}(e);t=function e(t,n){var o=function(e){return zs(e)[0]}(t);if(Gs[o]=Gs[o]||{},Gs[o][n])return Gs[o][n];var r="";switch(n){case"shortDate":r=Bs(t,Fs.Short);break;case"mediumDate":r=Bs(t,Fs.Medium);break;case"longDate":r=Bs(t,Fs.Long);break;case"fullDate":r=Bs(t,Fs.Full);break;case"shortTime":r=$s(t,Fs.Short);break;case"mediumTime":r=$s(t,Fs.Medium);break;case"longTime":r=$s(t,Fs.Long);break;case"fullTime":r=$s(t,Fs.Full);break;case"short":var i=e(t,"shortTime"),a=e(t,"shortDate");r=Js(Vs(t,Fs.Short),[i,a]);break;case"medium":var s=e(t,"mediumTime"),l=e(t,"mediumDate");r=Js(Vs(t,Fs.Medium),[s,l]);break;case"long":var u=e(t,"longTime"),c=e(t,"longDate");r=Js(Vs(t,Fs.Long),[u,c]);break;case"full":var d=e(t,"fullTime"),h=e(t,"fullDate");r=Js(Vs(t,Fs.Full),[d,h])}return r&&(Gs[o][n]=r),r}(n,t)||t;for(var i,a=[];t;){if(!(i=Xs.exec(t))){a.push(t);break}var l=(a=a.concat(i.slice(1))).pop();if(!l)break;t=l}var u=r.getTimezoneOffset();o&&(u=ll(o,u),r=function(e,t,n){var o=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(ll(t,o)-o))}(r,o));var c="";return a.forEach(function(e){var t=function(e){if(sl[e])return sl[e];var t;switch(e){case"G":case"GG":case"GGG":t=nl(Qs.Eras,Ls.Abbreviated);break;case"GGGG":t=nl(Qs.Eras,Ls.Wide);break;case"GGGGG":t=nl(Qs.Eras,Ls.Narrow);break;case"y":t=tl(Ys.FullYear,1,0,!1,!0);break;case"yy":t=tl(Ys.FullYear,2,0,!0,!0);break;case"yyy":t=tl(Ys.FullYear,3,0,!1,!0);break;case"yyyy":t=tl(Ys.FullYear,4,0,!1,!0);break;case"M":case"L":t=tl(Ys.Month,1,1);break;case"MM":case"LL":t=tl(Ys.Month,2,1);break;case"MMM":t=nl(Qs.Months,Ls.Abbreviated);break;case"MMMM":t=nl(Qs.Months,Ls.Wide);break;case"MMMMM":t=nl(Qs.Months,Ls.Narrow);break;case"LLL":t=nl(Qs.Months,Ls.Abbreviated,Ps.Standalone);break;case"LLLL":t=nl(Qs.Months,Ls.Wide,Ps.Standalone);break;case"LLLLL":t=nl(Qs.Months,Ls.Narrow,Ps.Standalone);break;case"w":t=al(1);break;case"ww":t=al(2);break;case"W":t=al(1,!0);break;case"d":t=tl(Ys.Date,1);break;case"dd":t=tl(Ys.Date,2);break;case"E":case"EE":case"EEE":t=nl(Qs.Days,Ls.Abbreviated);break;case"EEEE":t=nl(Qs.Days,Ls.Wide);break;case"EEEEE":t=nl(Qs.Days,Ls.Narrow);break;case"EEEEEE":t=nl(Qs.Days,Ls.Short);break;case"a":case"aa":case"aaa":t=nl(Qs.DayPeriods,Ls.Abbreviated);break;case"aaaa":t=nl(Qs.DayPeriods,Ls.Wide);break;case"aaaaa":t=nl(Qs.DayPeriods,Ls.Narrow);break;case"b":case"bb":case"bbb":t=nl(Qs.DayPeriods,Ls.Abbreviated,Ps.Standalone,!0);break;case"bbbb":t=nl(Qs.DayPeriods,Ls.Wide,Ps.Standalone,!0);break;case"bbbbb":t=nl(Qs.DayPeriods,Ls.Narrow,Ps.Standalone,!0);break;case"B":case"BB":case"BBB":t=nl(Qs.DayPeriods,Ls.Abbreviated,Ps.Format,!0);break;case"BBBB":t=nl(Qs.DayPeriods,Ls.Wide,Ps.Format,!0);break;case"BBBBB":t=nl(Qs.DayPeriods,Ls.Narrow,Ps.Format,!0);break;case"h":t=tl(Ys.Hours,1,-12);break;case"hh":t=tl(Ys.Hours,2,-12);break;case"H":t=tl(Ys.Hours,1);break;case"HH":t=tl(Ys.Hours,2);break;case"m":t=tl(Ys.Minutes,1);break;case"mm":t=tl(Ys.Minutes,2);break;case"s":t=tl(Ys.Seconds,1);break;case"ss":t=tl(Ys.Seconds,2);break;case"S":t=tl(Ys.Milliseconds,1);break;case"SS":t=tl(Ys.Milliseconds,2);break;case"SSS":t=tl(Ys.Milliseconds,3);break;case"Z":case"ZZ":case"ZZZ":t=ol(Zs.Short);break;case"ZZZZZ":t=ol(Zs.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=ol(Zs.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=ol(Zs.Long);break;default:return null}return sl[e]=t,t}(e);c+=t?t(r,n,u):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}(t,n,r||this.locale,o)}catch(t){throw Error("InvalidPipeArgument: '"+t.message+"' for pipe '"+_e(e)+"'")}},e}(),vl=function(){function e(){}return e.prototype.transform=function(e){return JSON.stringify(e,null,2)},e}(),Tl=function(){},Cl=new fe("DocumentToken"),yl="server",bl=function(){},Il=function(){},Ol=function(){function e(e){var t=this;this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){t.headers=new Map,e.split("\n").forEach(function(e){var n=e.indexOf(":");if(n>0){var o=e.slice(0,n),r=o.toLowerCase(),i=e.slice(n+1).trim();t.maybeSetNormalizedName(o,r),t.headers.has(r)?t.headers.get(r).push(i):t.headers.set(r,[i])}})}:function(){t.headers=new Map,Object.keys(e).forEach(function(n){var o=e[n],r=n.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(t.headers.set(r,o),t.maybeSetNormalizedName(n,r))})}:this.headers=new Map}return e.prototype.has=function(e){return this.init(),this.headers.has(e.toLowerCase())},e.prototype.get=function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null},e.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},e.prototype.getAll=function(e){return this.init(),this.headers.get(e.toLowerCase())||null},e.prototype.append=function(e,t){return this.clone({name:e,value:t,op:"a"})},e.prototype.set=function(e,t){return this.clone({name:e,value:t,op:"s"})},e.prototype.delete=function(e,t){return this.clone({name:e,value:t,op:"d"})},e.prototype.maybeSetNormalizedName=function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)},e.prototype.init=function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(e){return t.applyUpdate(e)}),this.lazyUpdate=null))},e.prototype.copyFrom=function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach(function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))})},e.prototype.clone=function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n},e.prototype.applyUpdate=function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var o=("a"===e.op?this.headers.get(t):void 0)||[];o.push.apply(o,l(n)),this.headers.set(t,o);break;case"d":var r=e.value;if(r){var i=this.headers.get(t);if(!i)return;0===(i=i.filter(function(e){return-1===r.indexOf(e)})).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,i)}else this.headers.delete(t),this.normalizedNames.delete(t)}},e.prototype.forEach=function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return e(t.normalizedNames.get(n),t.headers.get(n))})},e}(),Dl=function(){function e(){}return e.prototype.encodeKey=function(e){return _l(e)},e.prototype.encodeValue=function(e){return _l(e)},e.prototype.decodeKey=function(e){return decodeURIComponent(e)},e.prototype.decodeValue=function(e){return decodeURIComponent(e)},e}();function _l(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Rl=function(){function e(e){void 0===e&&(e={});var t,n,o,r=this;if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Dl,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(t=e.fromString,n=this.encoder,o=new Map,t.length>0&&t.split("&").forEach(function(e){var t=e.indexOf("="),r=s(-1==t?[n.decodeKey(e),""]:[n.decodeKey(e.slice(0,t)),n.decodeValue(e.slice(t+1))],2),i=r[0],a=r[1],l=o.get(i)||[];l.push(a),o.set(i,l)}),o)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(function(t){var n=e.fromObject[t];r.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}return e.prototype.has=function(e){return this.init(),this.map.has(e)},e.prototype.get=function(e){this.init();var t=this.map.get(e);return t?t[0]:null},e.prototype.getAll=function(e){return this.init(),this.map.get(e)||null},e.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},e.prototype.append=function(e,t){return this.clone({param:e,value:t,op:"a"})},e.prototype.set=function(e,t){return this.clone({param:e,value:t,op:"s"})},e.prototype.delete=function(e,t){return this.clone({param:e,value:t,op:"d"})},e.prototype.toString=function(){var e=this;return this.init(),this.keys().map(function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map(function(t){return n+"="+e.encoder.encodeValue(t)}).join("&")}).join("&")},e.prototype.clone=function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n},e.prototype.init=function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(t){return e.map.set(t,e.cloneFrom.map.get(t))}),this.updates.forEach(function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var o=e.map.get(t.param)||[],r=o.indexOf(t.value);-1!==r&&o.splice(r,1),o.length>0?e.map.set(t.param,o):e.map.delete(t.param)}}),this.cloneFrom=null)},e}();function wl(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function kl(e){return"undefined"!=typeof Blob&&e instanceof Blob}function Kl(e){return"undefined"!=typeof FormData&&e instanceof FormData}var Sl=function(){function e(e,t,n,o){var r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||o?(this.body=void 0!==n?n:null,r=o):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new Ol),this.params){var i=this.params.toString();if(0===i.length)this.urlWithParams=t;else{var a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+i}}else this.params=new Rl,this.urlWithParams=t}return e.prototype.serializeBody=function(){return null===this.body?null:wl(this.body)||kl(this.body)||Kl(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},e.prototype.detectContentTypeHeader=function(){return null===this.body?null:Kl(this.body)?null:kl(this.body)?this.body.type||null:wl(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},e.prototype.clone=function(t){void 0===t&&(t={});var n=t.method||this.method,o=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,l=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce(function(e,n){return e.set(n,t.setHeaders[n])},l)),t.setParams&&(u=Object.keys(t.setParams).reduce(function(e,n){return e.set(n,t.setParams[n])},u)),new e(n,o,i,{params:u,headers:l,reportProgress:s,responseType:r,withCredentials:a})},e}(),Nl=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({}),xl=function(){return function(e,t,n){void 0===t&&(t=200),void 0===n&&(n="OK"),this.headers=e.headers||new Ol,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}(),Al=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.type=Nl.ResponseHeader,n}return r(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(xl),Pl=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n.type=Nl.Response,n.body=void 0!==t.body?t.body:null,n}return r(t,e),t.prototype.clone=function(e){return void 0===e&&(e={}),new t({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})},t}(xl),Ll=function(e){function t(t){var n=e.call(this,t,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(t.url||"(unknown url)"):"Http failure response for "+(t.url||"(unknown url)")+": "+t.status+" "+t.statusText,n.error=t.error||null,n}return r(t,e),t}(xl);function Fl(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var Ml=function(){function e(e){this.handler=e}return e.prototype.request=function(e,t,n){var o,r=this;if(void 0===n&&(n={}),e instanceof Sl)o=e;else{var i;i=n.headers instanceof Ol?n.headers:new Ol(n.headers);var a=void 0;n.params&&(a=n.params instanceof Rl?n.params:new Rl({fromObject:n.params})),o=new Sl(e,t,void 0!==n.body?n.body:null,{headers:i,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var s=vs(o).pipe(Ts(function(e){return r.handler.handle(e)}));if(e instanceof Sl||"events"===n.observe)return s;var l=s.pipe(Cs(function(e){return e instanceof Pl}));switch(n.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(U(function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return l.pipe(U(function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return l.pipe(U(function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return l.pipe(U(function(e){return e.body}))}case"response":return l;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},e.prototype.delete=function(e,t){return void 0===t&&(t={}),this.request("DELETE",e,t)},e.prototype.get=function(e,t){return void 0===t&&(t={}),this.request("GET",e,t)},e.prototype.head=function(e,t){return void 0===t&&(t={}),this.request("HEAD",e,t)},e.prototype.jsonp=function(e,t){return this.request("JSONP",e,{params:(new Rl).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},e.prototype.options=function(e,t){return void 0===t&&(t={}),this.request("OPTIONS",e,t)},e.prototype.patch=function(e,t,n){return void 0===n&&(n={}),this.request("PATCH",e,Fl(n,t))},e.prototype.post=function(e,t,n){return void 0===n&&(n={}),this.request("POST",e,Fl(n,t))},e.prototype.put=function(e,t,n){return void 0===n&&(n={}),this.request("PUT",e,Fl(n,t))},e}(),Bl=function(){function e(e,t){this.next=e,this.interceptor=t}return e.prototype.handle=function(e){return this.interceptor.intercept(e,this.next)},e}(),$l=new fe("HTTP_INTERCEPTORS"),Vl=function(){function e(){}return e.prototype.intercept=function(e,t){return t.handle(e)},e}(),Hl=/^\)\]\}',?\n/,jl=function(){},Ul=function(){function e(){}return e.prototype.build=function(){return new XMLHttpRequest},e}(),ql=function(){function e(e){this.xhrFactory=e}return e.prototype.handle=function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new K(function(n){var o=t.xhrFactory.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach(function(e,t){return o.setRequestHeader(e,t.join(","))}),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var r=e.detectContentTypeHeader();null!==r&&o.setRequestHeader("Content-Type",r)}if(e.responseType){var i=e.responseType.toLowerCase();o.responseType="json"!==i?i:"text"}var a=e.serializeBody(),s=null,l=function(){if(null!==s)return s;var t=1223===o.status?204:o.status,n=o.statusText||"OK",r=new Ol(o.getAllResponseHeaders()),i=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(o)||e.url;return s=new Al({headers:r,status:t,statusText:n,url:i})},u=function(){var t=l(),r=t.headers,i=t.status,a=t.statusText,s=t.url,u=null;204!==i&&(u=void 0===o.response?o.responseText:o.response),0===i&&(i=u?200:0);var c=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof u){var d=u;u=u.replace(Hl,"");try{u=""!==u?JSON.parse(u):null}catch(e){u=d,c&&(c=!1,u={error:e,text:u})}}c?(n.next(new Pl({body:u,headers:r,status:i,statusText:a,url:s||void 0})),n.complete()):n.error(new Ll({error:u,headers:r,status:i,statusText:a,url:s||void 0}))},c=function(e){var t=new Ll({error:e,status:o.status||0,statusText:o.statusText||"Unknown Error"});n.error(t)},d=!1,h=function(t){d||(n.next(l()),d=!0);var r={type:Nl.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(r.total=t.total),"text"===e.responseType&&o.responseText&&(r.partialText=o.responseText),n.next(r)},f=function(e){var t={type:Nl.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return o.addEventListener("load",u),o.addEventListener("error",c),e.reportProgress&&(o.addEventListener("progress",h),null!==a&&o.upload&&o.upload.addEventListener("progress",f)),o.send(a),n.next({type:Nl.Sent}),function(){o.removeEventListener("error",c),o.removeEventListener("load",u),e.reportProgress&&(o.removeEventListener("progress",h),null!==a&&o.upload&&o.upload.removeEventListener("progress",f)),o.abort()}})},e}(),zl=new fe("XSRF_COOKIE_NAME"),Wl=new fe("XSRF_HEADER_NAME"),Gl=function(){},Xl=function(){function e(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return e.prototype.getToken=function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=fl(e,this.cookieName),this.lastCookieString=e),this.lastToken},e}(),Zl=function(){function e(e,t){this.tokenService=e,this.headerName=t}return e.prototype.intercept=function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var o=this.tokenService.getToken();return null===o||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,o)})),t.handle(e)},e}(),Yl=function(){function e(e,t){this.backend=e,this.injector=t,this.chain=null}return e.prototype.handle=function(e){if(null===this.chain){var t=this.injector.get($l,[]);this.chain=t.reduceRight(function(e,t){return new Bl(e,t)},this.backend)}return this.chain.handle(e)},e}(),Ql=function(){function e(){}return e.disable=function(){return{ngModule:e,providers:[{provide:Zl,useClass:Vl}]}},e.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:zl,useValue:t.cookieName}:[],t.headerName?{provide:Wl,useValue:t.headerName}:[]]}},e}(),Jl=function(){},eu=function(){function e(e){this.http=e,this.baseUrl="http://proprius.co.nz/api/public/api",this.headers1=new Ol({Authorization:"Bearer "+localStorage.getItem("lsaToken_access")})}return e.prototype.getResource=function(e){return this.id=localStorage.getItem("lsaUserId"),console.log(this.id),this.tutorProfile=this.http.get(this.baseUrl+"/tutors/"+this.id+"/postresources/"+e,{headers:this.headers1}),this.tutorProfile},e.prototype.getDashboardProfile=function(){return this.id=localStorage.getItem("lsaUserId"),console.log(this.id),this.tutorProfile=this.http.get(this.baseUrl+"/tutorsedit/"+this.id,{headers:this.headers1}),this.tutorProfile},e.prototype.newPost2=function(e){return console.log(e),this.id=localStorage.getItem("lsaUserId"),this.http.post(this.baseUrl+"/tutors/"+this.id+"/resourcepost",e,{headers:this.headers1})},e.ngInjectableDef=he({factory:function(){return new e(Je(Ml))},token:e,providedIn:"root"}),e}(),tu=function(e){function t(t,n){var o=e.call(this,t)||this;o.sources=n,o.completed=0,o.haveValues=0;var r=n.length;o.values=new Array(r);for(var i=0;i<r;i++){var a=H(o,n[i],null,i);a&&o.add(a)}return o}return r(t,e),t.prototype.notifyNext=function(e,t,n,o,r){this.values[n]=t,r._hasValue||(r._hasValue=!0,this.haveValues++)},t.prototype.notifyComplete=function(e){var t=this.destination,n=this.haveValues,o=this.values,r=o.length;e._hasValue?(this.completed++,this.completed===r&&(n===r&&t.next(o),t.complete())):t.complete()},t}(j),nu=null;function ou(){return nu}var ru,iu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},au={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},su={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};Ce.Node&&(ru=Ce.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});var lu,uu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.parse=function(e){throw new Error("parse not implemented")},t.makeCurrent=function(){var e;e=new t,nu||(nu=e)},t.prototype.hasProperty=function(e,t){return t in e},t.prototype.setProperty=function(e,t,n){e[t]=n},t.prototype.getProperty=function(e,t){return e[t]},t.prototype.invoke=function(e,t,n){var o;(o=e)[t].apply(o,l(n))},t.prototype.logError=function(e){window.console&&(console.error?console.error(e):console.log(e))},t.prototype.log=function(e){window.console&&window.console.log&&window.console.log(e)},t.prototype.logGroup=function(e){window.console&&window.console.group&&window.console.group(e)},t.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return iu},enumerable:!0,configurable:!0}),t.prototype.contains=function(e,t){return ru.call(e,t)},t.prototype.querySelector=function(e,t){return e.querySelector(t)},t.prototype.querySelectorAll=function(e,t){return e.querySelectorAll(t)},t.prototype.on=function(e,t,n){e.addEventListener(t,n,!1)},t.prototype.onAndCancel=function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}},t.prototype.dispatchEvent=function(e,t){e.dispatchEvent(t)},t.prototype.createMouseEvent=function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t},t.prototype.createEvent=function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t},t.prototype.preventDefault=function(e){e.preventDefault(),e.returnValue=!1},t.prototype.isPrevented=function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue},t.prototype.getInnerHTML=function(e){return e.innerHTML},t.prototype.getTemplateContent=function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null},t.prototype.getOuterHTML=function(e){return e.outerHTML},t.prototype.nodeName=function(e){return e.nodeName},t.prototype.nodeValue=function(e){return e.nodeValue},t.prototype.type=function(e){return e.type},t.prototype.content=function(e){return this.hasProperty(e,"content")?e.content:e},t.prototype.firstChild=function(e){return e.firstChild},t.prototype.nextSibling=function(e){return e.nextSibling},t.prototype.parentElement=function(e){return e.parentNode},t.prototype.childNodes=function(e){return e.childNodes},t.prototype.childNodesAsList=function(e){for(var t=e.childNodes,n=new Array(t.length),o=0;o<t.length;o++)n[o]=t[o];return n},t.prototype.clearNodes=function(e){for(;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.appendChild=function(e,t){e.appendChild(t)},t.prototype.removeChild=function(e,t){e.removeChild(t)},t.prototype.replaceChild=function(e,t,n){e.replaceChild(t,n)},t.prototype.remove=function(e){return e.parentNode&&e.parentNode.removeChild(e),e},t.prototype.insertBefore=function(e,t,n){e.insertBefore(n,t)},t.prototype.insertAllBefore=function(e,t,n){n.forEach(function(n){return e.insertBefore(n,t)})},t.prototype.insertAfter=function(e,t,n){e.insertBefore(n,t.nextSibling)},t.prototype.setInnerHTML=function(e,t){e.innerHTML=t},t.prototype.getText=function(e){return e.textContent},t.prototype.setText=function(e,t){e.textContent=t},t.prototype.getValue=function(e){return e.value},t.prototype.setValue=function(e,t){e.value=t},t.prototype.getChecked=function(e){return e.checked},t.prototype.setChecked=function(e,t){e.checked=t},t.prototype.createComment=function(e){return this.getDefaultDocument().createComment(e)},t.prototype.createTemplate=function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t},t.prototype.createElement=function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)},t.prototype.createElementNS=function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)},t.prototype.createTextNode=function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)},t.prototype.createScriptTag=function(e,t,n){var o=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return o.setAttribute(e,t),o},t.prototype.createStyleElement=function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n},t.prototype.createShadowRoot=function(e){return e.createShadowRoot()},t.prototype.getShadowRoot=function(e){return e.shadowRoot},t.prototype.getHost=function(e){return e.host},t.prototype.clone=function(e){return e.cloneNode(!0)},t.prototype.getElementsByClassName=function(e,t){return e.getElementsByClassName(t)},t.prototype.getElementsByTagName=function(e,t){return e.getElementsByTagName(t)},t.prototype.classList=function(e){return Array.prototype.slice.call(e.classList,0)},t.prototype.addClass=function(e,t){e.classList.add(t)},t.prototype.removeClass=function(e,t){e.classList.remove(t)},t.prototype.hasClass=function(e,t){return e.classList.contains(t)},t.prototype.setStyle=function(e,t,n){e.style[t]=n},t.prototype.removeStyle=function(e,t){e.style[t]=""},t.prototype.getStyle=function(e,t){return e.style[t]},t.prototype.hasStyle=function(e,t,n){var o=this.getStyle(e,t)||"";return n?o==n:o.length>0},t.prototype.tagName=function(e){return e.tagName},t.prototype.attributeMap=function(e){for(var t=new Map,n=e.attributes,o=0;o<n.length;o++){var r=n.item(o);t.set(r.name,r.value)}return t},t.prototype.hasAttribute=function(e,t){return e.hasAttribute(t)},t.prototype.hasAttributeNS=function(e,t,n){return e.hasAttributeNS(t,n)},t.prototype.getAttribute=function(e,t){return e.getAttribute(t)},t.prototype.getAttributeNS=function(e,t,n){return e.getAttributeNS(t,n)},t.prototype.setAttribute=function(e,t,n){e.setAttribute(t,n)},t.prototype.setAttributeNS=function(e,t,n,o){e.setAttributeNS(t,n,o)},t.prototype.removeAttribute=function(e,t){e.removeAttribute(t)},t.prototype.removeAttributeNS=function(e,t,n){e.removeAttributeNS(t,n)},t.prototype.templateAwareRoot=function(e){return this.isTemplateElement(e)?this.content(e):e},t.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},t.prototype.getDefaultDocument=function(){return document},t.prototype.getBoundingClientRect=function(e){try{return e.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},t.prototype.getTitle=function(e){return e.title},t.prototype.setTitle=function(e,t){e.title=t||""},t.prototype.elementMatches=function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))},t.prototype.isTemplateElement=function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName},t.prototype.isTextNode=function(e){return e.nodeType===Node.TEXT_NODE},t.prototype.isCommentNode=function(e){return e.nodeType===Node.COMMENT_NODE},t.prototype.isElementNode=function(e){return e.nodeType===Node.ELEMENT_NODE},t.prototype.hasShadowRoot=function(e){return null!=e.shadowRoot&&e instanceof HTMLElement},t.prototype.isShadowRoot=function(e){return e instanceof DocumentFragment},t.prototype.importIntoDoc=function(e){return document.importNode(this.templateAwareRoot(e),!0)},t.prototype.adoptNode=function(e){return document.adoptNode(e)},t.prototype.getHref=function(e){return e.getAttribute("href")},t.prototype.getEventKey=function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&su.hasOwnProperty(t)&&(t=su[t]))}return au[t]||t},t.prototype.getGlobalEventTarget=function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null},t.prototype.getHistory=function(){return window.history},t.prototype.getLocation=function(){return window.location},t.prototype.getBaseHref=function(e){var t,n=cu||(cu=document.querySelector("base"))?cu.getAttribute("href"):null;return null==n?null:(t=n,lu||(lu=document.createElement("a")),lu.setAttribute("href",t),"/"===lu.pathname.charAt(0)?lu.pathname:"/"+lu.pathname)},t.prototype.resetBaseElement=function(){cu=null},t.prototype.getUserAgent=function(){return window.navigator.userAgent},t.prototype.setData=function(e,t,n){this.setAttribute(e,"data-"+t,n)},t.prototype.getData=function(e,t){return this.getAttribute(e,"data-"+t)},t.prototype.getComputedStyle=function(e){return getComputedStyle(e)},t.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},t.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.prototype.supportsCookies=function(){return!0},t.prototype.getCookie=function(e){return fl(document.cookie,e)},t.prototype.setCookie=function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)},t}(function(e){function t(){var t=e.call(this)||this;t._animationPrefix=null,t._transitionEnd=null;try{var n=t.createElement("div",document);if(null!=t.getStyle(n,"animationName"))t._animationPrefix="";else for(var o=["Webkit","Moz","O","ms"],r=0;r<o.length;r++)if(null!=t.getStyle(n,o[r]+"AnimationName")){t._animationPrefix="-"+o[r].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(function(e){null!=t.getStyle(n,e)&&(t._transitionEnd=i[e])})}catch(e){t._animationPrefix=null,t._transitionEnd=null}return t}return r(t,e),t.prototype.getDistributedNodes=function(e){return e.getDistributedNodes()},t.prototype.resolveAndSetHref=function(e,t,n){e.href=null==n?t:t+"/../"+n},t.prototype.supportsDOMEvents=function(){return!0},t.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},t.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},t.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},t.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},t}(function(){function e(){this.resourceLoaderType=null}return Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e},enumerable:!0,configurable:!0}),e}())),cu=null,du=Cl;function hu(){return!!window.history.pushState}var fu=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._init(),n}return r(t,e),t.prototype._init=function(){this.location=ou().getLocation(),this._history=ou().getHistory()},t.prototype.getBaseHrefFromDOM=function(){return ou().getBaseHref(this._doc)},t.prototype.onPopState=function(e){ou().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)},t.prototype.onHashChange=function(e){ou().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)},Object.defineProperty(t.prototype,"pathname",{get:function(){return this.location.pathname},set:function(e){this.location.pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),t.prototype.pushState=function(e,t,n){hu()?this._history.pushState(e,t,n):this.location.hash=n},t.prototype.replaceState=function(e,t,n){hu()?this._history.replaceState(e,t,n):this.location.hash=n},t.prototype.forward=function(){this._history.forward()},t.prototype.back=function(){this._history.back()},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:ke,args:[du]}]}]},t}(Is),pu=function(){function e(e){this._doc=e,this._dom=ou()}return e.prototype.addTag=function(e,t){return void 0===t&&(t=!1),e?this._getOrCreateElement(e,t):null},e.prototype.addTags=function(e,t){var n=this;return void 0===t&&(t=!1),e?e.reduce(function(e,o){return o&&e.push(n._getOrCreateElement(o,t)),e},[]):[]},e.prototype.getTag=function(e){return e&&this._dom.querySelector(this._doc,"meta["+e+"]")||null},e.prototype.getTags=function(e){if(!e)return[];var t=this._dom.querySelectorAll(this._doc,"meta["+e+"]");return t?[].slice.call(t):[]},e.prototype.updateTag=function(e,t){if(!e)return null;t=t||this._parseSelector(e);var n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)},e.prototype.removeTag=function(e){this.removeTagElement(this.getTag(e))},e.prototype.removeTagElement=function(e){e&&this._dom.remove(e)},e.prototype._getOrCreateElement=function(e,t){if(void 0===t&&(t=!1),!t){var n=this._parseSelector(e),o=this.getTag(n);if(o&&this._containsAttributes(e,o))return o}var r=this._dom.createElement("meta");this._setMetaElementAttributes(e,r);var i=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(i,r),r},e.prototype._setMetaElementAttributes=function(e,t){var n=this;return Object.keys(e).forEach(function(o){return n._dom.setAttribute(t,o,e[o])}),t},e.prototype._parseSelector=function(e){var t=e.name?"name":"property";return t+'="'+e[t]+'"'},e.prototype._containsAttributes=function(e,t){var n=this;return Object.keys(e).every(function(o){return n._dom.getAttribute(t,o)===e[o]})},e}(),gu=new fe("TRANSITION_ID"),mu=[{provide:ft,useFactory:function(e,t,n){return function(){n.get(pt).donePromise.then(function(){var n=ou();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(function(t){return n.getAttribute(t,"ng-transition")===e}).forEach(function(e){return n.remove(e)})})}},deps:[gu,du,Fe],multi:!0}],Eu=function(){function e(){}return e.init=function(){var t;t=new e,Yt=t},e.prototype.addToWindow=function(e){Ce.getAngularTestability=function(t,n){void 0===n&&(n=!0);var o=e.findTestabilityInTree(t,n);if(null==o)throw new Error("Could not find testability for element.");return o},Ce.getAllAngularTestabilities=function(){return e.getAllTestabilities()},Ce.getAllAngularRootElements=function(){return e.getAllRootElements()},Ce.frameworkStabilizers||(Ce.frameworkStabilizers=[]),Ce.frameworkStabilizers.push(function(e){var t=Ce.getAllAngularTestabilities(),n=t.length,o=!1,r=function(t){o=o||t,0==--n&&e(o)};t.forEach(function(e){e.whenStable(r)})})},e.prototype.findTestabilityInTree=function(e,t,n){if(null==t)return null;var o=e.getTestability(t);return null!=o?o:n?ou().isShadowRoot(t)?this.findTestabilityInTree(e,ou().getHost(t),!0):this.findTestabilityInTree(e,ou().parentElement(t),!0):null},e}(),vu=function(){function e(e){this._doc=e}return e.prototype.getTitle=function(){return ou().getTitle(this._doc)},e.prototype.setTitle=function(e){ou().setTitle(this._doc,e)},e}();function Tu(e,t){"undefined"!=typeof COMPILED&&COMPILED||((Ce.ng=Ce.ng||{})[e]=t)}var Cu={ApplicationRef:ln,NgZone:Vt};function yu(e){return _n(e)}var bu=new fe("EventManagerPlugins"),Iu=function(){function e(e,t){var n=this;this._zone=t,this._eventNameToPlugin=new Map,e.forEach(function(e){return e.manager=n}),this._plugins=e.slice().reverse()}return e.prototype.addEventListener=function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)},e.prototype.addGlobalEventListener=function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)},e.prototype.getZone=function(){return this._zone},e.prototype._findPluginFor=function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,o=0;o<n.length;o++){var r=n[o];if(r.supports(e))return this._eventNameToPlugin.set(e,r),r}throw new Error("No event manager plugin found for event "+e)},e}(),Ou=function(){function e(e){this._doc=e}return e.prototype.addGlobalEventListener=function(e,t,n){var o=ou().getGlobalEventTarget(this._doc,e);if(!o)throw new Error("Unsupported event target "+o+" for event "+t);return this.addEventListener(o,t,n)},e}(),Du=function(){function e(){this._stylesSet=new Set}return e.prototype.addStyles=function(e){var t=this,n=new Set;e.forEach(function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))}),this.onStylesAdded(n)},e.prototype.onStylesAdded=function(e){},e.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},e}(),_u=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(t.head),n}return r(t,e),t.prototype._addStylesToHost=function(e,t){var n=this;e.forEach(function(e){var o=n._doc.createElement("style");o.textContent=e,n._styleNodes.add(t.appendChild(o))})},t.prototype.addHost=function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)},t.prototype.removeHost=function(e){this._hostNodes.delete(e)},t.prototype.onStylesAdded=function(e){var t=this;this._hostNodes.forEach(function(n){return t._addStylesToHost(e,n)})},t.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(e){return ou().remove(e)})},t}(Du),Ru={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},wu=/%COMP%/g,ku="_nghost-%COMP%",Ku="_ngcontent-%COMP%";function Su(e,t,n){for(var o=0;o<t.length;o++){var r=t[o];Array.isArray(r)?Su(e,r,n):(r=r.replace(wu,e),n.push(r))}return n}function Nu(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var xu=function(){function e(e,t){this.eventManager=e,this.sharedStylesHost=t,this.rendererByCompId=new Map,this.defaultRenderer=new Au(e)}return e.prototype.createRenderer=function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case et.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Mu(this.eventManager,this.sharedStylesHost,t),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case et.Native:return new Bu(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var o=Su(t.id,t.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}},e.prototype.begin=function(){},e.prototype.end=function(){},e}(),Au=function(){function e(e){this.eventManager=e,this.data=Object.create(null)}return e.prototype.destroy=function(){},e.prototype.createElement=function(e,t){return t?document.createElementNS(Ru[t],e):document.createElement(e)},e.prototype.createComment=function(e){return document.createComment(e)},e.prototype.createText=function(e){return document.createTextNode(e)},e.prototype.appendChild=function(e,t){e.appendChild(t)},e.prototype.insertBefore=function(e,t,n){e&&e.insertBefore(t,n)},e.prototype.removeChild=function(e,t){e&&e.removeChild(t)},e.prototype.selectRootElement=function(e){var t="string"==typeof e?document.querySelector(e):e;if(!t)throw new Error('The selector "'+e+'" did not match any elements');return t.textContent="",t},e.prototype.parentNode=function(e){return e.parentNode},e.prototype.nextSibling=function(e){return e.nextSibling},e.prototype.setAttribute=function(e,t,n,o){if(o){t=o+":"+t;var r=Ru[o];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)},e.prototype.removeAttribute=function(e,t,n){if(n){var o=Ru[n];o?e.removeAttributeNS(o,t):e.removeAttribute(n+":"+t)}else e.removeAttribute(t)},e.prototype.addClass=function(e,t){e.classList.add(t)},e.prototype.removeClass=function(e,t){e.classList.remove(t)},e.prototype.setStyle=function(e,t,n,o){o&dn.DashCase?e.style.setProperty(t,n,o&dn.Important?"important":""):e.style[t]=n},e.prototype.removeStyle=function(e,t,n){n&dn.DashCase?e.style.removeProperty(t):e.style[t]=""},e.prototype.setProperty=function(e,t,n){Lu(t,"property"),e[t]=n},e.prototype.setValue=function(e,t){e.nodeValue=t},e.prototype.listen=function(e,t,n){return Lu(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Nu(n)):this.eventManager.addEventListener(e,t,Nu(n))},e}(),Pu="@".charCodeAt(0);function Lu(e,t){if(e.charCodeAt(0)===Pu)throw new Error("Found the synthetic "+t+" "+e+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Fu,Mu=function(e){function t(t,n,o){var r=e.call(this,t)||this;r.component=o;var i=Su(o.id,o.styles,[]);return n.addStyles(i),r.contentAttr=Ku.replace(wu,o.id),r.hostAttr=ku.replace(wu,o.id),r}return r(t,e),t.prototype.applyToHost=function(t){e.prototype.setAttribute.call(this,t,this.hostAttr,"")},t.prototype.createElement=function(t,n){var o=e.prototype.createElement.call(this,t,n);return e.prototype.setAttribute.call(this,o,this.contentAttr,""),o},t}(Au),Bu=function(e){function t(t,n,o,r){var i=e.call(this,t)||this;i.sharedStylesHost=n,i.hostEl=o,i.component=r,i.shadowRoot=o.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var a=Su(r.id,r.styles,[]),s=0;s<a.length;s++){var l=document.createElement("style");l.textContent=a[s],i.shadowRoot.appendChild(l)}return i}return r(t,e),t.prototype.nodeOrShadowRoot=function(e){return e===this.hostEl?this.shadowRoot:e},t.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},t.prototype.appendChild=function(t,n){return e.prototype.appendChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.insertBefore=function(t,n,o){return e.prototype.insertBefore.call(this,this.nodeOrShadowRoot(t),n,o)},t.prototype.removeChild=function(t,n){return e.prototype.removeChild.call(this,this.nodeOrShadowRoot(t),n)},t.prototype.parentNode=function(t){return this.nodeOrShadowRoot(e.prototype.parentNode.call(this,this.nodeOrShadowRoot(t)))},t}(Au),$u="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},Vu=$u("addEventListener"),Hu=$u("removeEventListener"),ju={},Uu="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[$u("BLACK_LISTED_EVENTS")]&&(Fu={});var qu=function(e){return!!Fu&&Fu.hasOwnProperty(e)},zu=function(e){var t=ju[e.type];if(t){var n=this[t];if(n){var o=[e];if(1===n.length)return(a=n[0]).zone!==Zone.current?a.zone.run(a.handler,this,o):a.handler.apply(this,o);for(var r=n.slice(),i=0;i<r.length&&!0!==e[Uu];i++){var a;(a=r[i]).zone!==Zone.current?a.zone.run(a.handler,this,o):a.handler.apply(this,o)}}}},Wu=function(e){function t(t,n,o){var r=e.call(this,t)||this;return r.ngZone=n,o&&function(e){return e===yl}(o)||r.patchEvent(),r}return r(t,e),t.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Uu]=!0),e&&e.apply(this,arguments)}}},t.prototype.supports=function(e){return!0},t.prototype.addEventListener=function(e,t,n){var o=this,r=n;if(!e[Vu]||Vt.isInAngularZone()&&!qu(t))e.addEventListener(t,r,!1);else{var i=ju[t];i||(i=ju[t]=$u("ANGULAR"+t+"FALSE"));var a=e[i],s=a&&a.length>0;a||(a=e[i]=[]);var l=qu(t)?Zone.root:Zone.current;if(0===a.length)a.push({zone:l,handler:r});else{for(var u=!1,c=0;c<a.length;c++)if(a[c].handler===r){u=!0;break}u||a.push({zone:l,handler:r})}s||e[Vu](t,zu,!1)}return function(){return o.removeEventListener(e,t,r)}},t.prototype.removeEventListener=function(e,t,n){var o=e[Hu];if(!o)return e.removeEventListener.apply(e,[t,n,!1]);var r=ju[t],i=r&&e[r];if(!i)return e.removeEventListener.apply(e,[t,n,!1]);for(var a=!1,s=0;s<i.length;s++)if(i[s].handler===n){a=!0,i.splice(s,1);break}a?0===i.length&&o.apply(e,[t,zu,!1]):e.removeEventListener.apply(e,[t,n,!1])},t}(Ou),Gu={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Xu=new fe("HammerGestureConfig"),Zu=function(){function e(){this.events=[],this.overrides={}}return e.prototype.buildHammer=function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t},e}(),Yu=function(e){function t(t,n,o){var r=e.call(this,t)||this;return r._config=n,r.console=o,r}return r(t,e),t.prototype.supports=function(e){return!(!Gu.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&(this.console.warn("Hammer.js is not loaded, can not bind '"+e+"' event."),1))},t.prototype.addEventListener=function(e,t,n){var o=this,r=this.manager.getZone();return t=t.toLowerCase(),r.runOutsideAngular(function(){var i=o._config.buildHammer(e),a=function(e){r.runGuarded(function(){n(e)})};return i.on(t,a),function(){return i.off(t,a)}})},t.prototype.isCustomEvent=function(e){return this._config.events.indexOf(e)>-1},t}(Ou),Qu=["alt","control","meta","shift"],Ju={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},ec=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.supports=function(e){return null!=t.parseEventName(e)},t.prototype.addEventListener=function(e,n,o){var r=t.parseEventName(n),i=t.eventCallback(r.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return ou().onAndCancel(e,r.domEventName,i)})},t.parseEventName=function(e){var n=e.toLowerCase().split("."),o=n.shift();if(0===n.length||"keydown"!==o&&"keyup"!==o)return null;var r=t._normalizeKey(n.pop()),i="";if(Qu.forEach(function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),i+=e+".")}),i+=r,0!=n.length||0===r.length)return null;var a={};return a.domEventName=o,a.fullKey=i,a},t.getEventFullKey=function(e){var t="",n=ou().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Qu.forEach(function(o){o!=n&&(0,Ju[o])(e)&&(t+=o+".")}),t+=n},t.eventCallback=function(e,n,o){return function(r){t.getEventFullKey(r)===e&&o.runGuarded(function(){return n(r)})}},t._normalizeKey=function(e){switch(e){case"esc":return"escape";default:return e}},t}(Ou),tc=function(){},nc=function(e){function t(t){var n=e.call(this)||this;return n._doc=t,n}return r(t,e),t.prototype.sanitize=function(e,t){if(null==t)return null;switch(e){case Io.NONE:return t;case Io.HTML:return t instanceof rc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){var n=null;try{ao=ao||new eo(e);var o=t?String(t):"";n=ao.getInertBodyElement(o);var r=5,i=o;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,o=i,i=n.innerHTML,n=ao.getInertBodyElement(o)}while(o!==i);var a=new mo,s=a.sanitizeChildren(Co(n)||n);return tn()&&a.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),s}finally{if(n)for(var l=Co(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}(this._doc,String(t)));case Io.STYLE:return t instanceof ic?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";var t=e.match(bo);return t&&oo(t[1])===t[1]||e.match(yo)&&function(e){for(var t=!0,n=!0,o=0;o<e.length;o++){var r=e.charAt(o);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(tn()&&console.warn("WARNING: sanitizing unsafe style value "+e+" (see http://g.co/ng/security#xss)."),"unsafe")}(t));case Io.SCRIPT:if(t instanceof ac)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case Io.URL:return t instanceof lc||t instanceof sc?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),oo(String(t)));case Io.RESOURCE_URL:if(t instanceof lc)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+e+" (see http://g.co/ng/security#xss)")}},t.prototype.checkNotSafeValue=function(e,t){if(e instanceof oc)throw new Error("Required a safe "+t+", got a "+e.getTypeName()+" (see http://g.co/ng/security#xss)")},t.prototype.bypassSecurityTrustHtml=function(e){return new rc(e)},t.prototype.bypassSecurityTrustStyle=function(e){return new ic(e)},t.prototype.bypassSecurityTrustScript=function(e){return new ac(e)},t.prototype.bypassSecurityTrustUrl=function(e){return new sc(e)},t.prototype.bypassSecurityTrustResourceUrl=function(e){return new lc(e)},t}(tc),oc=function(){function e(e){this.changingThisBreaksApplicationSecurity=e}return e.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},e}(),rc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getTypeName=function(){return"HTML"},t}(oc),ic=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getTypeName=function(){return"Style"},t}(oc),ac=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getTypeName=function(){return"Script"},t}(oc),sc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getTypeName=function(){return"URL"},t}(oc),lc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.getTypeName=function(){return"ResourceURL"},t}(oc),uc=on(Gn,"browser",[{provide:Tt,useValue:"browser"},{provide:vt,useValue:function(){uu.makeCurrent(),Eu.init()},multi:!0},{provide:Is,useClass:fu,deps:[du]},{provide:du,useFactory:function(){return document},deps:[]}]);function cc(){return new ut}var dc=function(){function e(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return e.withServerTransition=function(t){return{ngModule:e,providers:[{provide:gt,useValue:t.appId},{provide:gu,useExisting:gt},mu]}},e}();"undefined"!=typeof window&&window;var hc=function(){function e(){}return Object.defineProperty(e.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.prototype.reset=function(e){void 0===e&&(e=void 0),this.control&&this.control.reset(e)},e.prototype.hasError=function(e,t){return!!this.control&&this.control.hasError(e,t)},e.prototype.getError=function(e,t){return this.control?this.control.getError(e,t):null},e}(),fc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t}(hc);function pc(e){return null==e||0===e.length}var gc=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,mc=function(){function e(){}return e.min=function(e){return function(t){if(pc(t.value)||pc(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}},e.max=function(e){return function(t){if(pc(t.value)||pc(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}},e.required=function(e){return pc(e.value)?{required:!0}:null},e.requiredTrue=function(e){return!0===e.value?null:{required:!0}},e.email=function(e){return pc(e.value)?null:gc.test(e.value)?null:{email:!0}},e.minLength=function(e){return function(t){if(pc(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}},e.maxLength=function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}},e.pattern=function(t){return t?("string"==typeof t?(o="","^"!==t.charAt(0)&&(o+="^"),o+=t,"$"!==t.charAt(t.length-1)&&(o+="$"),n=new RegExp(o)):(o=t.toString(),n=t),function(e){if(pc(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:o,actualValue:t}}}):e.nullValidator;var n,o},e.nullValidator=function(e){return null},e.compose=function(e){if(!e)return null;var t=e.filter(Ec);return 0==t.length?null:function(e){return Tc(function(e,n){return t.map(function(t){return t(e)})}(e))}},e.composeAsync=function(e){if(!e)return null;var t=e.filter(Ec);return 0==t.length?null:function(e){return function e(){for(var t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&p(n[0])&&(n=n[0]),0===n.length?ms:t?e(n).pipe(U(function(e){return t.apply(void 0,e)})):new K(function(e){return new tu(e,n)})}(function(e,n){return t.map(function(t){return t(e)})}(e).map(vc)).pipe(U(Tc))}},e}();function Ec(e){return null!=e}function vc(e){var t=dt(e)?G(e):e;if(!ht(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Tc(e){var t=e.reduce(function(e,t){return null!=t?i({},e,t):e},{});return 0===Object.keys(t).length?null:t}var Cc=new fe("NgValueAccessor"),yc=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}(),bc=new fe("CompositionEventMode"),Ic=function(){function e(e,t,n){var o;this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(o=ou()?ou().getUserAgent():"",!/android (\d+)/.test(o.toLowerCase())))}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._handleInput=function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)},e.prototype._compositionStart=function(){this._composing=!0},e.prototype._compositionEnd=function(e){this._composing=!1,this._compositionMode&&this.onChange(e)},e}();function Oc(e){return e.validate?function(t){return e.validate(t)}:e}function Dc(e){return e.validate?function(t){return e.validate(t)}:e}var _c=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}();function Rc(){throw new Error("unimplemented")}var wc=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parent=null,t.name=null,t.valueAccessor=null,t._rawValidators=[],t._rawAsyncValidators=[],t}return r(t,e),Object.defineProperty(t.prototype,"validator",{get:function(){return Rc()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return Rc()},enumerable:!0,configurable:!0}),t}(hc),kc=function(){function e(){this._accessors=[]}return e.prototype.add=function(e,t){this._accessors.push([e,t])},e.prototype.remove=function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)},e.prototype.select=function(e){var t=this;this._accessors.forEach(function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)})},e.prototype._isSameGroup=function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name},e}(),Kc=function(){function e(e,t,n,o){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=o,this.onChange=function(){},this.onTouched=function(){}}return e.prototype.ngOnInit=function(){this._control=this._injector.get(wc),this._checkName(),this._registry.add(this._control,this)},e.prototype.ngOnDestroy=function(){this._registry.remove(this)},e.prototype.writeValue=function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},e.prototype.registerOnChange=function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}},e.prototype.fireUncheck=function(e){this.writeValue(e)},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},e.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},e}(),Sc=function(){function e(e,t){this._renderer=e,this._elementRef=t,this.onChange=function(e){},this.onTouched=function(){}}return e.prototype.writeValue=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))},e.prototype.registerOnChange=function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e}(),Nc='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',xc='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Ac=function(){function e(){}return e.controlParentException=function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Nc)},e.ngModelGroupException=function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '+xc+'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>')},e.missingFormException=function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Nc)},e.groupParentException=function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+xc)},e.arrayParentException=function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')},e.disabledAttrWarning=function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")},e.ngModelWarning=function(e){console.warn("\n    It looks like you're using ngModel on the same form field as "+e+". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/"+("formControl"===e?"FormControlDirective":"FormControlName")+"#use-with-ngmodel\n    ")},e}();function Pc(e,t){return l(t.path,[e])}function Lc(e,t){e||$c(t,"Cannot find control with"),t.valueAccessor||$c(t,"No value accessor for form control with"),e.validator=mc.compose([e.validator,t.validator]),e.asyncValidator=mc.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Fc(e,t)})}(e,t),function(e,t){e.registerOnChange(function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Fc(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(function(e){t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})}),t._rawAsyncValidators.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(function(){return e.updateValueAndValidity()})})}function Fc(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Mc(e,t){null==e&&$c(t,"Cannot find control with"),e.validator=mc.compose([e.validator,t.validator]),e.asyncValidator=mc.composeAsync([e.asyncValidator,t.asyncValidator])}function Bc(e){return $c(e,"There is no FormControl instance attached to form control element with")}function $c(e,t){var n;throw n=e.path.length>1?"path: '"+e.path.join(" -> ")+"'":e.path[0]?"name: '"+e.path+"'":"unspecified name attribute",new Error(t+" "+n)}function Vc(e){return null!=e?mc.compose(e.map(Oc)):null}function Hc(e){return null!=e?mc.composeAsync(e.map(Dc)):null}var jc=[yc,Sc,_c,function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=De}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),(e+": "+t).slice(0,50))}(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(){return(this._idCounter++).toString()},e.prototype._getOptionId=function(e){try{for(var t=a(Array.from(this._optionMap.keys())),n=t.next();!n.done;n=t.next()){var o=n.value;if(this._compareWith(this._optionMap.get(o),e))return o}}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(r)throw r.error}}return null;var r,i},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e},e}(),function(){function e(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=De}return Object.defineProperty(e.prototype,"compareWith",{set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e},enumerable:!0,configurable:!0}),e.prototype.writeValue=function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var o=e.map(function(e){return n._getOptionId(e)});t=function(e,t){e._setSelected(o.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)},e.prototype.registerOnChange=function(e){var t=this;this.onChange=function(n){var o=[];if(n.hasOwnProperty("selectedOptions"))for(var r=n.selectedOptions,i=0;i<r.length;i++){var a=r.item(i),s=t._getOptionValue(a.value);o.push(s)}else for(r=n.options,i=0;i<r.length;i++)(a=r.item(i)).selected&&(s=t._getOptionValue(a.value),o.push(s));t.value=o,e(o)}},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.setDisabledState=function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)},e.prototype._registerOption=function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t},e.prototype._getOptionId=function(e){try{for(var t=a(Array.from(this._optionMap.keys())),n=t.next();!n.done;n=t.next()){var o=n.value;if(this._compareWith(this._optionMap.get(o)._value,e))return o}}catch(e){r={error:e}}finally{try{n&&!n.done&&(i=t.return)&&i.call(t)}finally{if(r)throw r.error}}return null;var r,i},e.prototype._getOptionValue=function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e},e}(),Kc],Uc=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return Pc(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return Vc(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return Hc(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){},t}(fc),qc=function(){function e(e){this._cd=e}return Object.defineProperty(e.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),e}(),zc=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(qc),Wc=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t}(qc);function Gc(e){var t=Zc(e)?e.validators:e;return Array.isArray(t)?Vc(t):t||null}function Xc(e,t){var n=Zc(t)?t.asyncValidators:e;return Array.isArray(n)?Hc(n):n||null}function Zc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Yc=function(){function e(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),e.prototype.setValidators=function(e){this.validator=Gc(e)},e.prototype.setAsyncValidators=function(e){this.asyncValidator=Xc(e)},e.prototype.clearValidators=function(){this.validator=null},e.prototype.clearAsyncValidators=function(){this.asyncValidator=null},e.prototype.markAsTouched=function(e){void 0===e&&(e={}),this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)},e.prototype.markAsUntouched=function(e){void 0===e&&(e={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(e){e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype.markAsDirty=function(e){void 0===e&&(e={}),this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)},e.prototype.markAsPristine=function(e){void 0===e&&(e={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(e){e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype.markAsPending=function(e){void 0===e&&(e={}),this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)},e.prototype.disable=function(e){void 0===e&&(e={}),this.status="DISABLED",this.errors=null,this._forEachChild(function(t){t.disable(i({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(e),this._onDisabledChange.forEach(function(e){return e(!0)})},e.prototype.enable=function(e){void 0===e&&(e={}),this.status="VALID",this._forEachChild(function(t){t.enable(i({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(e),this._onDisabledChange.forEach(function(e){return e(!1)})},e.prototype._updateAncestors=function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),this._parent._updatePristine(),this._parent._updateTouched())},e.prototype.setParent=function(e){this._parent=e},e.prototype.updateValueAndValidity=function(e){void 0===e&&(e={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)},e.prototype._updateTreeValidity=function(e){void 0===e&&(e={emitEvent:!0}),this._forEachChild(function(t){return t._updateTreeValidity(e)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})},e.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},e.prototype._runValidator=function(){return this.validator?this.validator(this):null},e.prototype._runAsyncValidator=function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=vc(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){return t.setErrors(n,{emitEvent:e})})}},e.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},e.prototype.setErrors=function(e,t){void 0===t&&(t={}),this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)},e.prototype.get=function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce(function(e,t){return e instanceof Jc?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof ed&&e.at(t)||null},e))}(this,e)},e.prototype.getError=function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null},e.prototype.hasError=function(e,t){return!!this.getError(e,t)},Object.defineProperty(e.prototype,"root",{get:function(){for(var e=this;e._parent;)e=e._parent;return e},enumerable:!0,configurable:!0}),e.prototype._updateControlsErrors=function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)},e.prototype._initObservables=function(){this.valueChanges=new $t,this.statusChanges=new $t},e.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},e.prototype._anyControlsHaveStatus=function(e){return this._anyControls(function(t){return t.status===e})},e.prototype._anyControlsDirty=function(){return this._anyControls(function(e){return e.dirty})},e.prototype._anyControlsTouched=function(){return this._anyControls(function(e){return e.touched})},e.prototype._updatePristine=function(e){void 0===e&&(e={}),this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)},e.prototype._updateTouched=function(e){void 0===e&&(e={}),this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)},e.prototype._isBoxedValue=function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e},e.prototype._registerOnCollectionChange=function(e){this._onCollectionChange=e},e.prototype._setUpdateStrategy=function(e){Zc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)},e}(),Qc=function(e){function t(t,n,o){void 0===t&&(t=null);var r=e.call(this,Gc(n),Xc(o,n))||this;return r._onChange=[],r._applyFormState(t),r._setUpdateStrategy(n),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r._initObservables(),r}return r(t,e),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(function(e){return e(n.value,!1!==t.emitViewToModelChange)}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){void 0===t&&(t={}),this.setValue(e,t)},t.prototype.reset=function(e,t){void 0===e&&(e=null),void 0===t&&(t={}),this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1},t.prototype._updateValue=function(){},t.prototype._anyControls=function(e){return!1},t.prototype._allControlsDisabled=function(){return this.disabled},t.prototype.registerOnChange=function(e){this._onChange.push(e)},t.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},t.prototype.registerOnDisabledChange=function(e){this._onDisabledChange.push(e)},t.prototype._forEachChild=function(e){},t.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},t.prototype._applyFormState=function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e},t}(Yc),Jc=function(e){function t(t,n,o){var r=e.call(this,Gc(n),Xc(o,n))||this;return r.controls=t,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return r(t,e),t.prototype.registerControl=function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)},t.prototype.addControl=function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.removeControl=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.contains=function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled},t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),Object.keys(e).forEach(function(o){n._throwIfControlMissing(o),n.controls[o].setValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),Object.keys(e).forEach(function(o){n.controls[o]&&n.controls[o].patchValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e={}),void 0===t&&(t={}),this._forEachChild(function(n,o){n.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this._reduceChildren({},function(e,t,n){return e[n]=t instanceof Qc?t.value:t.getRawValue(),e})},t.prototype._syncPendingControls=function(){var e=this._reduceChildren(!1,function(e,t){return!!t._syncPendingControls()||e});return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: "+e+".")},t.prototype._forEachChild=function(e){var t=this;Object.keys(this.controls).forEach(function(n){return e(t.controls[n],n)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)})},t.prototype._updateValue=function(){this.value=this._reduceValue()},t.prototype._anyControls=function(e){var t=this,n=!1;return this._forEachChild(function(o,r){n=n||t.contains(r)&&e(o)}),n},t.prototype._reduceValue=function(){var e=this;return this._reduceChildren({},function(t,n,o){return(n.enabled||e.disabled)&&(t[o]=n.value),t})},t.prototype._reduceChildren=function(e,t){var n=e;return this._forEachChild(function(e,o){n=t(n,e,o)}),n},t.prototype._allControlsDisabled=function(){try{for(var e=a(Object.keys(this.controls)),t=e.next();!t.done;t=e.next())if(this.controls[t.value].enabled)return!1}catch(e){n={error:e}}finally{try{t&&!t.done&&(o=e.return)&&o.call(e)}finally{if(n)throw n.error}}return Object.keys(this.controls).length>0||this.disabled;var n,o},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")})},t}(Yc),ed=function(e){function t(t,n,o){var r=e.call(this,Gc(n),Xc(o,n))||this;return r.controls=t,r._initObservables(),r._setUpdateStrategy(n),r._setUpControls(),r.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),r}return r(t,e),t.prototype.at=function(e){return this.controls[e]},t.prototype.push=function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()},t.prototype.insert=function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()},t.prototype.removeAt=function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),this.updateValueAndValidity()},t.prototype.setControl=function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(function(){}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(t.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),t.prototype.setValue=function(e,t){var n=this;void 0===t&&(t={}),this._checkAllValuesPresent(e),e.forEach(function(e,o){n._throwIfControlMissing(o),n.at(o).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.patchValue=function(e,t){var n=this;void 0===t&&(t={}),e.forEach(function(e,o){n.at(o)&&n.at(o).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)},t.prototype.reset=function(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this._forEachChild(function(n,o){n.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)},t.prototype.getRawValue=function(){return this.controls.map(function(e){return e instanceof Qc?e.value:e.getRawValue()})},t.prototype._syncPendingControls=function(){var e=this.controls.reduce(function(e,t){return!!t._syncPendingControls()||e},!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e},t.prototype._throwIfControlMissing=function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)},t.prototype._forEachChild=function(e){this.controls.forEach(function(t,n){e(t,n)})},t.prototype._updateValue=function(){var e=this;this.value=this.controls.filter(function(t){return t.enabled||e.disabled}).map(function(e){return e.value})},t.prototype._anyControls=function(e){return this.controls.some(function(t){return t.enabled&&e(t)})},t.prototype._setUpControls=function(){var e=this;this._forEachChild(function(t){return e._registerControl(t)})},t.prototype._checkAllValuesPresent=function(e){this._forEachChild(function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: "+n+".")})},t.prototype._allControlsDisabled=function(){try{for(var e=a(this.controls),t=e.next();!t.done;t=e.next())if(t.value.enabled)return!1}catch(e){n={error:e}}finally{try{t&&!t.done&&(o=e.return)&&o.call(e)}finally{if(n)throw n.error}}return this.controls.length>0||this.disabled;var n,o},t.prototype._registerControl=function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)},t}(Yc),td=new fe("NgModelWithFormControlWarning"),nd=function(e){function t(t,n){var o=e.call(this)||this;return o._validators=t,o._asyncValidators=n,o.submitted=!1,o.directives=[],o.form=null,o.ngSubmit=new $t,o}return r(t,e),t.prototype.ngOnChanges=function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())},Object.defineProperty(t.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),t.prototype.addControl=function(e){var t=this.form.get(e.path);return Lc(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t},t.prototype.getControl=function(e){return this.form.get(e.path)},t.prototype.removeControl=function(e){var t,n;(n=(t=this.directives).indexOf(e))>-1&&t.splice(n,1)},t.prototype.addFormGroup=function(e){var t=this.form.get(e.path);Mc(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormGroup=function(e){},t.prototype.getFormGroup=function(e){return this.form.get(e.path)},t.prototype.addFormArray=function(e){var t=this.form.get(e.path);Mc(t,e),t.updateValueAndValidity({emitEvent:!1})},t.prototype.removeFormArray=function(e){},t.prototype.getFormArray=function(e){return this.form.get(e.path)},t.prototype.updateModel=function(e,t){this.form.get(e.path).setValue(t)},t.prototype.onSubmit=function(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach(function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)}),this.ngSubmit.emit(e),!1;var t},t.prototype.onReset=function(){this.resetForm()},t.prototype.resetForm=function(e){void 0===e&&(e=void 0),this.form.reset(e),this.submitted=!1},t.prototype._updateDomValue=function(){var e=this;this.directives.forEach(function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange(function(){return Bc(t)}),t.valueAccessor.registerOnTouched(function(){return Bc(t)}),t._rawValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(t.control,t),n&&Lc(n,t),t.control=n)}),this.form._updateTreeValidity({emitEvent:!1})},t.prototype._updateRegistrations=function(){var e=this;this.form._registerOnCollectionChange(function(){return e._updateDomValue()}),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){}),this._oldForm=this.form},t.prototype._updateValidators=function(){var e=Vc(this._validators);this.form.validator=mc.compose([this.form.validator,e]);var t=Hc(this._asyncValidators);this.form.asyncValidator=mc.composeAsync([this.form.asyncValidator,t])},t.prototype._checkFormPresent=function(){this.form||Ac.missingFormException()},t}(fc),od=function(e){function t(t,n,o){var r=e.call(this)||this;return r._parent=t,r._validators=n,r._asyncValidators=o,r}return r(t,e),t.prototype._checkParentType=function(){id(this._parent)&&Ac.groupParentException()},t}(Uc),rd=function(e){function t(t,n,o){var r=e.call(this)||this;return r._parent=t,r._validators=n,r._asyncValidators=o,r}return r(t,e),t.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormArray(this)},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormArray(this)},Object.defineProperty(t.prototype,"control",{get:function(){return this.formDirective.getFormArray(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return Pc(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return Vc(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return Hc(this._asyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){id(this._parent)&&Ac.arrayParentException()},t}(fc);function id(e){return!(e instanceof od||e instanceof nd||e instanceof rd)}var ad=function(e){function t(t,n,o,r,i){var a=e.call(this)||this;return a._ngModelWarningConfig=i,a._added=!1,a.update=new $t,a._ngModelWarningSent=!1,a._parent=t,a._rawValidators=n||[],a._rawAsyncValidators=o||[],a.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||$c(e,"Value accessor was not provided as an array for form control with");var n=void 0,o=void 0,r=void 0;return t.forEach(function(t){var i;t.constructor===Ic?n=t:(i=t,jc.some(function(e){return i.constructor===e})?(o&&$c(e,"More than one built-in value accessor matches form control with"),o=t):(r&&$c(e,"More than one custom value accessor matches form control with"),r=t))}),r||o||n||($c(e,"No valid value accessor for form control with"),null)}(a,r),a}return r(t,e),Object.defineProperty(t.prototype,"isDisabled",{set:function(e){Ac.disabledAttrWarning()},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(e){var n,o,r,i;this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!De(t,n.currentValue)}(e,this.viewModel)&&(n="formControlName",o=t,r=this,i=this._ngModelWarningConfig,tn()&&"never"!==i&&((null!==i&&"once"!==i||o._ngModelWarningSentOnce)&&("always"!==i||r._ngModelWarningSent)||(Ac.ngModelWarning(n),o._ngModelWarningSentOnce=!0,r._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))},t.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},t.prototype.viewToModelUpdate=function(e){this.viewModel=e,this.update.emit(e)},Object.defineProperty(t.prototype,"path",{get:function(){return Pc(this.name,this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"validator",{get:function(){return Vc(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"asyncValidator",{get:function(){return Hc(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),t.prototype._checkParentType=function(){!(this._parent instanceof od)&&this._parent instanceof Uc?Ac.ngModelGroupException():this._parent instanceof od||this._parent instanceof nd||this._parent instanceof rd||Ac.controlParentException()},t.prototype._setUpControl=function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0},t._ngModelWarningSentOnce=!1,t}(wc),sd=function(){function e(){}return e.prototype.group=function(e,t){void 0===t&&(t=null);var n=this._reduceControls(e);return new Jc(n,null!=t?t.validator:null,null!=t?t.asyncValidator:null)},e.prototype.control=function(e,t,n){return new Qc(e,t,n)},e.prototype.array=function(e,t,n){var o=this,r=e.map(function(e){return o._createControl(e)});return new ed(r,t,n)},e.prototype._reduceControls=function(e){var t=this,n={};return Object.keys(e).forEach(function(o){n[o]=t._createControl(e[o])}),n},e.prototype._createControl=function(e){return e instanceof Qc||e instanceof Jc||e instanceof ed?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)},e}(),ld=function(){},ud=function(){},cd=function(){},dd=function(){function e(){}return e.withConfig=function(t){return{ngModule:e,providers:[{provide:td,useValue:t.warnOnNgModelWithFormControl}]}},e}(),hd=(n("crnI"),function(){function e(e,t,n){this.postService=e,this.fb=t,this.cd=n,this.createForm()}return e.prototype.ngOnInit=function(){this.ckeditor=CKEDITOR.replace("editor1",{extraPlugins:"mathjax,smiley,preview,divarea,eqneditor,base64image",removePlugins:"about,image",mathJaxLib:"//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML",language:"en",allowedContent:!0}),this.ckeditor.on("change",function(e){this.mycontent=CKEDITOR.instances.editor1.getData()})},e.prototype.saveClick=function(){for(var e in this.publishButtonVal=!1,this.editorForm.controls)"resource_title"!=e&&this.editorForm.controls[e].clearValidators(),this.editorForm.controls[e].updateValueAndValidity();this.editorForm.controls.publish.setValue(0),this.editorForm.updateValueAndValidity()},e.prototype.processForm=function(e){var t=this.post_image.nativeElement,n=new FormData;if(this.localImage&&(console.log("hello"),t.files&&t.files[0])){this.imageFile=t.files[0];var o=this.imageFile,r=o.name.substring(o.name.lastIndexOf(".")+1),i=o.size/1024/1024;"png"!=r.toLowerCase()&&"jpg"!=r.toLowerCase()&&"jpeg"!=r.toLowerCase()&&"bmp"!=r.toLowerCase()?this.editorForm.controls.post_image.setErrors({extError:!0}):i>2.2&&this.editorForm.controls.post_image.setErrors({sizeError:!0}),n.append("post_image",o,o.name)}this.mycontent=CKEDITOR.instances.editor1.getData();var a=JSON.stringify(this.mycontent);n.append("resource_title",e.controls.resource_title.value),n.append("resource_subTitle",e.controls.resource_subTitle.value),n.append("resource_des",e.controls.resource_des.value),n.append("resource_body_1",a),n.append("publish",e.controls.publish.value),console.log(n.get("post_image")),this.editorForm.invalid||this.serviceCalls(n)},e.prototype.serviceCalls=function(e){var t=this;this.postService.getDashboardProfile().subscribe(function(e){console.log(e),t.obj=e.dataCon},function(e){return console.log(e)})},e.prototype.createForm=function(){this.editorForm=this.fb.group({resource_title:["",mc.compose([mc.required,mc.minLength(2)])],resource_subTitle:"",post_image:null,resource_des:"",resource_body_1:null,publish:0})},e.prototype.onChange=function(e){var t=document.querySelector("img"),n=this.post_image.nativeElement.files[0],o=new FileReader;if(o.addEventListener("load",function(){t.src=o.result},!1),n){this.localImage=!0,o.readAsDataURL(n);var r=n.name.substring(n.name.lastIndexOf(".")+1),i=n.size/1024/1024;"png"!=r.toLowerCase()&&"jpg"!=r.toLowerCase()&&"jpeg"!=r.toLowerCase()&&"bmp"!=r.toLowerCase()?this.editorForm.controls.post_image.setErrors({extError:!0}):i>2.2&&this.editorForm.controls.post_image.setErrors({sizeError:!0})}else this.localImage=!1},e}()),fd=function(){function e(){}return e.prototype.ngOnInit=function(){},e}(),pd=function(e,t,n,o,r,i,a,s,l,u,c){this.location=e,this.date=t,this.studentName=n,this.subject=o,this.sessionDetail=r,this.studentRequirement=c,this.expectDuration=i,this.teachingMethod=a,this.report=s,this.actualDuration=l,this.state=u},gd=function(){function e(){this.today=new Date,this._isCompleted=!1,this._session=new pd("Room 101, Level 4, Business School, University of Auckland, Auckland CBD",this.today,"Mark","Maths","Session detials",2,"Teaching Method","",1,"Completed","Student Requirements")}return e.prototype.ngOnInit=function(){},e.prototype.isValidForm=function(){return"Completed"==this._session.state&&(this._isCompleted=!0),this._isCompleted},e.prototype.onConfirm=function(){},e}(),md=function(){function e(e,t,n){this.postService=e,this.fb=t,this.cd=n,this.createForm()}return e.prototype.ngOnInit=function(){this.tutorPost=this.getData(),this.ckeditor=CKEDITOR.replace("editor1",{extraPlugins:"mathjax,smiley,preview,divarea,eqneditor,base64image",removePlugins:"about,image",mathJaxLib:"//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML",language:"en",allowedContent:!0}),this.ckeditor.on("change",function(e){this.mycontent=CKEDITOR.instances.editor1.getData()})},e.prototype.setEditorData=function(e){CKEDITOR.instances.editor1.setData(e.resource_body_1)},e.prototype.setFormData=function(e){this.editorForm.controls.resource_title.setValue(e.resource_title),this.editorForm.controls.resource_subTitle.setValue(e.resource_subTitle),this.editorForm.controls.resource_des.setValue(e.resource_des),this.editorForm.controls.publish.setValue(e.publish),this.editorForm.updateValueAndValidity()},e.prototype.getData=function(){var e=this;this.postService.getResource(3).subscribe(function(t){e.tutorPost=t.dataCon.tutorPost,e.setEditorData(e.tutorPost),e.setFormData(e.tutorPost),e.checkImageExistence(e.tutorPost),console.log(e.tutorPost)},function(e){return console.log(e)})},e.prototype.checkImageExistence=function(e){this.imageExistence=!!e.post_image,console.log(this.imageExistence)},e.prototype.saveClick=function(){for(var e in this.publishButtonVal=!1,this.editorForm.controls)"resource_title"!=e&&this.editorForm.controls[e].clearValidators(),this.editorForm.controls[e].updateValueAndValidity();this.editorForm.controls.publish.setValue(0),this.editorForm.updateValueAndValidity()},e.prototype.publishClick=function(){for(var e in this.publishButtonVal=!0,this.editorForm.controls.resource_subTitle.setValidators([mc.required,mc.minLength(2),mc.maxLength(40)]),this.editorForm.controls.resource_des.setValidators([mc.required,mc.minLength(2),mc.maxLength(200)]),0!=this.imageExistence&&1!=this.localImage||(console.log("localImage"),this.editorForm.controls.post_image.setValidators([mc.required])),this.editorForm.controls.publish.setValue(1),this.editorForm.controls)this.editorForm.controls[e].updateValueAndValidity();this.editorForm.updateValueAndValidity()},e.prototype.processForm=function(e){var t=this.post_image.nativeElement,n=new FormData;if(this.localImage&&(console.log("hello"),t.files&&t.files[0])){this.imageFile=t.files[0];var o=this.imageFile,r=o.name.substring(o.name.lastIndexOf(".")+1),i=o.size/1024/1024;"png"!=r.toLowerCase()&&"jpg"!=r.toLowerCase()&&"jpeg"!=r.toLowerCase()&&"bmp"!=r.toLowerCase()?this.editorForm.controls.post_image.setErrors({extError:!0}):i>2.2&&this.editorForm.controls.post_image.setErrors({sizeError:!0}),n.append("post_image",o,o.name)}this.mycontent=CKEDITOR.instances.editor1.getData();var a=JSON.stringify(this.mycontent);n.append("resource_title",e.controls.resource_title.value),n.append("resource_subTitle",e.controls.resource_subTitle.value),n.append("resource_des",e.controls.resource_des.value),n.append("resource_body_1",a),n.append("publish",e.controls.publish.value),console.log(n.get("post_image")),this.editorForm.invalid||this.serviceCalls(n)},e.prototype.serviceCalls=function(e){var t=this;this.postService.getDashboardProfile().subscribe(function(e){console.log(e),t.obj=e.dataCon},function(e){return console.log(e)})},e.prototype.createForm=function(){this.editorForm=this.fb.group({resource_title:["",mc.compose([mc.required,mc.minLength(2)])],resource_subTitle:"",post_image:null,resource_des:"",resource_body_1:null,publish:0})},e.prototype.onChange=function(e){var t=document.querySelector("img"),n=this.post_image.nativeElement.files[0],o=new FileReader;if(o.addEventListener("load",function(){t.src=o.result},!1),n){this.localImage=!0,o.readAsDataURL(n);var r=n.name.substring(n.name.lastIndexOf(".")+1),i=n.size/1024/1024;"png"!=r.toLowerCase()&&"jpg"!=r.toLowerCase()&&"jpeg"!=r.toLowerCase()&&"bmp"!=r.toLowerCase()?this.editorForm.controls.post_image.setErrors({extError:!0}):i>2.2&&this.editorForm.controls.post_image.setErrors({sizeError:!0})}else this.localImage=!1,this.imageExistence&&(t.src="http://learnspace.co.nz/api/public/community/postpics/"+this.tutorPost.post_image)},e}(),Ed=function(){},vd=function(){this.title="app"},Td=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ee;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(oe),Cd=function(e){function t(){var n=e.call(this,"no elements in sequence")||this;return n.name="EmptyError",Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(Error),yd=function(e){function t(){var n=e.call(this,"argument out of range")||this;return n.name="ArgumentOutOfRangeError",Object.setPrototypeOf(n,t.prototype),n}return r(t,e),t}(Error);function bd(e){return function(t){return 0===e?Es():t.lift(new Id(e))}}var Id=function(){function e(e){if(this.total=e,this.total<0)throw new yd}return e.prototype.call=function(e,t){return t.subscribe(new Od(e,this.total))},e}(),Od=function(e){function t(t,n){var o=e.call(this,t)||this;return o.total=n,o.ring=new Array,o.count=0,o}return r(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,o=this.count++;t.length<n?t.push(e):t[o%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,o=this.ring,r=0;r<n;r++){var i=t++%n;e.next(o[i])}e.complete()},t}(O),Dd=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new _d(e,this.nextOrObserver,this.error,this.complete))},e}(),_d=function(e){function t(t,n,o,r){var i=e.call(this,t)||this;return i._tapNext=R,i._tapError=R,i._tapComplete=R,i._tapError=o||R,i._tapComplete=r||R,u(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||R,i._tapError=n.error||R,i._tapComplete=n.complete||R),i}return r(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(O),Rd=function(e){return void 0===e&&(e=wd),t={hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}},function(e){return e.lift(new Dd(t,void 0,void 0))};var t};function wd(){return new Cd}function kd(e){return void 0===e&&(e=null),function(t){return t.lift(new Kd(e))}}var Kd=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new Sd(e,this.defaultValue))},e}(),Sd=function(e){function t(t,n){var o=e.call(this,t)||this;return o.defaultValue=n,o.isEmpty=!0,o}return r(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(O);function Nd(e,t){var n=arguments.length>=2;return function(o){return o.pipe(e?Cs(function(t,n){return e(t,n,o)}):Q,bd(1),n?kd(t):Rd(function(){return new Cd}))}}function xd(e){return function(t){var n=new Ad(e),o=t.lift(n);return n.caught=o}}var Ad=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new Pd(e,this.selector,this.caught))},e}(),Pd=function(e){function t(t,n,o){var r=e.call(this,t)||this;return r.selector=n,r.caught=o,r}return r(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(t){return void e.prototype.error.call(this,t)}this._unsubscribeAndRecycle(),this.add(H(this,n))}},t}(j);function Ld(e,t){return function(n){return n.lift(new Fd(e,t,n))}}var Fd=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new Md(e,this.predicate,this.thisArg,this.source))},e}(),Md=function(e){function t(t,n,o,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=o,i.source=r,i.index=0,i.thisArg=o||i,i}return r(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(e){return void this.destination.error(e)}t||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(O),Bd=function(){function e(e){if(this.total=e,this.total<0)throw new yd}return e.prototype.call=function(e,t){return t.subscribe(new $d(e,this.total))},e}(),$d=function(e){function t(t,n){var o=e.call(this,t)||this;return o.total=n,o.count=0,o}return r(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(O);function Vd(e,t){var n=arguments.length>=2;return function(o){return o.pipe(e?Cs(function(t,n){return e(t,n,o)}):Q,function(e){return e.lift(new Bd(1))},n?kd(t):Rd(function(){return new Cd}))}}function Hd(){return J(1)}function jd(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(o){return o.lift(new Ud(e,t,n))}}var Ud=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new qd(e,this.accumulator,this.seed,this.hasSeed))},e}(),qd=function(e){function t(t,n,o,r){var i=e.call(this,t)||this;return i.accumulator=n,i._seed=o,i.hasSeed=r,i.index=0,i}return r(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(e){this.destination.error(e)}this.seed=t,this.destination.next(t)},t}(O),zd=function(e,t){this.id=e,this.url=t},Wd=function(e){function t(t,n,o,r){void 0===o&&(o="imperative"),void 0===r&&(r=null);var i=e.call(this,t,n)||this;return i.navigationTrigger=o,i.restoredState=r,i}return r(t,e),t.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},t}(zd),Gd=function(e){function t(t,n,o){var r=e.call(this,t,n)||this;return r.urlAfterRedirects=o,r}return r(t,e),t.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},t}(zd),Xd=function(e){function t(t,n,o){var r=e.call(this,t,n)||this;return r.reason=o,r}return r(t,e),t.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},t}(zd),Zd=function(e){function t(t,n,o){var r=e.call(this,t,n)||this;return r.error=o,r}return r(t,e),t.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},t}(zd),Yd=function(e){function t(t,n,o,r){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=o,i.state=r,i}return r(t,e),t.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(zd),Qd=function(e){function t(t,n,o,r){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=o,i.state=r,i}return r(t,e),t.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(zd),Jd=function(e){function t(t,n,o,r,i){var a=e.call(this,t,n)||this;return a.urlAfterRedirects=o,a.state=r,a.shouldActivate=i,a}return r(t,e),t.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},t}(zd),eh=function(e){function t(t,n,o,r){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=o,i.state=r,i}return r(t,e),t.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(zd),th=function(e){function t(t,n,o,r){var i=e.call(this,t,n)||this;return i.urlAfterRedirects=o,i.state=r,i}return r(t,e),t.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},t}(zd),nh=function(){function e(e){this.route=e}return e.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},e}(),oh=function(){function e(e){this.route=e}return e.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},e}(),rh=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),ih=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),ah=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),sh=function(){function e(e){this.snapshot=e}return e.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},e}(),lh="primary",uh=function(){function e(e){this.params=e||{}}return e.prototype.has=function(e){return this.params.hasOwnProperty(e)},e.prototype.get=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null},e.prototype.getAll=function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]},Object.defineProperty(e.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),e}();function ch(e){return new uh(e)}function dh(e,t,n){var o=n.path.split("/");if(o.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||o.length<e.length))return null;for(var r={},i=0;i<o.length;i++){var a=o[i],s=e[i];if(a.startsWith(":"))r[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,o.length),posParams:r}}var hh=function(e,t){this.routes=e,this.module=t};function fh(e,t){void 0===t&&(t="");for(var n=0;n<e.length;n++){var o=e[n];ph(o,gh(t,o))}}function ph(e,t){if(!e)throw new Error("\n      Invalid configuration of route '"+t+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(e))throw new Error("Invalid configuration of route '"+t+"': Array cannot be specified");if(!e.component&&e.outlet&&e.outlet!==lh)throw new Error("Invalid configuration of route '"+t+"': a componentless route cannot have a named outlet set");if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '"+t+"': redirectTo and children cannot be used together");if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '"+t+"': redirectTo and loadChildren cannot be used together");if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '"+t+"': children and loadChildren cannot be used together");if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '"+t+"': redirectTo and component cannot be used together");if(e.path&&e.matcher)throw new Error("Invalid configuration of route '"+t+"': path and matcher cannot be used together");if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '"+t+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '"+t+"': routes must have either a path or a matcher specified");if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '"+t+"': path cannot start with a slash");if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \""+t+'", redirectTo: "'+e.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '"+t+"': pathMatch can only be set to 'prefix' or 'full'");e.children&&fh(e.children,t)}function gh(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:e+"/"+t.path:"":e}function mh(e){var t=e.children&&e.children.map(mh);return t?i({},e,{children:t}):i({},e)}function Eh(e,t){var n,o=Object.keys(e),r=Object.keys(t);if(o.length!=r.length)return!1;for(var i=0;i<o.length;i++)if(e[n=o[i]]!==t[n])return!1;return!0}function vh(e){return Array.prototype.concat.apply([],e)}function Th(e){return e.length>0?e[e.length-1]:null}function Ch(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function yh(e){return e.pipe(J(),Ld(function(e){return!0===e}))}function bh(e){return ht(e)?e:dt(e)?G(Promise.resolve(e)):vs(e)}function Ih(e,t,n){return n?function(e,t){return Eh(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!Rh(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var o in n.children){if(!t.children[o])return!1;if(!e(t.children[o],n.children[o]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(function(n){return t[n]===e[n]})}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,o,r){if(n.segments.length>r.length)return!!Rh(a=n.segments.slice(0,r.length),r)&&!o.hasChildren();if(n.segments.length===r.length){if(!Rh(n.segments,r))return!1;for(var i in o.children){if(!n.children[i])return!1;if(!e(n.children[i],o.children[i]))return!1}return!0}var a=r.slice(0,n.segments.length),s=r.slice(n.segments.length);return!!Rh(n.segments,a)&&!!n.children[lh]&&t(n.children[lh],o,s)}(t,n,n.segments)}(e.root,t.root)}var Oh=function(){function e(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}return Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=ch(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return Sh.serialize(this)},e}(),Dh=function(){function e(e,t){var n=this;this.segments=e,this.children=t,this.parent=null,Ch(t,function(e,t){return e.parent=n})}return e.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(e.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return Nh(this)},e}(),_h=function(){function e(e,t){this.path=e,this.parameters=t}return Object.defineProperty(e.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=ch(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return Mh(this)},e}();function Rh(e,t){return e.length===t.length&&e.every(function(e,n){return e.path===t[n].path})}function wh(e,t){var n=[];return Ch(e.children,function(e,o){o===lh&&(n=n.concat(t(e,o)))}),Ch(e.children,function(e,o){o!==lh&&(n=n.concat(t(e,o)))}),n}var kh=function(){},Kh=function(){function e(){}return e.prototype.parse=function(e){var t=new jh(e);return new Oh(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())},e.prototype.serialize=function(e){var t,n;return"/"+function e(t,n){if(!t.hasChildren())return Nh(t);if(n){var o=t.children[lh]?e(t.children[lh],!1):"",r=[];return Ch(t.children,function(t,n){n!==lh&&r.push(n+":"+e(t,!1))}),r.length>0?o+"("+r.join("//")+")":o}var i=wh(t,function(n,o){return o===lh?[e(t.children[lh],!1)]:[o+":"+e(n,!1)]});return Nh(t)+"/("+i.join("//")+")"}(e.root,!0)+(t=e.queryParams,(n=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return Ah(e)+"="+Ah(t)}).join("&"):Ah(e)+"="+Ah(n)})).length?"?"+n.join("&"):"")+("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"")},e}(),Sh=new Kh;function Nh(e){return e.segments.map(function(e){return Mh(e)}).join("/")}function xh(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ah(e){return xh(e).replace(/%3B/gi,";")}function Ph(e){return xh(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Lh(e){return decodeURIComponent(e)}function Fh(e){return Lh(e.replace(/\+/g,"%20"))}function Mh(e){return""+Ph(e.path)+(t=e.parameters,Object.keys(t).map(function(e){return";"+Ph(e)+"="+Ph(t[e])}).join(""));var t}var Bh=/^[^\/()?;=#]+/;function $h(e){var t=e.match(Bh);return t?t[0]:""}var Vh=/^[^=?&#]+/,Hh=/^[^?&#]+/,jh=function(){function e(e){this.url=e,this.remaining=e}return e.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dh([],{}):new Dh([],this.parseChildren())},e.prototype.parseQueryParams=function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e},e.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},e.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[lh]=new Dh(e,t)),n},e.prototype.parseSegment=function(){var e=$h(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(e),new _h(Lh(e),this.parseMatrixParams())},e.prototype.parseMatrixParams=function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e},e.prototype.parseParam=function(e){var t=$h(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var o=$h(this.remaining);o&&this.capture(n=o)}e[Lh(t)]=Lh(n)}},e.prototype.parseQueryParam=function(e){var t,n=(t=this.remaining.match(Vh))?t[0]:"";if(n){this.capture(n);var o="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(Hh);return t?t[0]:""}(this.remaining);r&&this.capture(o=r)}var i=Fh(n),a=Fh(o);if(e.hasOwnProperty(i)){var s=e[i];Array.isArray(s)||(e[i]=s=[s]),s.push(a)}else e[i]=a}},e.prototype.parseParens=function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=$h(this.remaining),o=this.remaining[n.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error("Cannot parse url '"+this.url+"'");var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=lh);var i=this.parseChildren();t[r]=1===Object.keys(i).length?i[lh]:new Dh([],i),this.consumeOptional("//")}return t},e.prototype.peekStartsWith=function(e){return this.remaining.startsWith(e)},e.prototype.consumeOptional=function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)},e.prototype.capture=function(e){if(!this.consumeOptional(e))throw new Error('Expected "'+e+'".')},e}(),Uh=function(e){this.segmentGroup=e||null},qh=function(e){this.urlTree=e};function zh(e){return new K(function(t){return t.error(new Uh(e))})}function Wh(e){return new K(function(t){return t.error(new qh(e))})}function Gh(e){return new K(function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+e+"'"))})}var Xh=function(){function e(e,t,n,o,r){this.configLoader=t,this.urlSerializer=n,this.urlTree=o,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(At)}return e.prototype.apply=function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,lh).pipe(U(function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)})).pipe(xd(function(t){if(t instanceof qh)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Uh)throw e.noMatchError(t);throw t}))},e.prototype.match=function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,lh).pipe(U(function(n){return t.createUrlTree(n,e.queryParams,e.fragment)})).pipe(xd(function(e){if(e instanceof Uh)throw t.noMatchError(e);throw e}))},e.prototype.noMatchError=function(e){return new Error("Cannot match any routes. URL Segment: '"+e.segmentGroup+"'")},e.prototype.createUrlTree=function(e,t,n){var o,r=e.segments.length>0?new Dh([],((o={})[lh]=e,o)):e;return new Oh(r,t,n)},e.prototype.expandSegmentGroup=function(e,t,n,o){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(U(function(e){return new Dh([],e)})):this.expandSegment(e,n,t,n.segments,o,!0)},e.prototype.expandChildren=function(e,t,n){var o=this;return function(n,r){if(0===Object.keys(n).length)return vs({});var i=[],a=[],s={};return Ch(n,function(n,r){var l,u,c=(l=r,u=n,o.expandSegmentGroup(e,t,u,l)).pipe(U(function(e){return s[r]=e}));r===lh?i.push(c):a.push(c)}),vs.apply(null,i.concat(a)).pipe(Hd(),Nd(),U(function(){return s}))}(n.children)},e.prototype.expandSegment=function(e,t,n,o,r,i){var a=this;return vs.apply(void 0,l(n)).pipe(U(function(s){return a.expandSegmentAgainstRoute(e,t,n,s,o,r,i).pipe(xd(function(e){if(e instanceof Uh)return vs(null);throw e}))}),Hd(),Vd(function(e){return!!e}),xd(function(e,n){if(e instanceof Cd||"EmptyError"===e.name){if(a.noLeftoversInUrl(t,o,r))return vs(new Dh([],{}));throw new Uh(t)}throw e}))},e.prototype.noLeftoversInUrl=function(e,t,n){return 0===t.length&&!e.children[n]},e.prototype.expandSegmentAgainstRoute=function(e,t,n,o,r,i,a){return Jh(o)!==i?zh(t):void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,r):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,o,r,i):zh(t)},e.prototype.expandSegmentAgainstRouteUsingRedirect=function(e,t,n,o,r,i){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,o,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,o,r,i)},e.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(e,t,n,o){var r=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Wh(i):this.lineralizeSegments(n,i).pipe(X(function(n){var i=new Dh(n,{});return r.expandSegment(e,i,t,n,o,!1)}))},e.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(e,t,n,o,r,i){var a=this,s=Zh(t,o,r),l=s.consumedSegments,u=s.lastChild,c=s.positionalParamSegments;if(!s.matched)return zh(t);var d=this.applyRedirectCommands(l,o.redirectTo,c);return o.redirectTo.startsWith("/")?Wh(d):this.lineralizeSegments(o,d).pipe(X(function(o){return a.expandSegment(e,t,n,o.concat(r.slice(u)),i,!1)}))},e.prototype.matchSegmentAgainstRoute=function(e,t,n,o){var r=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(U(function(e){return n._loadedConfig=e,new Dh(o,{})})):vs(new Dh(o,{}));var s=Zh(t,n,o),l=s.consumedSegments,u=s.lastChild;if(!s.matched)return zh(t);var c=o.slice(u);return this.getChildConfig(e,n).pipe(X(function(e){var n=e.module,o=e.routes,s=function(e,t,n,o){return n.length>0&&function(e,t,n){return o.some(function(n){return Qh(e,t,n)&&Jh(n)!==lh})}(e,n)?{segmentGroup:Yh(new Dh(t,function(e,t){var n,o,r={};r[lh]=t;try{for(var i=a(e),s=i.next();!s.done;s=i.next()){var l=s.value;""===l.path&&Jh(l)!==lh&&(r[Jh(l)]=new Dh([],{}))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return r}(o,new Dh(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return o.some(function(n){return Qh(e,t,n)})}(e,n)?{segmentGroup:Yh(new Dh(e.segments,function(e,t,n,o){var r,s,l={};try{for(var u=a(n),c=u.next();!c.done;c=u.next()){var d=c.value;Qh(e,t,d)&&!o[Jh(d)]&&(l[Jh(d)]=new Dh([],{}))}}catch(e){r={error:e}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}return i({},o,l)}(e,n,o,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,l,c,o),u=s.segmentGroup,d=s.slicedSegments;return 0===d.length&&u.hasChildren()?r.expandChildren(n,o,u).pipe(U(function(e){return new Dh(l,e)})):0===o.length&&0===d.length?vs(new Dh(l,{})):r.expandSegment(n,u,o,d,lh,!0).pipe(U(function(e){return new Dh(l.concat(e.segments),e.children)}))}))},e.prototype.getChildConfig=function(e,t){var n=this;return t.children?vs(new hh(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?vs(t._loadedConfig):function(e,t){var n=t.canLoad;return n&&0!==n.length?yh(G(n).pipe(U(function(n){var o=e.get(n);return bh(o.canLoad?o.canLoad(t):o(t))}))):vs(!0)}(e.injector,t).pipe(X(function(o){return o?n.configLoader.load(e.injector,t).pipe(U(function(e){return t._loadedConfig=e,e})):function(e){return new K(function(t){return t.error(((n=Error("NavigationCancelingError: Cannot load children because the guard of the route \"path: '"+e.path+"'\" returned false")).ngNavigationCancelingError=!0,n));var n})}(t)})):vs(new hh([],e))},e.prototype.lineralizeSegments=function(e,t){for(var n=[],o=t.root;;){if(n=n.concat(o.segments),0===o.numberOfChildren)return vs(n);if(o.numberOfChildren>1||!o.children[lh])return Gh(e.redirectTo);o=o.children[lh]}},e.prototype.applyRedirectCommands=function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)},e.prototype.applyRedirectCreatreUrlTree=function(e,t,n,o){var r=this.createSegmentGroup(e,t.root,n,o);return new Oh(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)},e.prototype.createQueryParams=function(e,t){var n={};return Ch(e,function(e,o){if("string"==typeof e&&e.startsWith(":")){var r=e.substring(1);n[o]=t[r]}else n[o]=e}),n},e.prototype.createSegmentGroup=function(e,t,n,o){var r=this,i=this.createSegments(e,t.segments,n,o),a={};return Ch(t.children,function(t,i){a[i]=r.createSegmentGroup(e,t,n,o)}),new Dh(i,a)},e.prototype.createSegments=function(e,t,n,o){var r=this;return t.map(function(t){return t.path.startsWith(":")?r.findPosParam(e,t,o):r.findOrReturn(t,n)})},e.prototype.findPosParam=function(e,t,n){var o=n[t.path.substring(1)];if(!o)throw new Error("Cannot redirect to '"+e+"'. Cannot find '"+t.path+"'.");return o},e.prototype.findOrReturn=function(e,t){var n,o,r=0;try{for(var i=a(t),s=i.next();!s.done;s=i.next()){var l=s.value;if(l.path===e.path)return t.splice(r),l;r++}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return e},e}();function Zh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var o=(t.matcher||dh)(n,e,t);return o?{matched:!0,consumedSegments:o.consumed,lastChild:o.consumed.length,positionalParamSegments:o.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Yh(e){if(1===e.numberOfChildren&&e.children[lh]){var t=e.children[lh];return new Dh(e.segments.concat(t.segments),t.children)}return e}function Qh(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Jh(e){return e.outlet||lh}var ef=function(){function e(e){this._root=e}return Object.defineProperty(e.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),e.prototype.parent=function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null},e.prototype.children=function(e){var t=tf(e,this._root);return t?t.children.map(function(e){return e.value}):[]},e.prototype.firstChild=function(e){var t=tf(e,this._root);return t&&t.children.length>0?t.children[0].value:null},e.prototype.siblings=function(e){var t=nf(e,this._root);return t.length<2?[]:t[t.length-2].children.map(function(e){return e.value}).filter(function(t){return t!==e})},e.prototype.pathFromRoot=function(e){return nf(e,this._root).map(function(e){return e.value})},e}();function tf(e,t){if(e===t.value)return t;try{for(var n=a(t.children),o=n.next();!o.done;o=n.next()){var r=tf(e,o.value);if(r)return r}}catch(e){i={error:e}}finally{try{o&&!o.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}return null;var i,s}function nf(e,t){if(e===t.value)return[t];try{for(var n=a(t.children),o=n.next();!o.done;o=n.next()){var r=nf(e,o.value);if(r.length)return r.unshift(t),r}}catch(e){i={error:e}}finally{try{o&&!o.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}return[];var i,s}var of=function(){function e(e,t){this.value=e,this.children=t}return e.prototype.toString=function(){return"TreeNode("+this.value+")"},e}();function rf(e){var t={};return e&&e.children.forEach(function(e){return t[e.value.outlet]=e}),t}var af=function(e){function t(t,n){var o=e.call(this,t)||this;return o.snapshot=n,hf(o,t),o}return r(t,e),t.prototype.toString=function(){return this.snapshot.toString()},t}(ef);function sf(e,t){var n=function(e,t){var n=new cf([],{},{},"",{},lh,t,null,e.root,-1,{});return new df("",new of(n,[]))}(e,t),o=new Td([new _h("",{})]),r=new Td({}),i=new Td({}),a=new Td({}),s=new Td(""),l=new lf(o,r,a,s,i,lh,t,n.root);return l.snapshot=n.root,new af(new of(l,[]),n)}var lf=function(){function e(e,t,n,o,r,i,a,s){this.url=e,this.params=t,this.queryParams=n,this.fragment=o,this.data=r,this.outlet=i,this.component=a,this._futureSnapshot=s}return Object.defineProperty(e.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(U(function(e){return ch(e)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(U(function(e){return ch(e)}))),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},e}();function uf(e,t){void 0===t&&(t="emptyOnly");var n=e.pathFromRoot,o=0;if("always"!==t)for(o=n.length-1;o>=1;){var r=n[o],a=n[o-1];if(r.routeConfig&&""===r.routeConfig.path)o--;else{if(a.component)break;o--}}return function(e){return e.reduce(function(e,t){return{params:i({},e.params,t.params),data:i({},e.data,t.data),resolve:i({},e.resolve,t._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(o))}var cf=function(){function e(e,t,n,o,r,i,a,s,l,u,c){this.url=e,this.params=t,this.queryParams=n,this.fragment=o,this.data=r,this.outlet=i,this.component=a,this.routeConfig=s,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}return Object.defineProperty(e.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=ch(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=ch(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"Route(url:'"+this.url.map(function(e){return e.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},e}(),df=function(e){function t(t,n){var o=e.call(this,n)||this;return o.url=t,hf(o,n),o}return r(t,e),t.prototype.toString=function(){return ff(this._root)},t}(ef);function hf(e,t){t.value._routerState=e,t.children.forEach(function(t){return hf(e,t)})}function ff(e){var t=e.children.length>0?" { "+e.children.map(ff).join(", ")+" } ":"";return""+e.value+t}function pf(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Eh(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Eh(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Eh(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Eh(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function gf(e,t){var n,o;return Eh(e.params,t.params)&&Rh(n=e.url,o=t.url)&&n.every(function(e,t){return Eh(e.parameters,o[t].parameters)})&&!(!e.parent!=!t.parent)&&(!e.parent||gf(e.parent,t.parent))}function mf(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ef(e,t,n,o,r){var i={};return o&&Ch(o,function(e,t){i[t]=Array.isArray(e)?e.map(function(e){return""+e}):""+e}),new Oh(n.root===e?t:function e(t,n,o){var r={};return Ch(t.children,function(t,i){r[i]=t===n?o:e(t,n,o)}),new Dh(t.segments,r)}(n.root,e,t),i,r)}var vf=function(){function e(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&mf(n[0]))throw new Error("Root segment cannot have matrix parameters");var o=n.find(function(e){return"object"==typeof e&&null!=e&&e.outlets});if(o&&o!==Th(n))throw new Error("{outlets:{}} has to be the last command")}return e.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},e}(),Tf=function(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n};function Cf(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[lh]:""+e}function yf(e,t,n){if(e||(e=new Dh([],{})),0===e.segments.length&&e.hasChildren())return bf(e,t,n);var o=function(e,t,n){for(var o=0,r=t,i={match:!1,pathIndex:0,commandIndex:0};r<e.segments.length;){if(o>=n.length)return i;var a=e.segments[r],s=Cf(n[o]),l=o<n.length-1?n[o+1]:null;if(r>0&&void 0===s)break;if(s&&l&&"object"==typeof l&&void 0===l.outlets){if(!_f(s,l,a))return i;o+=2}else{if(!_f(s,{},a))return i;o++}r++}return{match:!0,pathIndex:r,commandIndex:o}}(e,t,n),r=n.slice(o.commandIndex);if(o.match&&o.pathIndex<e.segments.length){var i=new Dh(e.segments.slice(0,o.pathIndex),{});return i.children[lh]=new Dh(e.segments.slice(o.pathIndex),e.children),bf(i,0,r)}return o.match&&0===r.length?new Dh(e.segments,{}):o.match&&!e.hasChildren()?If(e,t,n):o.match?bf(e,0,r):If(e,t,n)}function bf(e,t,n){if(0===n.length)return new Dh(e.segments,{});var o=function(e){return"object"!=typeof e[0]?((t={})[lh]=e,t):void 0===e[0].outlets?((n={})[lh]=e,n):e[0].outlets;var t,n}(n),r={};return Ch(o,function(n,o){null!==n&&(r[o]=yf(e.children[o],t,n))}),Ch(e.children,function(e,t){void 0===o[t]&&(r[t]=e)}),new Dh(e.segments,r)}function If(e,t,n){for(var o=e.segments.slice(0,t),r=0;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){var i=Of(n[r].outlets);return new Dh(o,i)}if(0===r&&mf(n[0]))o.push(new _h(e.segments[t].path,n[0])),r++;else{var a=Cf(n[r]),s=r<n.length-1?n[r+1]:null;a&&s&&mf(s)?(o.push(new _h(a,Df(s))),r+=2):(o.push(new _h(a,{})),r++)}}return new Dh(o,{})}function Of(e){var t={};return Ch(e,function(e,n){null!==e&&(t[n]=If(new Dh([],{}),0,e))}),t}function Df(e){var t={};return Ch(e,function(e,n){return t[n]=""+e}),t}function _f(e,t,n){return e==n.path&&Eh(t,n.parameters)}var Rf=function(e){this.path=e,this.route=this.path[this.path.length-1]},wf=function(e,t){this.component=e,this.route=t},kf=function(){function e(e,t,n,o){this.future=e,this.curr=t,this.moduleInjector=n,this.forwardEvent=o,this.canActivateChecks=[],this.canDeactivateChecks=[]}return e.prototype.initialize=function(e){var t=this.future._root;this.setupChildRouteGuards(t,this.curr?this.curr._root:null,e,[t.value])},e.prototype.checkGuards=function(){var e=this;return this.isDeactivating()||this.isActivating()?this.runCanDeactivateChecks().pipe(X(function(t){return t?e.runCanActivateChecks():vs(!1)})):vs(!0)},e.prototype.resolveData=function(e){var t=this;return this.isActivating()?G(this.canActivateChecks).pipe(Ts(function(n){return t.runResolve(n.route,e)}),function(e,t){return arguments.length>=2?function(n){return w(jd(e,t),bd(1),kd(t))(n)}:function(t){return w(jd(function(t,n,o){return e(t,n,o+1)}),bd(1))(t)}}(function(e,t){return e})):vs(null)},e.prototype.isDeactivating=function(){return 0!==this.canDeactivateChecks.length},e.prototype.isActivating=function(){return 0!==this.canActivateChecks.length},e.prototype.setupChildRouteGuards=function(e,t,n,o){var r=this,i=rf(t);e.children.forEach(function(e){r.setupRouteGuards(e,i[e.value.outlet],n,o.concat([e.value])),delete i[e.value.outlet]}),Ch(i,function(e,t){return r.deactivateRouteAndItsChildren(e,n.getContext(t))})},e.prototype.setupRouteGuards=function(e,t,n,o){var r=e.value,i=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(i&&r.routeConfig===i.routeConfig){var s=this.shouldRunGuardsAndResolvers(i,r,r.routeConfig.runGuardsAndResolvers);s?this.canActivateChecks.push(new Rf(o)):(r.data=i.data,r._resolvedData=i._resolvedData),this.setupChildRouteGuards(e,t,r.component?a?a.children:null:n,o),s&&this.canDeactivateChecks.push(new wf(a.outlet.component,i))}else i&&this.deactivateRouteAndItsChildren(t,a),this.canActivateChecks.push(new Rf(o)),this.setupChildRouteGuards(e,null,r.component?a?a.children:null:n,o)},e.prototype.shouldRunGuardsAndResolvers=function(e,t,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!gf(e,t)||!Eh(e.queryParams,t.queryParams);case"paramsChange":default:return!gf(e,t)}},e.prototype.deactivateRouteAndItsChildren=function(e,t){var n=this,o=rf(e),r=e.value;Ch(o,function(e,o){n.deactivateRouteAndItsChildren(e,r.component?t?t.children.getContext(o):null:t)}),this.canDeactivateChecks.push(new wf(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))},e.prototype.runCanDeactivateChecks=function(){var e=this;return G(this.canDeactivateChecks).pipe(X(function(t){return e.runCanDeactivate(t.component,t.route)}),Ld(function(e){return!0===e}))},e.prototype.runCanActivateChecks=function(){var e=this;return G(this.canActivateChecks).pipe(Ts(function(t){return yh(G([e.fireChildActivationStart(t.route.parent),e.fireActivationStart(t.route),e.runCanActivateChild(t.path),e.runCanActivate(t.route)]))}),Ld(function(e){return!0===e}))},e.prototype.fireActivationStart=function(e){return null!==e&&this.forwardEvent&&this.forwardEvent(new ah(e)),vs(!0)},e.prototype.fireChildActivationStart=function(e){return null!==e&&this.forwardEvent&&this.forwardEvent(new rh(e)),vs(!0)},e.prototype.runCanActivate=function(e){var t=this,n=e.routeConfig?e.routeConfig.canActivate:null;return n&&0!==n.length?yh(G(n).pipe(U(function(n){var o=t.getToken(n,e);return bh(o.canActivate?o.canActivate(e,t.future):o(e,t.future)).pipe(Vd())}))):vs(!0)},e.prototype.runCanActivateChild=function(e){var t=this,n=e[e.length-1];return yh(G(e.slice(0,e.length-1).reverse().map(function(e){return t.extractCanActivateChild(e)}).filter(function(e){return null!==e})).pipe(U(function(e){return yh(G(e.guards).pipe(U(function(o){var r=t.getToken(o,e.node);return bh(r.canActivateChild?r.canActivateChild(n,t.future):r(n,t.future)).pipe(Vd())})))})))},e.prototype.extractCanActivateChild=function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null},e.prototype.runCanDeactivate=function(e,t){var n=this,o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?G(o).pipe(X(function(o){var r=n.getToken(o,t);return bh(r.canDeactivate?r.canDeactivate(e,t,n.curr,n.future):r(e,t,n.curr,n.future)).pipe(Vd())})).pipe(Ld(function(e){return!0===e})):vs(!0)},e.prototype.runResolve=function(e,t){return this.resolveNode(e._resolve,e).pipe(U(function(n){return e._resolvedData=n,e.data=i({},e.data,uf(e,t).resolve),null}))},e.prototype.resolveNode=function(e,t){var n=this,o=Object.keys(e);if(0===o.length)return vs({});if(1===o.length){var r=o[0];return this.getResolver(e[r],t).pipe(U(function(e){return(t={})[r]=e,t;var t}))}var i={};return G(o).pipe(X(function(o){return n.getResolver(e[o],t).pipe(U(function(e){return i[o]=e,e}))})).pipe(Nd(),U(function(){return i}))},e.prototype.getResolver=function(e,t){var n=this.getToken(e,t);return bh(n.resolve?n.resolve(t,this.future):n(t,this.future))},e.prototype.getToken=function(e,t){var n=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(n?n.module.injector:this.moduleInjector).get(e)},e}(),Kf=function(){},Sf=function(){function e(e,t,n,o,r){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=o,this.paramsInheritanceStrategy=r}return e.prototype.recognize=function(){try{var e=Af(this.urlTree.root,[],[],this.config).segmentGroup,t=this.processSegmentGroup(this.config,e,lh),n=new cf([],Object.freeze({}),Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,{},lh,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new of(n,t),r=new df(this.url,o);return this.inheritParamsAndData(r._root),vs(r)}catch(e){return new K(function(t){return t.error(e)})}},e.prototype.inheritParamsAndData=function(e){var t=this,n=e.value,o=uf(n,this.paramsInheritanceStrategy);n.params=Object.freeze(o.params),n.data=Object.freeze(o.data),e.children.forEach(function(e){return t.inheritParamsAndData(e)})},e.prototype.processSegmentGroup=function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)},e.prototype.processChildren=function(e,t){var n,o=this,r=wh(t,function(t,n){return o.processSegmentGroup(e,t,n)});return n={},r.forEach(function(e){var t=n[e.value.outlet];if(t){var o=t.url.map(function(e){return e.toString()}).join("/"),r=e.value.url.map(function(e){return e.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+o+"' and '"+r+"'.")}n[e.value.outlet]=e.value}),r.sort(function(e,t){return e.value.outlet===lh?-1:t.value.outlet===lh?1:e.value.outlet.localeCompare(t.value.outlet)}),r},e.prototype.processSegment=function(e,t,n,o){try{for(var r=a(e),i=r.next();!i.done;i=r.next()){var s=i.value;try{return this.processSegmentAgainstRoute(s,t,n,o)}catch(e){if(!(e instanceof Kf))throw e}}}catch(e){l={error:e}}finally{try{i&&!i.done&&(u=r.return)&&u.call(r)}finally{if(l)throw l.error}}if(this.noLeftoversInUrl(t,n,o))return[];throw new Kf;var l,u},e.prototype.noLeftoversInUrl=function(e,t,n){return 0===t.length&&!e.children[n]},e.prototype.processSegmentAgainstRoute=function(e,t,n,o){if(e.redirectTo)throw new Kf;if((e.outlet||lh)!==o)throw new Kf;var r,a=[],s=[];if("**"===e.path){var l=n.length>0?Th(n).parameters:{};r=new cf(n,l,Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,Ff(e),o,e.component,e,Nf(t),xf(t)+n.length,Mf(e))}else{var u=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Kf;return{consumedSegments:[],lastChild:0,parameters:{}}}var o=(t.matcher||dh)(n,e,t);if(!o)throw new Kf;var r={};Ch(o.posParams,function(e,t){r[t]=e.path});var a=o.consumed.length>0?i({},r,o.consumed[o.consumed.length-1].parameters):r;return{consumedSegments:o.consumed,lastChild:o.consumed.length,parameters:a}}(t,e,n);a=u.consumedSegments,s=n.slice(u.lastChild),r=new cf(a,u.parameters,Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,Ff(e),o,e.component,e,Nf(t),xf(t)+a.length,Mf(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),d=Af(t,a,s,c),h=d.segmentGroup,f=d.slicedSegments;if(0===f.length&&h.hasChildren()){var p=this.processChildren(c,h);return[new of(r,p)]}if(0===c.length&&0===f.length)return[new of(r,[])];var g=this.processSegment(c,h,f,lh);return[new of(r,g)]},e}();function Nf(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function xf(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Af(e,t,n,o){if(n.length>0&&function(e,t,n){return o.some(function(n){return Pf(e,t,n)&&Lf(n)!==lh})}(e,n)){var r=new Dh(t,function(e,t,n,o){var r,i,s={};s[lh]=o,o._sourceSegment=e,o._segmentIndexShift=t.length;try{for(var l=a(n),u=l.next();!u.done;u=l.next()){var c=u.value;if(""===c.path&&Lf(c)!==lh){var d=new Dh([],{});d._sourceSegment=e,d._segmentIndexShift=t.length,s[Lf(c)]=d}}}catch(e){r={error:e}}finally{try{u&&!u.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return s}(e,t,o,new Dh(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return o.some(function(n){return Pf(e,t,n)})}(e,n)){var s=new Dh(e.segments,function(e,t,n,o){var r,s,l={};try{for(var u=a(n),c=u.next();!c.done;c=u.next()){var d=c.value;if(Pf(e,t,d)&&!o[Lf(d)]){var h=new Dh([],{});h._sourceSegment=e,h._segmentIndexShift=e.segments.length,l[Lf(d)]=h}}}catch(e){r={error:e}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(r)throw r.error}}return i({},o,l)}(e,n,o,e.children));return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}var l=new Dh(e.segments,e.children);return l._sourceSegment=e,l._segmentIndexShift=t.length,{segmentGroup:l,slicedSegments:n}}function Pf(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Lf(e){return e.outlet||lh}function Ff(e){return e.data||{}}function Mf(e){return e.resolve||{}}var Bf=function(){},$f=function(){function e(){}return e.prototype.shouldDetach=function(e){return!1},e.prototype.store=function(e,t){},e.prototype.shouldAttach=function(e){return!1},e.prototype.retrieve=function(e){return null},e.prototype.shouldReuseRoute=function(e,t){return e.routeConfig===t.routeConfig},e}(),Vf=new fe("ROUTES"),Hf=function(){function e(e,t,n,o){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=o}return e.prototype.load=function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(U(function(o){n.onLoadEndListener&&n.onLoadEndListener(t);var r=o.create(e);return new hh(vh(r.injector.get(Vf)).map(mh),r)}))},e.prototype.loadModuleFactory=function(e){var t=this;return"string"==typeof e?G(this.loader.load(e)):bh(e()).pipe(X(function(e){return e instanceof Pt?vs(e):G(t.compiler.compileModuleAsync(e))}))},e}(),jf=function(){},Uf=function(){function e(){}return e.prototype.shouldProcessUrl=function(e){return!0},e.prototype.extract=function(e){return e},e.prototype.merge=function(e,t){return e},e}();function qf(e){throw e}function zf(e){return vs(null)}var Wf=function(){function e(e,t,n,o,r,i,a,s){var l=this;this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=o,this.config=s,this.navigations=new Td(null),this.navigationId=0,this.events=new oe,this.errorHandler=qf,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:zf,afterPreactivation:zf},this.urlHandlingStrategy=new Uf,this.routeReuseStrategy=new $f,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.ngModule=r.get(At),this.resetConfig(s),this.currentUrlTree=new Oh(new Dh([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new Hf(i,a,function(e){return l.triggerEvent(new nh(e))},function(e){return l.triggerEvent(new oh(e))}),this.routerState=sf(this.currentUrlTree,this.rootComponentType),this.processNavigations()}return e.prototype.resetRootComponentType=function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType},e.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},e.prototype.setUpLocationChangeListener=function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(t){var n=e.urlSerializer.parse(t.url),o="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?{navigationId:t.state.navigationId}:null;setTimeout(function(){e.scheduleNavigation(n,o,r,{replaceUrl:!0})},0)}))},Object.defineProperty(e.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),e.prototype.triggerEvent=function(e){this.events.next(e)},e.prototype.resetConfig=function(e){fh(e),this.config=e.map(mh),this.navigated=!1,this.lastSuccessfulId=-1},e.prototype.ngOnDestroy=function(){this.dispose()},e.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},e.prototype.createUrlTree=function(e,t){void 0===t&&(t={});var n=t.relativeTo,o=t.queryParams,r=t.fragment,a=t.preserveQueryParams,s=t.queryParamsHandling,u=t.preserveFragment;tn()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var c=n||this.routerState.root,d=u?this.currentUrlTree.fragment:r,h=null;if(s)switch(s){case"merge":h=i({},this.currentUrlTree.queryParams,o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}else h=a?this.currentUrlTree.queryParams:o||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,o,r){if(0===n.length)return Ef(t.root,t.root,t,o,r);var i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new vf(!0,0,e);var t=0,n=!1,o=e.reduce(function(e,o,r){if("object"==typeof o&&null!=o){if(o.outlets){var i={};return Ch(o.outlets,function(e,t){i[t]="string"==typeof e?e.split("/"):e}),l(e,[{outlets:i}])}if(o.segmentPath)return l(e,[o.segmentPath])}return"string"!=typeof o?l(e,[o]):0===r?(o.split("/").forEach(function(o,r){0==r&&"."===o||(0==r&&""===o?n=!0:".."===o?t++:""!=o&&e.push(o))}),e):l(e,[o])},[]);return new vf(n,t,o)}(n);if(i.toRoot())return Ef(t.root,new Dh([],{}),t,o,r);var a=function(e,n,o){if(e.isAbsolute)return new Tf(t.root,!0,0);if(-1===o.snapshot._lastPathIndex)return new Tf(o.snapshot._urlSegment,!0,0);var r=mf(e.commands[0])?0:1;return function(t,n,i){for(var a=o.snapshot._urlSegment,s=o.snapshot._lastPathIndex+r,l=e.numberOfDoubleDots;l>s;){if(l-=s,!(a=a.parent))throw new Error("Invalid number of '../'");s=a.segments.length}return new Tf(a,!1,s-l)}()}(i,0,e),s=a.processChildren?bf(a.segmentGroup,a.index,i.commands):yf(a.segmentGroup,a.index,i.commands);return Ef(a.segmentGroup,s,t,o,r)}(c,this.currentUrlTree,e,h,d)},e.prototype.navigateByUrl=function(e,t){void 0===t&&(t={skipLocationChange:!1});var n=e instanceof Oh?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,t)},e.prototype.navigate=function(e,t){return void 0===t&&(t={skipLocationChange:!1}),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+t)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)},e.prototype.serializeUrl=function(e){return this.urlSerializer.serialize(e)},e.prototype.parseUrl=function(e){return this.urlSerializer.parse(e)},e.prototype.isActive=function(e,t){if(e instanceof Oh)return Ih(this.currentUrlTree,e,t);var n=this.urlSerializer.parse(e);return Ih(this.currentUrlTree,n,t)},e.prototype.removeEmptyProps=function(e){return Object.keys(e).reduce(function(t,n){var o=e[n];return null!==o&&void 0!==o&&(t[n]=o),t},{})},e.prototype.processNavigations=function(){var e=this;this.navigations.pipe(Ts(function(t){return t?(e.executeScheduledNavigation(t),t.promise.catch(function(){})):vs(null)})).subscribe(function(){})},e.prototype.scheduleNavigation=function(e,t,n,o){var r=this.navigations.value;if(r&&"imperative"!==t&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==t&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"popstate"==t&&"hashchange"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);var i=null,a=null,s=new Promise(function(e,t){i=e,a=t}),l=++this.navigationId;return this.navigations.next({id:l,source:t,state:n,rawUrl:e,extras:o,resolve:i,reject:a,promise:s}),s.catch(function(e){return Promise.reject(e)})},e.prototype.executeScheduledNavigation=function(e){var t=this,n=e.id,o=e.rawUrl,r=e.extras,i=e.resolve,a=e.reject,s=e.source,l=e.state,u=this.urlHandlingStrategy.extract(o),c=!this.navigated||u.toString()!==this.currentUrlTree.toString();("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(o)?(this.events.next(new Wd(n,this.serializeUrl(u),s,l)),Promise.resolve().then(function(e){return t.runNavigate(u,o,!!r.skipLocationChange,!!r.replaceUrl,n,null)}).then(i,a)):c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)?(this.events.next(new Wd(n,this.serializeUrl(u),s,l)),Promise.resolve().then(function(e){return t.runNavigate(u,o,!1,!1,n,sf(u,t.rootComponentType).snapshot)}).then(i,a)):(this.rawUrlTree=o,i(null))},e.prototype.runNavigate=function(e,t,n,o,r,i){var s=this;return r!==this.navigationId?(this.events.next(new Xd(r,this.serializeUrl(e),"Navigation ID "+r+" is not equal to the current navigation id "+this.navigationId)),Promise.resolve(!1)):new Promise(function(l,u){var c,d=(i?vs({appliedUrl:e,snapshot:i}):new Xh(s.ngModule.injector,s.configLoader,s.urlSerializer,e,s.config).apply().pipe(X(function(t){return function(e,t,n,o,r){return void 0===r&&(r="emptyOnly"),new Sf(e,t,n,o,r).recognize()}(s.rootComponentType,s.config,t,s.serializeUrl(t),s.paramsInheritanceStrategy).pipe(U(function(n){return s.events.next(new Yd(r,s.serializeUrl(e),s.serializeUrl(t),n)),{appliedUrl:t,snapshot:n}}))}))).pipe(X(function(e){return"boolean"==typeof e?vs(e):s.hooks.beforePreactivation(e.snapshot).pipe(U(function(){return e}))})).pipe(U(function(e){if("boolean"==typeof e)return e;var t=e.appliedUrl,n=e.snapshot;return(c=new kf(n,s.routerState.snapshot,s.ngModule.injector,function(e){return s.triggerEvent(e)})).initialize(s.rootContexts),{appliedUrl:t,snapshot:n}})).pipe(X(function(t){if("boolean"==typeof t||s.navigationId!==r)return vs(!1);var n=t.appliedUrl,o=t.snapshot;return s.triggerEvent(new Qd(r,s.serializeUrl(e),s.serializeUrl(n),o)),c.checkGuards().pipe(U(function(t){return s.triggerEvent(new Jd(r,s.serializeUrl(e),s.serializeUrl(n),o,t)),{appliedUrl:n,snapshot:o,shouldActivate:t}}))})).pipe(X(function(t){return"boolean"==typeof t||s.navigationId!==r?vs(!1):t.shouldActivate&&c.isActivating()?(s.triggerEvent(new eh(r,s.serializeUrl(e),s.serializeUrl(t.appliedUrl),t.snapshot)),c.resolveData(s.paramsInheritanceStrategy).pipe(U(function(){return s.triggerEvent(new th(r,s.serializeUrl(e),s.serializeUrl(t.appliedUrl),t.snapshot)),t}))):vs(t)})).pipe(X(function(e){return"boolean"==typeof e||s.navigationId!==r?vs(!1):s.hooks.afterPreactivation(e.snapshot).pipe(U(function(){return e}))})).pipe(U(function(e){if("boolean"==typeof e||s.navigationId!==r)return!1;var t,n,o,i=e.appliedUrl,l=e.shouldActivate;return l?{appliedUrl:i,state:(o=function e(t,n,o){if(o&&t.shouldReuseRoute(n.value,o.value.snapshot)){(u=o.value)._futureSnapshot=n.value;var r=function(t,n,o){return n.children.map(function(n){try{for(var r=a(o.children),i=r.next();!i.done;i=r.next()){var s=i.value;if(t.shouldReuseRoute(s.value.snapshot,n.value))return e(t,n,s)}}catch(e){l={error:e}}finally{try{i&&!i.done&&(u=r.return)&&u.call(r)}finally{if(l)throw l.error}}return e(t,n);var l,u})}(t,n,o);return new of(u,r)}var i=t.retrieve(n.value);if(i){var s=i.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var o=0;o<t.children.length;++o)e(t.children[o],n.children[o])}(n,s),s}var l,u=new lf(new Td((l=n.value).url),new Td(l.params),new Td(l.queryParams),new Td(l.fragment),new Td(l.data),l.outlet,l.component,l);return r=n.children.map(function(n){return e(t,n)}),new of(u,r)}(s.routeReuseStrategy,(t=e.snapshot)._root,(n=s.routerState)?n._root:void 0),new af(o,t)),shouldActivate:l}:{appliedUrl:i,state:null,shouldActivate:l}}));s.activateRoutes(d,s.routerState,s.currentUrlTree,r,e,t,n,o,l,u)})},e.prototype.activateRoutes=function(e,t,n,o,r,i,a,s,l,u){var c,d=this;e.forEach(function(e){if("boolean"!=typeof e&&e.shouldActivate&&o===d.navigationId&&e.state){var n=e.state;if(d.currentUrlTree=e.appliedUrl,d.rawUrlTree=d.urlHandlingStrategy.merge(d.currentUrlTree,i),d.routerState=n,!a){var r=d.urlSerializer.serialize(d.rawUrlTree);d.location.isCurrentPathEqualTo(r)||s?d.location.replaceState(r,"",{navigationId:o}):d.location.go(r,"",{navigationId:o})}new Gf(d.routeReuseStrategy,n,t,function(e){return d.triggerEvent(e)}).activate(d.rootContexts),c=!0}else c=!1}).then(function(){c?(d.navigated=!0,d.lastSuccessfulId=o,d.events.next(new Gd(o,d.serializeUrl(r),d.serializeUrl(d.currentUrlTree))),l(!0)):(d.resetUrlToCurrentUrlTree(),d.events.next(new Xd(o,d.serializeUrl(r),"")),l(!1))},function(e){if((a=e)&&a.ngNavigationCancelingError)d.navigated=!0,d.resetStateAndUrl(t,n,i),d.events.next(new Xd(o,d.serializeUrl(r),e.message)),l(!1);else{d.resetStateAndUrl(t,n,i),d.events.next(new Zd(o,d.serializeUrl(r),e));try{l(d.errorHandler(e))}catch(e){u(e)}}var a})},e.prototype.resetStateAndUrl=function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},e.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},e}(),Gf=function(){function e(e,t,n,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=o}return e.prototype.activate=function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),pf(this.futureState.root),this.activateChildRoutes(t,n,e)},e.prototype.deactivateChildRoutes=function(e,t,n){var o=this,r=rf(t);e.children.forEach(function(e){var t=e.value.outlet;o.deactivateRoutes(e,r[t],n),delete r[t]}),Ch(r,function(e,t){o.deactivateRouteAndItsChildren(e,n)})},e.prototype.deactivateRoutes=function(e,t,n){var o=e.value,r=t?t.value:null;if(o===r)if(o.component){var i=n.getContext(o.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)},e.prototype.deactivateRouteAndItsChildren=function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)},e.prototype.detachAndStoreRouteSubtree=function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var o=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:r})}},e.prototype.deactivateRouteAndOutlet=function(e,t){var n=this,o=t.getContext(e.value.outlet);if(o){var r=rf(e),i=e.value.component?o.children:t;Ch(r,function(e,t){return n.deactivateRouteAndItsChildren(e,i)}),o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated())}},e.prototype.activateChildRoutes=function(e,t,n){var o=this,r=rf(t);e.children.forEach(function(e){o.activateRoutes(e,r[e.value.outlet],n),o.forwardEvent(new sh(e.value.snapshot))}),e.children.length&&this.forwardEvent(new ih(e.value.snapshot))},e.prototype.activateRoutes=function(e,t,n){var o=e.value,r=t?t.value:null;if(pf(o),o===r)if(o.component){var i=n.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(o.component)if(i=n.getOrCreateContext(o.outlet),this.routeReuseStrategy.shouldAttach(o.snapshot)){var a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),i.children.onOutletReAttached(a.contexts),i.attachRef=a.componentRef,i.route=a.route.value,i.outlet&&i.outlet.attach(a.componentRef,a.route.value),Xf(a.route)}else{var s=function(e){for(var t=o.snapshot.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),l=s?s.module.componentFactoryResolver:null;i.route=o,i.resolver=l,i.outlet&&i.outlet.activateWith(o,l),this.activateChildRoutes(e,null,i.children)}else this.activateChildRoutes(e,null,n)},e}();function Xf(e){pf(e.value),e.children.forEach(Xf)}var Zf=function(){function e(e,t,n,o,r){this.router=e,this.route=t,this.commands=[],null==n&&o.setAttribute(r.nativeElement,"tabindex","0")}return Object.defineProperty(e.prototype,"routerLink",{set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"preserveQueryParams",{set:function(e){tn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e},enumerable:!0,configurable:!0}),e.prototype.onClick=function(){var e={skipLocationChange:Yf(this.skipLocationChange),replaceUrl:Yf(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0},Object.defineProperty(e.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Yf(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Yf(this.preserveFragment)})},enumerable:!0,configurable:!0}),e}();function Yf(e){return""===e||!!e}var Qf=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Jf,this.attachRef=null}}(),Jf=function(){function e(){this.contexts=new Map}return e.prototype.onChildOutletCreated=function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)},e.prototype.onChildOutletDestroyed=function(e){var t=this.getContext(e);t&&(t.outlet=null)},e.prototype.onOutletDeactivated=function(){var e=this.contexts;return this.contexts=new Map,e},e.prototype.onOutletReAttached=function(e){this.contexts=e},e.prototype.getOrCreateContext=function(e){var t=this.getContext(e);return t||(t=new Qf,this.contexts.set(e,t)),t},e.prototype.getContext=function(e){return this.contexts.get(e)||null},e}(),ep=function(){function e(e,t,n,o,r){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new $t,this.deactivateEvents=new $t,this.name=o||lh,e.onChildOutletCreated(this.name,this)}return e.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},e.prototype.ngOnInit=function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}},Object.defineProperty(e.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),e.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e},e.prototype.attach=function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)},e.prototype.deactivate=function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}},e.prototype.activateWith=function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),o=this.parentContexts.getOrCreateContext(this.name).children,r=new tp(e,o,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},e}(),tp=function(){function e(e,t,n){this.route=e,this.childContexts=t,this.parent=n}return e.prototype.get=function(e,t){return e===lf?this.route:e===Jf?this.childContexts:this.parent.get(e,t)},e}(),np=function(){},op=function(){function e(){}return e.prototype.preload=function(e,t){return t().pipe(xd(function(){return vs(null)}))},e}(),rp=function(){function e(){}return e.prototype.preload=function(e,t){return vs(null)},e}(),ip=function(){function e(e,t,n,o,r){this.router=e,this.injector=o,this.preloadingStrategy=r,this.loader=new Hf(t,n,function(t){return e.triggerEvent(new nh(t))},function(t){return e.triggerEvent(new oh(t))})}return e.prototype.setUpPreloading=function(){var e=this;this.subscription=this.router.events.pipe(Cs(function(e){return e instanceof Gd}),Ts(function(){return e.preload()})).subscribe(function(){})},e.prototype.preload=function(){var e=this.injector.get(At);return this.processRoutes(e,this.router.config)},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.processRoutes=function(e,t){var n,o,r=[];try{for(var i=a(t),s=i.next();!s.done;s=i.next()){var l=s.value;if(l.loadChildren&&!l.canLoad&&l._loadedConfig){var u=l._loadedConfig;r.push(this.processRoutes(u.module,u.routes))}else l.loadChildren&&!l.canLoad?r.push(this.preloadConfig(e,l)):l.children&&r.push(this.processRoutes(e,l.children))}}catch(e){n={error:e}}finally{try{s&&!s.done&&(o=i.return)&&o.call(i)}finally{if(n)throw n.error}}return G(r).pipe(J(),U(function(e){}))},e.prototype.preloadConfig=function(e,t){var n=this;return this.preloadingStrategy.preload(t,function(){return n.loader.load(e.injector,t).pipe(X(function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)}))})},e}(),ap=new fe("ROUTER_CONFIGURATION"),sp=new fe("ROUTER_FORROOT_GUARD"),lp=[Rs,{provide:kh,useClass:Kh},{provide:Wf,useFactory:pp,deps:[ln,kh,Jf,Rs,Fe,pn,It,Vf,ap,[jf,new Ke],[Bf,new Ke]]},Jf,{provide:lf,useFactory:gp,deps:[Wf]},{provide:pn,useClass:vn},ip,rp,op,{provide:ap,useValue:{enableTracing:!1}}];function up(){return new nn("Router",Wf)}var cp=function(){function e(e,t){}return e.forRoot=function(t,n){return{ngModule:e,providers:[lp,fp(t),{provide:sp,useFactory:hp,deps:[[Wf,new Ke,new Ne]]},{provide:ap,useValue:n||{}},{provide:Ds,useFactory:dp,deps:[Is,[new ke(_s),new Ke],ap]},{provide:np,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:rp},{provide:nn,multi:!0,useFactory:up},[mp,{provide:ft,multi:!0,useFactory:Ep,deps:[mp]},{provide:Tp,useFactory:vp,deps:[mp]},{provide:Ct,multi:!0,useExisting:Tp}]]}},e.forChild=function(t){return{ngModule:e,providers:[fp(t)]}},e}();function dp(e,t,n){return void 0===n&&(n={}),n.useHash?new ks(e,t):new Ks(e,t)}function hp(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function fp(e){return[{provide:me,multi:!0,useValue:e},{provide:Vf,multi:!0,useValue:e}]}function pp(e,t,n,o,r,i,a,s,l,u,c){void 0===l&&(l={});var d=new Wf(null,t,n,o,r,i,a,vh(s));if(u&&(d.urlHandlingStrategy=u),c&&(d.routeReuseStrategy=c),l.errorHandler&&(d.errorHandler=l.errorHandler),l.enableTracing){var h=ou();d.events.subscribe(function(e){h.logGroup("Router Event: "+e.constructor.name),h.log(e.toString()),h.log(e),h.logGroupEnd()})}return l.onSameUrlNavigation&&(d.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(d.paramsInheritanceStrategy=l.paramsInheritanceStrategy),d}function gp(e){return e.routerState.root}var mp=function(){function e(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new oe}return e.prototype.appInitializer=function(){var e=this;return this.injector.get(Os,Promise.resolve(null)).then(function(){var t=null,n=new Promise(function(e){return t=e}),o=e.injector.get(Wf),r=e.injector.get(ap);if(e.isLegacyDisabled(r)||e.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)o.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error("Invalid initialNavigation options: '"+r.initialNavigation+"'");o.hooks.afterPreactivation=function(){return e.initNavigation?vs(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},o.initialNavigation()}return n})},e.prototype.bootstrapListener=function(e){var t=this.injector.get(ap),n=this.injector.get(ip),o=this.injector.get(Wf),r=this.injector.get(ln);e===r.components[0]&&(this.isLegacyEnabled(t)?o.initialNavigation():this.isLegacyDisabled(t)&&o.setUpLocationChangeListener(),n.setUpPreloading(),o.resetRootComponentType(r.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},e.prototype.isLegacyEnabled=function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation},e.prototype.isLegacyDisabled=function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation},e}();function Ep(e){return e.appInitializer.bind(e)}function vp(e){return e.bootstrapListener.bind(e)}var Tp=new fe("Router Initializer"),Cp=Ho({encapsulation:0,styles:[[".jumbotron[_ngcontent-%COMP%]{margin-bottom:0}.row[_ngcontent-%COMP%]{margin-top:20px}.box2[_ngcontent-%COMP%]{background:url(photo.c181983e69e667ea839f.jpeg) center no-repeat border-box;padding-left:15px}.textbox_padding[_ngcontent-%COMP%]{padding:30px}.box3[_ngcontent-%COMP%]{background:url(photo.c181983e69e667ea839f.jpeg) no-repeat border-box;padding-right:15px}.box6[_ngcontent-%COMP%]{background:url(photo.c181983e69e667ea839f.jpeg) no-repeat border-box;padding-left:15px}.col_l[_ngcontent-%COMP%]{padding-right:10px;padding-left:0}.col_r[_ngcontent-%COMP%]{padding-left:10px;padding-right:0}.box[_ngcontent-%COMP%]{height:400px}.box.text[_ngcontent-%COMP%]{height:400px;display:inline-block;vertical-align:top;background-color:#d3d3d3}.nopadding[_ngcontent-%COMP%]{padding:0!important;margin-top:15px!important}.vcenter[_ngcontent-%COMP%]{position:relative;-webkit-transform:translatey(-50%);transform:translatey(-50%);top:50%}@media (max-width:767px){.box2[_ngcontent-%COMP%], .box3[_ngcontent-%COMP%], .box6[_ngcontent-%COMP%]{background:url(photo.c181983e69e667ea839f.jpeg)}.col_l[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.col_r[_ngcontent-%COMP%]{padding-left:0;padding-right:0;margin-top:20px}}"]],data:{}});function yp(e){return Ki(0,[(e()(),mr(0,0,null,null,2,"button",[["routerLink","../tutoring-session"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==qr(e,1).onClick()&&o),o},null,null)),ri(1,16384,null,0,Zf,[Wf,lf,[8,null],hn,fn],{routerLink:[0,"routerLink"]},null),(e()(),Ri(-1,null,["Go to tutoring session"])),(e()(),mr(3,0,null,null,2,"button",[["routerLink","../new-resource"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==qr(e,4).onClick()&&o),o},null,null)),ri(4,16384,null,0,Zf,[Wf,lf,[8,null],hn,fn],{routerLink:[0,"routerLink"]},null),(e()(),Ri(-1,null,["Go to new resource"])),(e()(),mr(6,0,null,null,8,"div",[["class","jumbotron"]],null,null,null,null,null)),(e()(),mr(7,0,null,null,7,"div",[["class","container"]],null,null,null,null,null)),(e()(),mr(8,0,null,null,1,"h1",[],null,null,null,null,null)),(e()(),Ri(-1,null,["Hello, world!"])),(e()(),mr(10,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ri(-1,null,["This is a template for a simple marketing or informational website. It includes a large callout called a jumbotron and three supporting pieces of content. Use it as a starting point to create something more unique."])),(e()(),mr(12,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),mr(13,0,null,null,1,"a",[["class","btn btn-primary btn-lg"],["href","#"],["role","button"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Learn more \xbb"])),(e()(),mr(15,0,null,null,40,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),mr(16,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(e()(),mr(17,0,null,null,9,"div",[["class","col_l col-md-6 "]],null,null,null,null,null)),(e()(),mr(18,0,null,null,8,"div",[["class","box text box1"]],null,null,null,null,null)),(e()(),mr(19,0,null,null,7,"div",[["class","row vcenter"]],null,null,null,null,null)),(e()(),mr(20,0,null,null,0,"div",[["class","col-md-2"]],null,null,null,null,null)),(e()(),mr(21,0,null,null,4,"div",[["class","textbox_padding col-md-8"]],null,null,null,null,null)),(e()(),mr(22,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Ri(-1,null,["Heading"])),(e()(),mr(24,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ri(-1,null,["Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. "])),(e()(),mr(26,0,null,null,0,"div",[["class","col-md-2"]],null,null,null,null,null)),(e()(),mr(27,0,null,null,1,"div",[["class","col_r col-md-6 "]],null,null,null,null,null)),(e()(),mr(28,0,null,null,0,"div",[["class","box box2"]],null,null,null,null,null)),(e()(),mr(29,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(e()(),mr(30,0,null,null,1,"div",[["class","col_l col-md-6 "]],null,null,null,null,null)),(e()(),mr(31,0,null,null,0,"div",[["class","box box3"]],null,null,null,null,null)),(e()(),mr(32,0,null,null,9,"div",[["class","col_r col-md-6 "]],null,null,null,null,null)),(e()(),mr(33,0,null,null,8,"div",[["class","box text box4"]],null,null,null,null,null)),(e()(),mr(34,0,null,null,7,"div",[["class","row vcenter"]],null,null,null,null,null)),(e()(),mr(35,0,null,null,0,"div",[["class","col-md-2"]],null,null,null,null,null)),(e()(),mr(36,0,null,null,4,"div",[["class","textbox_padding col-md-8"]],null,null,null,null,null)),(e()(),mr(37,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Ri(-1,null,["Heading"])),(e()(),mr(39,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ri(-1,null,["Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. "])),(e()(),mr(41,0,null,null,0,"div",[["class","col-md-2"]],null,null,null,null,null)),(e()(),mr(42,0,null,null,12,"div",[["class","row"]],null,null,null,null,null)),(e()(),mr(43,0,null,null,9,"div",[["class","col_l col-md-6 "]],null,null,null,null,null)),(e()(),mr(44,0,null,null,8,"div",[["class","box text box5"]],null,null,null,null,null)),(e()(),mr(45,0,null,null,7,"div",[["class","row vcenter"]],null,null,null,null,null)),(e()(),mr(46,0,null,null,0,"div",[["class","col-md-2"]],null,null,null,null,null)),(e()(),mr(47,0,null,null,4,"div",[["class","textbox_padding col-md-8"]],null,null,null,null,null)),(e()(),mr(48,0,null,null,1,"h2",[],null,null,null,null,null)),(e()(),Ri(-1,null,["Heading"])),(e()(),mr(50,0,null,null,1,"p",[],null,null,null,null,null)),(e()(),Ri(-1,null,["Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. "])),(e()(),mr(52,0,null,null,0,"div",[["class","col-md-2"]],null,null,null,null,null)),(e()(),mr(53,0,null,null,1,"div",[["class","col_r col-md-6 "]],null,null,null,null,null)),(e()(),mr(54,0,null,null,0,"div",[["class","box box6"]],null,null,null,null,null)),(e()(),mr(55,0,null,null,0,"hr",[],null,null,null,null,null))],function(e,t){e(t,1,0,"../tutoring-session"),e(t,4,0,"../new-resource")},null)}var bp=Ar("app-index",fd,function(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"app-index",[],null,null,null,yp,Cp)),ri(1,114688,null,0,fd,[],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),Ip=Ho({encapsulation:0,styles:[[".ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}textarea[_ngcontent-%COMP%]{min-height:50px}img[_ngcontent-%COMP%]{padding:0;height:200px}.col[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}.button[_ngcontent-%COMP%]{margin:15px}.card-title[_ngcontent-%COMP%]{padding:12px 20px}"]],data:{}});function Op(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" Title is required. "]))],null,null)}function Dp(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" The minimum length is 2 letters. "]))],null,null)}function _p(e){return Ki(0,[(e()(),mr(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,Op)),ri(2,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),gr(16777216,null,null,1,null,Dp)),ri(4,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.editorForm.controls.resource_title.errors.required),e(t,4,0,null==n.editorForm.controls.resource_title.errors?null:n.editorForm.controls.resource_title.errors.minlength)},null)}function Rp(e){return Ki(0,[(e()(),mr(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,_p)),ri(2,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.editorForm.controls.resource_title.dirty||n.editorForm.controls.resource_title.touched)},null)}function wp(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" Subtitle is required. "]))],null,null)}function kp(e){return Ki(0,[(e()(),mr(0,0,null,null,2,"div",[["class","invalid_feedback"]],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,wp)),ri(2,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.editorForm.controls.resource_subTitle.dirty||n.editorForm.controls.resource_subTitle.touched)},null)}function Kp(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" Description is required. "]))],null,null)}function Sp(e){return Ki(0,[(e()(),mr(0,0,null,null,2,"div",[["class","invalid_feedback"]],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,Kp)),ri(2,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.editorForm.controls.resource_des.dirty||n.editorForm.controls.resource_des.touched)},null)}function Np(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),mr(1,0,null,null,0,"img",[["class","img-thumbnail"],["src",""]],null,null,null,null,null))],null,null)}function xp(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" Image is required. "]))],null,null)}function Ap(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" Your file should be smaller than 1MB. "]))],null,null)}function Pp(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" File extensions must be jpg, jpeg, bmp, png. "]))],null,null)}function Lp(e){return Ki(0,[(e()(),mr(0,0,null,null,6,"div",[["class","invalid_feedback"]],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,xp)),ri(2,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),gr(16777216,null,null,1,null,Ap)),ri(4,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),gr(16777216,null,null,1,null,Pp)),ri(6,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.editorForm.controls.post_image.errors.required&&(n.editorForm.controls.post_image.dirty||n.editorForm.controls.post_image.touched)),e(t,4,0,n.editorForm.controls.post_image.errors.sizeError),e(t,6,0,n.editorForm.controls.post_image.errors.extError)},null)}function Fp(e){return Ki(0,[yi(402653184,1,{ckeditor:0}),yi(402653184,2,{post_image:0}),(e()(),mr(2,0,null,null,2,"button",[["routerLink",""]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==qr(e,3).onClick()&&o),o},null,null)),ri(3,16384,null,0,Zf,[Wf,lf,[8,null],hn,fn],{routerLink:[0,"routerLink"]},null),(e()(),Ri(-1,null,["Go to index"])),(e()(),mr(5,0,null,null,2,"button",[["routerLink","../tutoring-session"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==qr(e,6).onClick()&&o),o},null,null)),ri(6,16384,null,0,Zf,[Wf,lf,[8,null],hn,fn],{routerLink:[0,"routerLink"]},null),(e()(),Ri(-1,null,["Go to tutoring session"])),(e()(),mr(8,0,null,null,73,"div",[["class","container"]],null,null,null,null,null)),(e()(),mr(9,0,null,null,72,"div",[["class","row"]],null,null,null,null,null)),(e()(),mr(10,0,null,null,62,"div",[["class","col col-lg-9 col-md-12"]],null,null,null,null,null)),(e()(),mr(11,0,null,null,1,"h3",[["class","text-left"]],null,null,null,null,null)),(e()(),Ri(-1,null,["New Resource"])),(e()(),mr(13,0,null,null,59,"div",[["ng-controller","formController as fc"]],null,null,null,null,null)),(e()(),mr(14,0,null,null,58,"form",[["id","editorForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0,r=e.component;return"submit"===t&&(o=!1!==qr(e,16).onSubmit(n)&&o),"reset"===t&&(o=!1!==qr(e,16).onReset()&&o),"ngSubmit"===t&&(o=!1!==r.processForm(r.editorForm)&&o),o},null,null)),ri(15,16384,null,0,ld,[],null,null),ri(16,540672,null,0,nd,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),ai(2048,null,fc,null,[nd]),ri(18,16384,null,0,Wc,[[4,fc]],null,null),(e()(),mr(19,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),mr(20,0,null,null,1,"label",[["class","center-block"],["for","resourceTitle"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Title:"])),(e()(),mr(22,0,null,null,5,"input",[["class","form-control"],["formControlName","resource_title"],["id","resourceTitle"],["placeholder","Enter title"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==qr(e,23)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==qr(e,23).onTouched()&&o),"compositionstart"===t&&(o=!1!==qr(e,23)._compositionStart()&&o),"compositionend"===t&&(o=!1!==qr(e,23)._compositionEnd(n.target.value)&&o),o},null,null)),ri(23,16384,null,0,Ic,[hn,fn,[2,bc]],null,null),ai(1024,null,Cc,function(e){return[e]},[Ic]),ri(25,671744,null,0,ad,[[3,fc],[8,null],[8,null],[6,Cc],[2,td]],{name:[0,"name"]},null),ai(2048,null,wc,null,[ad]),ri(27,16384,null,0,zc,[[4,wc]],null,null),(e()(),gr(16777216,null,null,1,null,Rp)),ri(29,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),mr(30,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),mr(31,0,null,null,1,"label",[["class","center-block"],["for","resourceSubTitle"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Subtitle:"])),(e()(),mr(33,0,null,null,5,"input",[["class","form-control"],["formControlName","resource_subTitle"],["id","resourceSubTitle"],["placeholder","Enter subtitle"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==qr(e,34)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==qr(e,34).onTouched()&&o),"compositionstart"===t&&(o=!1!==qr(e,34)._compositionStart()&&o),"compositionend"===t&&(o=!1!==qr(e,34)._compositionEnd(n.target.value)&&o),o},null,null)),ri(34,16384,null,0,Ic,[hn,fn,[2,bc]],null,null),ai(1024,null,Cc,function(e){return[e]},[Ic]),ri(36,671744,null,0,ad,[[3,fc],[8,null],[8,null],[6,Cc],[2,td]],{name:[0,"name"]},null),ai(2048,null,wc,null,[ad]),ri(38,16384,null,0,zc,[[4,wc]],null,null),(e()(),gr(16777216,null,null,1,null,kp)),ri(40,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),mr(41,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),mr(42,0,null,null,1,"label",[["class","center-block"],["for","resourceDes"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Description:"])),(e()(),mr(44,0,null,null,5,"textarea",[["class","form-control"],["formControlName","resource_des"],["id","resourceDes"],["placeholder","Enter description"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==qr(e,45)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==qr(e,45).onTouched()&&o),"compositionstart"===t&&(o=!1!==qr(e,45)._compositionStart()&&o),"compositionend"===t&&(o=!1!==qr(e,45)._compositionEnd(n.target.value)&&o),o},null,null)),ri(45,16384,null,0,Ic,[hn,fn,[2,bc]],null,null),ai(1024,null,Cc,function(e){return[e]},[Ic]),ri(47,671744,null,0,ad,[[3,fc],[8,null],[8,null],[6,Cc],[2,td]],{name:[0,"name"]},null),ai(2048,null,wc,null,[ad]),ri(49,16384,null,0,zc,[[4,wc]],null,null),(e()(),gr(16777216,null,null,1,null,Sp)),ri(51,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),mr(52,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),mr(53,0,null,null,1,"label",[["class","center-block"],["for","post_image"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Image:"])),(e()(),mr(55,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),mr(56,0,[[2,0],["post_image",1]],null,5,"input",[["formControlName","post_image"],["id","post_image"],["type","file"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0,r=e.component;return"input"===t&&(o=!1!==qr(e,57)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==qr(e,57).onTouched()&&o),"compositionstart"===t&&(o=!1!==qr(e,57)._compositionStart()&&o),"compositionend"===t&&(o=!1!==qr(e,57)._compositionEnd(n.target.value)&&o),"change"===t&&(o=!1!==r.onChange(n)&&o),o},null,null)),ri(57,16384,null,0,Ic,[hn,fn,[2,bc]],null,null),ai(1024,null,Cc,function(e){return[e]},[Ic]),ri(59,671744,null,0,ad,[[3,fc],[8,null],[8,null],[6,Cc],[2,td]],{name:[0,"name"]},null),ai(2048,null,wc,null,[ad]),ri(61,16384,null,0,zc,[[4,wc]],null,null),(e()(),mr(62,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,Np)),ri(64,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),gr(16777216,null,null,1,null,Lp)),ri(66,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),mr(67,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),mr(68,0,null,null,0,"textarea",[["cols","80"],["id","editor1"],["name","editor1"],["rows","8"]],null,null,null,null,null)),(e()(),mr(69,0,null,null,3,"div",[["class","row"]],null,null,null,null,null)),(e()(),mr(70,0,null,null,2,"div",[["class","button"]],null,null,null,null,null)),(e()(),mr(71,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.saveClick()&&o),o},null,null)),(e()(),Ri(-1,null,["Save"])),(e()(),mr(73,0,null,null,8,"div",[["class","col col-lg-3 d-none d-lg-block"]],null,null,null,null,null)),(e()(),mr(74,0,null,null,7,"div",[["class","card"]],null,null,null,null,null)),(e()(),mr(75,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(e()(),mr(76,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ri(-1,null,["Create a new resource"])),(e()(),mr(78,0,null,null,3,"div",[["class","card-block"]],null,null,null,null,null)),(e()(),mr(79,0,null,null,1,"h6",[["class","card-title"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Resource"])),(e()(),mr(81,0,null,null,0,"p",[["class","card-text"]],null,null,null,null,null)),(e()(),mr(82,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Ri(83,null,["Form value: ",""])),ii(0,vl,[]),(e()(),mr(85,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Ri(86,null,["Form status: ",""])),ii(0,vl,[]),(e()(),mr(88,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Ri(89,null,["Form value: ",""])),ii(0,vl,[])],function(e,t){var n=t.component;e(t,3,0,""),e(t,6,0,"../tutoring-session"),e(t,16,0,n.editorForm),e(t,25,0,"resource_title"),e(t,29,0,n.editorForm.controls.resource_title.invalid),e(t,36,0,"resource_subTitle"),e(t,40,0,n.editorForm.controls.resource_subTitle.invalid),e(t,47,0,"resource_des"),e(t,51,0,n.editorForm.controls.resource_des.invalid),e(t,59,0,"post_image"),e(t,64,0,n.editorForm.controls.post_image.value&&n.editorForm.controls.post_image.valid),e(t,66,0,n.editorForm.controls.post_image.invalid)},function(e,t){var n=t.component;e(t,14,0,qr(t,18).ngClassUntouched,qr(t,18).ngClassTouched,qr(t,18).ngClassPristine,qr(t,18).ngClassDirty,qr(t,18).ngClassValid,qr(t,18).ngClassInvalid,qr(t,18).ngClassPending),e(t,22,0,qr(t,27).ngClassUntouched,qr(t,27).ngClassTouched,qr(t,27).ngClassPristine,qr(t,27).ngClassDirty,qr(t,27).ngClassValid,qr(t,27).ngClassInvalid,qr(t,27).ngClassPending),e(t,33,0,qr(t,38).ngClassUntouched,qr(t,38).ngClassTouched,qr(t,38).ngClassPristine,qr(t,38).ngClassDirty,qr(t,38).ngClassValid,qr(t,38).ngClassInvalid,qr(t,38).ngClassPending),e(t,44,0,qr(t,49).ngClassUntouched,qr(t,49).ngClassTouched,qr(t,49).ngClassPristine,qr(t,49).ngClassDirty,qr(t,49).ngClassValid,qr(t,49).ngClassInvalid,qr(t,49).ngClassPending),e(t,56,0,qr(t,61).ngClassUntouched,qr(t,61).ngClassTouched,qr(t,61).ngClassPristine,qr(t,61).ngClassDirty,qr(t,61).ngClassValid,qr(t,61).ngClassInvalid,qr(t,61).ngClassPending),e(t,83,0,Bo(t,83,0,qr(t,84).transform(n.editorForm.value))),e(t,86,0,Bo(t,86,0,qr(t,87).transform(n.editorForm.status))),e(t,89,0,Bo(t,89,0,qr(t,90).transform(n.editorForm.controls.resource_title.value)))})}var Mp=Ar("app-new-resource",hd,function(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"app-new-resource",[],null,null,null,Fp,Ip)),ri(1,114688,null,0,hd,[eu,sd,bn],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),Bp=Ho({encapsulation:0,styles:[[".s4[_ngcontent-%COMP%]{margin:0}.card-header[_ngcontent-%COMP%]{padding:4px 12px}"]],data:{}});function $p(e){return Ki(0,[(e()(),mr(0,0,null,null,6,"div",[],null,null,null,null,null)),(e()(),mr(1,0,null,null,3,"h5",[["class","s2 card-title"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Report: "])),(e()(),mr(3,0,null,null,1,"button",[["class","btn-sm float-right"],["type","button"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Edit"])),(e()(),mr(5,0,null,null,1,"p",[["class","s4 card-text"]],null,null,null,null,null)),(e()(),Ri(6,null,["",""]))],null,function(e,t){e(t,6,0,t.component._session.report)})}function Vp(e){return Ki(0,[ii(0,El,[Xn]),(e()(),mr(1,0,null,null,2,"button",[["routerLink",""]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==qr(e,2).onClick()&&o),o},null,null)),ri(2,16384,null,0,Zf,[Wf,lf,[8,null],hn,fn],{routerLink:[0,"routerLink"]},null),(e()(),Ri(-1,null,["Go to index"])),(e()(),mr(4,0,null,null,37,"div",[["class","container-fluid"]],null,null,null,null,null)),(e()(),mr(5,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(e()(),mr(6,0,null,null,35,"div",[["class","col-12 col-md-8 col-lg-8"]],null,null,null,null,null)),(e()(),mr(7,0,null,null,34,"div",[["class","card"]],null,null,null,null,null)),(e()(),mr(8,0,null,null,10,"div",[["class","card-header"]],null,null,null,null,null)),(e()(),mr(9,0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(e()(),mr(10,0,null,null,8,"div",[["class","col-md-6 float"]],null,null,null,null,null)),(e()(),mr(11,0,null,null,7,"p",[["class","s4"]],null,null,null,null,null)),(e()(),Ri(12,null,[""," Session "])),(e()(),mr(13,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),Ri(14,null,[" ","hr "," with "," "])),(e()(),mr(15,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),mr(16,0,null,null,2,"span",[["ng-controller","datCtrl"]],null,null,null,null,null)),(e()(),Ri(17,null,[" "," "])),function(e,t,n){for(var o=new Array(n.length),r=0;r<n.length;r++){var i=n[r];o[r]={flags:8,name:i,ns:null,nonMinifiedName:i,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:18,flags:128,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:o,bindingFlags:pr(o),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,0,new Array(3)),(e()(),mr(19,0,null,null,22,"div",[["class","card-body"]],null,null,null,null,null)),(e()(),mr(20,0,null,null,1,"p",[["class","s4 card-text"]],null,null,null,null,null)),(e()(),Ri(21,null,["",""])),(e()(),mr(22,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),mr(23,0,null,null,3,"h5",[["class","s2 card-title"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Detials: "])),(e()(),mr(25,0,null,null,1,"button",[["class","btn-sm float-right"],["type","button"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Edit"])),(e()(),mr(27,0,null,null,1,"p",[["class","s4 card-text"]],null,null,null,null,null)),(e()(),Ri(28,null,["Details of Session...",""])),(e()(),mr(29,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),mr(30,0,null,null,1,"h5",[["class","s2 card-title"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Student Requirements:"])),(e()(),mr(32,0,null,null,1,"p",[["class","s4 card-text"]],null,null,null,null,null)),(e()(),Ri(33,null,["Student Requirements...",""])),(e()(),mr(34,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),mr(35,0,null,null,1,"h5",[["class","s2 card-title"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Teaching Method:"])),(e()(),mr(37,0,null,null,1,"p",[["class","s4 card-text"]],null,null,null,null,null)),(e()(),Ri(38,null,["...",""])),(e()(),mr(39,0,null,null,0,"hr",[],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,$p)),ri(41,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,""),e(t,41,0,n.isValidForm())},function(e,t){var n=t.component;e(t,12,0,n._session.state),e(t,14,0,n._session.expectDuration,n._session.subject,n._session.studentName),e(t,17,0,Bo(t,17,0,e(t,18,0,qr(t,0),n._session.date,"ha, EEEE, d MMMM y"))),e(t,21,0,n._session.location),e(t,28,0,n._session.sessionDetail),e(t,33,0,n._session.studentRequirement),e(t,38,0,n._session.teachingMethod)})}var Hp=Ar("app-tutoring-session",gd,function(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"app-tutoring-session",[],null,null,null,Vp,Bp)),ri(1,114688,null,0,gd,[],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),jp=Ho({encapsulation:0,styles:[[".ng-invalid[_ngcontent-%COMP%]:not(form){border-left:5px solid #a94442}textarea[_ngcontent-%COMP%]{min-height:50px}img[_ngcontent-%COMP%]{padding:0;height:200px}.col[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:10px}.form-group[_ngcontent-%COMP%]{margin-bottom:10px}.button[_ngcontent-%COMP%]{margin:15px}.card-title[_ngcontent-%COMP%]{padding:12px 20px}"]],data:{}});function Up(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" Title is required. "]))],null,null)}function qp(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" The minimum length is 2 letters. "]))],null,null)}function zp(e){return Ki(0,[(e()(),mr(0,0,null,null,4,"div",[],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,Up)),ri(2,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),gr(16777216,null,null,1,null,qp)),ri(4,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.editorForm.controls.resource_title.errors.required),e(t,4,0,null==n.editorForm.controls.resource_title.errors?null:n.editorForm.controls.resource_title.errors.minlength)},null)}function Wp(e){return Ki(0,[(e()(),mr(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,zp)),ri(2,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.editorForm.controls.resource_title.dirty||n.editorForm.controls.resource_title.touched)},null)}function Gp(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" Subtitle is required. "]))],null,null)}function Xp(e){return Ki(0,[(e()(),mr(0,0,null,null,2,"div",[["class","invalid_feedback"]],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,Gp)),ri(2,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.editorForm.controls.resource_subTitle.dirty||n.editorForm.controls.resource_subTitle.touched)},null)}function Zp(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" Description is required. "]))],null,null)}function Yp(e){return Ki(0,[(e()(),mr(0,0,null,null,2,"div",[["class","invalid_feedback"]],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,Zp)),ri(2,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.editorForm.controls.resource_des.dirty||n.editorForm.controls.resource_des.touched)},null)}function Qp(e){return Ki(0,[(e()(),mr(0,0,null,null,3,"div",[],null,null,null,null,null)),(e()(),mr(1,0,null,null,1,"p",[["style","margin:2px;"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Preview:"])),(e()(),mr(3,0,null,null,0,"img",[["class","img-thumbnail"]],[[8,"src",4]],null,null,null,null))],null,function(e,t){var n,o=t.component;e(t,3,0,"http://learnspace.co.nz/api/public/community/postpics/"+(null!=(n=null==o.tutorPost?null:o.tutorPost.post_image)?n.toString():""))})}function Jp(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" Image is required. "]))],null,null)}function eg(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" Your file should be smaller than 1MB. "]))],null,null)}function tg(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"div",[],null,null,null,null,null)),(e()(),Ri(-1,null,[" File extensions must be jpg, jpeg, bmp, png. "]))],null,null)}function ng(e){return Ki(0,[(e()(),mr(0,0,null,null,6,"div",[["class","invalid_feedback"]],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,Jp)),ri(2,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),gr(16777216,null,null,1,null,eg)),ri(4,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),gr(16777216,null,null,1,null,tg)),ri(6,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null)],function(e,t){var n=t.component;e(t,2,0,n.editorForm.controls.post_image.errors.required&&(n.editorForm.controls.post_image.dirty||n.editorForm.controls.post_image.touched)),e(t,4,0,n.editorForm.controls.post_image.errors.sizeError),e(t,6,0,n.editorForm.controls.post_image.errors.extError)},null)}function og(e){return Ki(0,[yi(402653184,1,{ckeditor:0}),yi(402653184,2,{post_image:0}),(e()(),mr(2,0,null,null,2,"button",[["routerLink",""]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==qr(e,3).onClick()&&o),o},null,null)),ri(3,16384,null,0,Zf,[Wf,lf,[8,null],hn,fn],{routerLink:[0,"routerLink"]},null),(e()(),Ri(-1,null,["Go to index"])),(e()(),mr(5,0,null,null,2,"button",[["routerLink","../tutoring-session"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==qr(e,6).onClick()&&o),o},null,null)),ri(6,16384,null,0,Zf,[Wf,lf,[8,null],hn,fn],{routerLink:[0,"routerLink"]},null),(e()(),Ri(-1,null,["Go to tutoring session"])),(e()(),mr(8,0,null,null,76,"div",[["class","container"]],null,null,null,null,null)),(e()(),mr(9,0,null,null,75,"div",[["class","row"]],null,null,null,null,null)),(e()(),mr(10,0,null,null,65,"div",[["class","col col-lg-9 col-md-12"]],null,null,null,null,null)),(e()(),mr(11,0,null,null,1,"h3",[["class","text-left"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Update"])),(e()(),mr(13,0,null,null,62,"div",[["ng-controller","formController as fc"]],null,null,null,null,null)),(e()(),mr(14,0,null,null,61,"form",[["id","editorForm"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],function(e,t,n){var o=!0,r=e.component;return"submit"===t&&(o=!1!==qr(e,16).onSubmit(n)&&o),"reset"===t&&(o=!1!==qr(e,16).onReset()&&o),"ngSubmit"===t&&(o=!1!==r.processForm(r.editorForm)&&o),o},null,null)),ri(15,16384,null,0,ld,[],null,null),ri(16,540672,null,0,nd,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),ai(2048,null,fc,null,[nd]),ri(18,16384,null,0,Wc,[[4,fc]],null,null),(e()(),mr(19,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),mr(20,0,null,null,1,"label",[["class","center-block"],["for","resourceTitle"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Title:"])),(e()(),mr(22,0,null,null,5,"input",[["class","form-control"],["formControlName","resource_title"],["id","resourceTitle"],["placeholder","Enter title"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==qr(e,23)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==qr(e,23).onTouched()&&o),"compositionstart"===t&&(o=!1!==qr(e,23)._compositionStart()&&o),"compositionend"===t&&(o=!1!==qr(e,23)._compositionEnd(n.target.value)&&o),o},null,null)),ri(23,16384,null,0,Ic,[hn,fn,[2,bc]],null,null),ai(1024,null,Cc,function(e){return[e]},[Ic]),ri(25,671744,null,0,ad,[[3,fc],[8,null],[8,null],[6,Cc],[2,td]],{name:[0,"name"]},null),ai(2048,null,wc,null,[ad]),ri(27,16384,null,0,zc,[[4,wc]],null,null),(e()(),gr(16777216,null,null,1,null,Wp)),ri(29,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),mr(30,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),mr(31,0,null,null,1,"label",[["class","center-block"],["for","resourceSubTitle"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Subtitle:"])),(e()(),mr(33,0,null,null,5,"input",[["class","form-control"],["formControlName","resource_subTitle"],["id","resourceSubTitle"],["placeholder","Enter subtitle"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==qr(e,34)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==qr(e,34).onTouched()&&o),"compositionstart"===t&&(o=!1!==qr(e,34)._compositionStart()&&o),"compositionend"===t&&(o=!1!==qr(e,34)._compositionEnd(n.target.value)&&o),o},null,null)),ri(34,16384,null,0,Ic,[hn,fn,[2,bc]],null,null),ai(1024,null,Cc,function(e){return[e]},[Ic]),ri(36,671744,null,0,ad,[[3,fc],[8,null],[8,null],[6,Cc],[2,td]],{name:[0,"name"]},null),ai(2048,null,wc,null,[ad]),ri(38,16384,null,0,zc,[[4,wc]],null,null),(e()(),gr(16777216,null,null,1,null,Xp)),ri(40,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),mr(41,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),mr(42,0,null,null,1,"label",[["class","center-block"],["for","resourceDes"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Description:"])),(e()(),mr(44,0,null,null,5,"textarea",[["class","form-control"],["formControlName","resource_des"],["id","resourceDes"],["placeholder","Enter description"],["rows","3"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0;return"input"===t&&(o=!1!==qr(e,45)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==qr(e,45).onTouched()&&o),"compositionstart"===t&&(o=!1!==qr(e,45)._compositionStart()&&o),"compositionend"===t&&(o=!1!==qr(e,45)._compositionEnd(n.target.value)&&o),o},null,null)),ri(45,16384,null,0,Ic,[hn,fn,[2,bc]],null,null),ai(1024,null,Cc,function(e){return[e]},[Ic]),ri(47,671744,null,0,ad,[[3,fc],[8,null],[8,null],[6,Cc],[2,td]],{name:[0,"name"]},null),ai(2048,null,wc,null,[ad]),ri(49,16384,null,0,zc,[[4,wc]],null,null),(e()(),gr(16777216,null,null,1,null,Yp)),ri(51,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),mr(52,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),mr(53,0,null,null,1,"label",[["class","center-block"],["for","post_image"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Image:"])),(e()(),mr(55,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),mr(56,0,[[2,0],["post_image",1]],null,5,"input",[["formControlName","post_image"],["id","post_image"],["type","file"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(e,t,n){var o=!0,r=e.component;return"input"===t&&(o=!1!==qr(e,57)._handleInput(n.target.value)&&o),"blur"===t&&(o=!1!==qr(e,57).onTouched()&&o),"compositionstart"===t&&(o=!1!==qr(e,57)._compositionStart()&&o),"compositionend"===t&&(o=!1!==qr(e,57)._compositionEnd(n.target.value)&&o),"change"===t&&(o=!1!==r.onChange(n)&&o),o},null,null)),ri(57,16384,null,0,Ic,[hn,fn,[2,bc]],null,null),ai(1024,null,Cc,function(e){return[e]},[Ic]),ri(59,671744,null,0,ad,[[3,fc],[8,null],[8,null],[6,Cc],[2,td]],{name:[0,"name"]},null),ai(2048,null,wc,null,[ad]),ri(61,16384,null,0,zc,[[4,wc]],null,null),(e()(),mr(62,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),gr(16777216,null,null,1,null,Qp)),ri(64,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),gr(16777216,null,null,1,null,ng)),ri(66,16384,null,0,pl,[yn,Cn],{ngIf:[0,"ngIf"]},null),(e()(),mr(67,0,null,null,1,"div",[["class","form-group"]],null,null,null,null,null)),(e()(),mr(68,0,null,null,0,"textarea",[["cols","80"],["id","editor1"],["name","editor1"],["rows","8"]],null,null,null,null,null)),(e()(),mr(69,0,null,null,6,"div",[["class","row"]],null,null,null,null,null)),(e()(),mr(70,0,null,null,2,"div",[["class","button"]],null,null,null,null,null)),(e()(),mr(71,0,null,null,1,"button",[["class","btn btn-primary"],["type","submit"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.saveClick()&&o),o},null,null)),(e()(),Ri(-1,null,["Save"])),(e()(),mr(73,0,null,null,2,"div",[["class","button"]],null,null,null,null,null)),(e()(),mr(74,0,null,null,1,"button",[["class","btn btn-danger"],["type","submit"]],null,[[null,"click"]],function(e,t,n){var o=!0;return"click"===t&&(o=!1!==e.component.publishClick()&&o),o},null,null)),(e()(),Ri(-1,null,["Publish"])),(e()(),mr(76,0,null,null,8,"div",[["class","col col-lg-3 d-none d-lg-block"]],null,null,null,null,null)),(e()(),mr(77,0,null,null,7,"div",[["class","card"]],null,null,null,null,null)),(e()(),mr(78,0,null,null,2,"div",[["class","card-header"]],null,null,null,null,null)),(e()(),mr(79,0,null,null,1,"h4",[],null,null,null,null,null)),(e()(),Ri(-1,null,["Create a new resource"])),(e()(),mr(81,0,null,null,3,"div",[["class","card-block"]],null,null,null,null,null)),(e()(),mr(82,0,null,null,1,"h6",[["class","card-title"]],null,null,null,null,null)),(e()(),Ri(-1,null,["Resource"])),(e()(),mr(84,0,null,null,0,"p",[["class","card-text"]],null,null,null,null,null)),(e()(),mr(85,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Ri(86,null,["Form value: ",""])),ii(0,vl,[]),(e()(),mr(88,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Ri(89,null,["Form status: ",""])),ii(0,vl,[]),(e()(),mr(91,0,null,null,2,"p",[],null,null,null,null,null)),(e()(),Ri(92,null,["Form value: ",""])),ii(0,vl,[])],function(e,t){var n=t.component;e(t,3,0,""),e(t,6,0,"../tutoring-session"),e(t,16,0,n.editorForm),e(t,25,0,"resource_title"),e(t,29,0,n.editorForm.controls.resource_title.invalid),e(t,36,0,"resource_subTitle"),e(t,40,0,n.editorForm.controls.resource_subTitle.invalid),e(t,47,0,"resource_des"),e(t,51,0,n.editorForm.controls.resource_des.invalid),e(t,59,0,"post_image"),e(t,64,0,n.editorForm.controls.post_image.value&&n.editorForm.controls.post_image.valid||n.imageExistence&&n.editorForm.controls.post_image.valid),e(t,66,0,n.editorForm.controls.post_image.invalid)},function(e,t){var n=t.component;e(t,14,0,qr(t,18).ngClassUntouched,qr(t,18).ngClassTouched,qr(t,18).ngClassPristine,qr(t,18).ngClassDirty,qr(t,18).ngClassValid,qr(t,18).ngClassInvalid,qr(t,18).ngClassPending),e(t,22,0,qr(t,27).ngClassUntouched,qr(t,27).ngClassTouched,qr(t,27).ngClassPristine,qr(t,27).ngClassDirty,qr(t,27).ngClassValid,qr(t,27).ngClassInvalid,qr(t,27).ngClassPending),e(t,33,0,qr(t,38).ngClassUntouched,qr(t,38).ngClassTouched,qr(t,38).ngClassPristine,qr(t,38).ngClassDirty,qr(t,38).ngClassValid,qr(t,38).ngClassInvalid,qr(t,38).ngClassPending),e(t,44,0,qr(t,49).ngClassUntouched,qr(t,49).ngClassTouched,qr(t,49).ngClassPristine,qr(t,49).ngClassDirty,qr(t,49).ngClassValid,qr(t,49).ngClassInvalid,qr(t,49).ngClassPending),e(t,56,0,qr(t,61).ngClassUntouched,qr(t,61).ngClassTouched,qr(t,61).ngClassPristine,qr(t,61).ngClassDirty,qr(t,61).ngClassValid,qr(t,61).ngClassInvalid,qr(t,61).ngClassPending),e(t,86,0,Bo(t,86,0,qr(t,87).transform(n.editorForm.value))),e(t,89,0,Bo(t,89,0,qr(t,90).transform(n.editorForm.status))),e(t,92,0,Bo(t,92,0,qr(t,93).transform(n.editorForm.controls.resource_title.value)))})}var rg=Ar("app-update-resource",md,function(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"app-update-resource",[],null,null,null,og,jp)),ri(1,114688,null,0,md,[eu,sd,bn],null,null)],function(e,t){e(t,1,0)},null)},{},{},[]),ig=Ho({encapsulation:0,styles:[[""]],data:{}});function ag(e){return Ki(0,[(e()(),mr(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ri(1,212992,null,0,ep,[Jf,yn,St,[8,null],bn],null,null)],function(e,t){e(t,1,0)},null)}var sg=Ar("app-root",vd,function(e){return Ki(0,[(e()(),mr(0,0,null,null,1,"app-root",[],null,null,null,ag,ig)),ri(1,49152,null,0,vd,[],null,null)],null,null)},{},{},[]),lg=function(){};new fe("Location Initialized"),new fe("appBaseHref");var ug=function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.subscribe({next:t,error:function(e){throw e}})},e.prototype.dispose=function(e){e.unsubscribe()},e.prototype.onDestroy=function(e){e.unsubscribe()},e}();function cg(e){return function(t,n){var o=e(t,n);return 1==o.length?"0"+o:o}}function dg(e){return function(t,n){return e(t,n).split(" ")[0]}}function hg(e,t,n){return new Intl.DateTimeFormat(t,n).format(e).replace(/[\u200e\u200f]/g,"")}function fg(e){var t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,n){var o=hg(e,n,t);return o?o.substring(3):""}}function pg(e,t){return e.hour12=t,e}function gg(e,t){var n={};return n[e]=2===t?"2-digit":"numeric",n}function mg(e,t){var n={};return n[e]=t<4?t>1?"short":"narrow":"long",n}function Eg(e){return Object.assign.apply(Object,[{}].concat(e))}function vg(e){return function(t,n){return hg(t,n,e)}}new(function(){function e(){}return e.prototype.createSubscription=function(e,t){return e.then(t,function(e){throw e})},e.prototype.dispose=function(e){},e.prototype.onDestroy=function(e){},e}()),new ug,vg(Eg([gg("year",1),mg("month",3),gg("day",1),gg("hour",1),gg("minute",1),gg("second",1)])),vg(Eg([gg("year",1),gg("month",1),gg("day",1),gg("hour",1),gg("minute",1)])),vg(Eg([gg("year",1),mg("month",4),mg("weekday",4),gg("day",1)])),vg(Eg([gg("year",1),mg("month",4),gg("day",1)])),vg(Eg([gg("year",1),mg("month",3),gg("day",1)])),vg(Eg([gg("year",1),gg("month",1),gg("day",1)])),vg(Eg([gg("hour",1),gg("second",1),gg("minute",1)])),vg(Eg([gg("hour",1),gg("minute",1)])),vg(gg("year",4)),vg(gg("year",2)),vg(gg("year",1)),vg(mg("month",4)),vg(mg("month",3)),vg(gg("month",2)),vg(gg("month",1)),vg(mg("month",4)),vg(mg("month",1)),vg(gg("day",2)),vg(gg("day",1)),cg(dg(vg(pg(gg("hour",2),!1)))),dg(vg(pg(gg("hour",1),!1))),cg(dg(vg(pg(gg("hour",2),!0)))),dg(vg(pg(gg("hour",1),!0))),vg(gg("hour",2)),vg(gg("hour",1)),cg(vg(gg("minute",2))),vg(gg("minute",1)),cg(vg(gg("second",2))),vg(gg("second",1)),vg(gg("second",3)),vg(mg("weekday",4)),vg(mg("weekday",3)),vg(mg("weekday",2)),vg(mg("weekday",1)),vg(pg(gg("hour",1),!0)),fg("short"),fg("long"),vg({}),vg({}),vg(mg("era",1)),vg(mg("era",2)),vg(mg("era",3)),vg(mg("era",4)),new Map,new tt("4.1.3");var Tg=function(){},Cg=function(e,t,n){return new Fa(Ed,[vd],function(e){return function(e){for(var t={},n=[],o=!1,r=0;r<e.length;r++){var i=e[r];i.token===ct&&(o=!0),1073741824&i.flags&&n.push(i.token),i.index=r,t[Mo(i.token)]=i}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:o}}([Dr(512,St,Nt,[[8,[bp,Mp,Hp,rg,sg]],[3,St],At]),Dr(5120,Xn,Qn,[[3,Xn]]),Dr(4608,dl,hl,[Xn,[2,cl]]),Dr(5120,gt,mt,[]),Dr(5120,jn,Zn,[]),Dr(5120,Un,Yn,[]),Dr(4608,tc,nc,[Cl]),Dr(6144,Oo,null,[tc]),Dr(4608,Xu,Zu,[]),Dr(5120,bu,function(e,t,n,o,r,i,a){return[new Wu(e,t,n),new ec(o),new Yu(r,i,a)]},[Cl,Vt,[2,Tt],Cl,Cl,Xu,yt]),Dr(4608,Iu,Iu,[bu,Vt]),Dr(135680,_u,_u,[Cl]),Dr(4608,xu,xu,[Iu,_u]),Dr(6144,cn,null,[xu]),Dr(6144,Du,null,[_u]),Dr(4608,Xt,Xt,[Vt]),Dr(4608,pu,pu,[Cl]),Dr(4608,vu,vu,[Cl]),Dr(4608,lg,lg,[]),Dr(4608,kc,kc,[]),Dr(4608,Gl,Xl,[Cl,Tt,zl]),Dr(4608,Zl,Zl,[Gl,Wl]),Dr(5120,$l,function(e){return[e]},[Zl]),Dr(4608,Ul,Ul,[]),Dr(6144,jl,null,[Ul]),Dr(4608,ql,ql,[jl]),Dr(6144,Il,null,[ql]),Dr(4608,bl,Yl,[Il,Fe]),Dr(4608,Ml,Ml,[bl]),Dr(4608,sd,sd,[]),Dr(5120,lf,gp,[Wf]),Dr(4608,rp,rp,[]),Dr(6144,np,null,[rp]),Dr(135680,ip,ip,[Wf,pn,It,Fe,np]),Dr(4608,op,op,[]),Dr(5120,Tp,vp,[mp]),Dr(5120,Ct,function(e){return[e]},[Tp]),Dr(4608,eu,eu,[Ml]),Dr(1073742336,Tl,Tl,[]),Dr(1024,ut,cc,[]),Dr(1024,nn,function(){return[up()]},[]),Dr(512,mp,mp,[Fe]),Dr(1024,ft,function(e,t){return[(n=e,Tu("probe",yu),Tu("coreTokens",i({},Cu,(n||[]).reduce(function(e,t){return e[t.name]=t.token,e},{}))),function(){return yu}),Ep(t)];var n},[[2,nn],mp]),Dr(512,pt,pt,[[2,ft]]),Dr(131584,ln,ln,[Vt,yt,Fe,ut,St,pt]),Dr(1073742336,Jn,Jn,[ln]),Dr(1073742336,dc,dc,[[3,dc]]),Dr(1073742336,Tg,Tg,[]),Dr(1024,sp,hp,[[3,Wf]]),Dr(512,kh,Kh,[]),Dr(512,Jf,Jf,[]),Dr(256,ap,{},[]),Dr(1024,Ds,dp,[Is,[2,_s],ap]),Dr(512,Rs,Rs,[Ds]),Dr(512,It,It,[]),Dr(512,pn,vn,[It,[2,mn]]),Dr(1024,Vf,function(){return[[{path:"",component:fd},{path:"new-resource",component:hd},{path:"tutoring-session",component:gd},{path:"update-resource",component:md}]]},[]),Dr(1024,Wf,pp,[ln,kh,Jf,Rs,Fe,pn,It,Vf,ap,[2,jf],[2,Bf]]),Dr(1073742336,cp,cp,[[2,sp],[2,Wf]]),Dr(1073742336,ud,ud,[]),Dr(1073742336,cd,cd,[]),Dr(1073742336,Ql,Ql,[]),Dr(1073742336,Jl,Jl,[]),Dr(1073742336,dd,dd,[]),Dr(1073742336,Ed,Ed,[]),Dr(256,ct,!0,[]),Dr(256,zl,"XSRF-TOKEN",[]),Dr(256,Wl,"X-XSRF-TOKEN",[])])})}();(function(){if(Jt)throw new Error("Cannot enable prod mode after platform setup.");Qt=!1})(),uc().bootstrapModuleFactory(Cg).catch(function(e){return console.log(e)})}},[[5,0]]]);